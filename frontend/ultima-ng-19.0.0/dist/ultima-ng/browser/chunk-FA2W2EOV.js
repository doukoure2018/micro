import{a as Ae,b as Ve}from"./chunk-5ZG53BB4.js";import{a as Se,b as ye,c as Ee}from"./chunk-Q5MOEBGQ.js";import{a as ke}from"./chunk-ZT3TTGVJ.js";import{b as Ie}from"./chunk-2VJNGR3L.js";import{a as we,b as Te}from"./chunk-E24E7YRI.js";import{a as me,b as pe}from"./chunk-GBSAZIIF.js";import{a as se,b as ce}from"./chunk-F6BLPIFZ.js";import"./chunk-SQPWYWAP.js";import"./chunk-TOQUJNDH.js";import{c as ie,d as re}from"./chunk-JK4JG2UW.js";import{b as ge}from"./chunk-3VC7NE7E.js";import{a as _e,b as Ce}from"./chunk-5YYAURUY.js";import{a as de,b as ue}from"./chunk-ML3LU6MO.js";import{a as Pe,d as he,e as fe,k as Me}from"./chunk-SRGIHKGJ.js";import"./chunk-KLDL5O4H.js";import"./chunk-PXEEYFPS.js";import"./chunk-4MNJFNZT.js";import"./chunk-7A4CRAMP.js";import"./chunk-3WTE2CKQ.js";import"./chunk-LA2FUI34.js";import"./chunk-ZNTL7BEM.js";import{a as ve,b as Oe}from"./chunk-QZOXHZZK.js";import"./chunk-MPVO6A2U.js";import"./chunk-D6YNXGTA.js";import"./chunk-ED7TFTUL.js";import"./chunk-MZ7FZGG3.js";import{a as xe,b as be}from"./chunk-C4WQ325L.js";import"./chunk-HNZBC55R.js";import"./chunk-J62YMCRW.js";import"./chunk-J6B6CWYC.js";import"./chunk-IEQZB3PI.js";import"./chunk-ATSSA22C.js";import{a as ae,b as le}from"./chunk-BGHZ5NVU.js";import"./chunk-XYTTGGFW.js";import"./chunk-ZNT52ZF3.js";import"./chunk-Z7KSDRLV.js";import"./chunk-N4Q6Z3MW.js";import"./chunk-2O7XYKW4.js";import"./chunk-RHLJ6NE2.js";import{a as Y,b as K}from"./chunk-R2ZYXRFE.js";import{a as te,b as ne}from"./chunk-NRZ4QNP7.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{a as Q,b as X,f as Z,g as ee}from"./chunk-XKXBFP6V.js";import"./chunk-ULM4QL4Q.js";import{ka as L,oa as D,sa as H}from"./chunk-3YZBLOIS.js";import{b as j,e as W,i as q,x as J}from"./chunk-2I6ZAGC7.js";import{b as oe}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import{y as B}from"./chunk-GZWLZB4Q.js";import{Bb as P,Gb as n,Hb as o,Ib as c,Mb as v,Mc as h,Pa as S,Rb as g,Sb as m,Va as l,Wb as U,_ as y,cc as a,dc as C,ec as b,fa as f,fc as T,ga as M,gb as F,ic as I,jc as k,kc as A,lc as N,mb as d,mc as O,va as _,vb as p,wc as V,xb as w,yb as x,yc as z,zb as $}from"./chunk-MKA3N2SS.js";import{a as G,b as R}from"./chunk-GAL4ENT6.js";var Re=()=>({width:"180px"}),ze=()=>({width:"300px"}),Le=()=>[10,25,50,100],De=()=>({"min-width":"60rem"}),Fe=()=>({width:"700px"}),$e=()=>({width:"100%"}),Ue=()=>({height:"6px"});function Ne(r,t){if(r&1&&(c(0,"i",47),n(1,"span"),a(2,"Fichier Personnel"),o(),c(3,"p-badge",48)),r&2){let e=m();l(3),p("value",e.countPersonnels().toString())}}function Be(r,t){if(r&1){let e=v();n(0,"i",49),g("click",function(){f(e);let s=m();return M(s.clearSearch())}),o()}}function He(r,t){if(r&1){let e=v();n(0,"div",22),c(1,"i",50),n(2,"span"),a(3),o(),n(4,"p-button",51),g("onClick",function(){f(e);let s=m();return M(s.clearSearch())}),o()()}if(r&2){let e=m();l(3),T(" ",e.countFilteredPersonnels(),' r\xE9sultat(s) pour "',e.searchTerm(),'" '),l(),p("text",!0)}}function je(r,t){r&1&&(n(0,"tr")(1,"th",52),a(2," Matricule "),c(3,"p-sortIcon",53),o(),n(4,"th",54),a(5," Nom "),c(6,"p-sortIcon",55),o(),n(7,"th",56),a(8," Pr\xE9nom "),c(9,"p-sortIcon",57),o(),n(10,"th",58),a(11," Statut "),c(12,"p-sortIcon",59),o(),n(13,"th",60),a(14,"Date cr\xE9ation"),o(),n(15,"th",61),a(16,"Actions"),o()())}function We(r,t){if(r&1){let e=v();n(0,"p-button",68),g("onClick",function(){f(e);let s=m().$implicit,u=m();return M(u.desactiverPersonnel(s))}),o()}if(r&2){let e=m().$implicit,i=m();p("text",!0)("rounded",!0)("loading",i.isUpdatingStatut()===e.id)}}function qe(r,t){if(r&1){let e=v();n(0,"p-button",69),g("onClick",function(){f(e);let s=m().$implicit,u=m();return M(u.activerPersonnel(s))}),o()}if(r&2){let e=m().$implicit,i=m();p("text",!0)("rounded",!0)("loading",i.isUpdatingStatut()===e.id)}}function Je(r,t){if(r&1&&(n(0,"tr")(1,"td")(2,"span",62),a(3),o()(),n(4,"td"),c(5,"span",63),o(),n(6,"td"),c(7,"span",63),o(),n(8,"td"),c(9,"p-tag",64),o(),n(10,"td"),a(11),V(12,"javaDate"),o(),n(13,"td")(14,"div",65),d(15,We,1,3,"p-button",66)(16,qe,1,3,"p-button",67),o()()()),r&2){let e=t.$implicit,i=m();w("inactive-row",e.statut==="INACTIVE"),l(3),C(e.matricule),l(2),p("innerHTML",i.highlightSearch(e.nom),S),l(2),p("innerHTML",i.highlightSearch(e.prenom),S),l(2),p("value",i.getStatutLabel(e.statut))("severity",i.getStatutSeverity(e.statut)),l(2),C(z(12,9,e.createdAt,"dd/MM/yyyy HH:mm")),l(4),P(e.statut==="ACTIVE"?15:16)}}function Ye(r,t){if(r&1&&(n(0,"span"),a(1),o()),r&2){let e=m(2);l(),b('Aucun personnel trouv\xE9 pour "',e.searchTerm(),'"')}}function Ke(r,t){r&1&&(n(0,"span"),a(1,"Aucun personnel trouv\xE9"),o())}function Qe(r,t){if(r&1&&(n(0,"tr")(1,"td",70),c(2,"i",71),d(3,Ye,2,1,"span")(4,Ke,2,0,"span"),o()()),r&2){let e=m();l(3),P(e.searchTerm()?3:4)}}function Xe(r,t){if(r&1&&(c(0,"i",72),n(1,"span"),a(2,"Fichier Salaire"),o(),c(3,"p-badge",73)),r&2){let e=m();l(3),p("value",e.countAvances().toString())}}function Ze(r,t){if(r&1&&(n(0,"div",78),c(1,"i",79),n(2,"div",80)(3,"strong"),a(4,"Import bloqu\xE9"),o(),n(5,"p"),a(6),o()()()),r&2){let e=m(2);l(6),C(e.salaireImportMessage())}}function et(r,t){if(r&1){let e=v();n(0,"div",32)(1,"p-message",74),d(2,Ze,7,1,"ng-template",75),o(),n(3,"div",76)(4,"p-button",77),g("onClick",function(){f(e);let s=m();return M(s.confirmResetAvancesSalaire())}),o()()()}if(r&2){let e=m();l(),x(O(3,$e)),l(3),p("loading",e.isResetting())}}function tt(r,t){r&1&&(n(0,"div",83),c(1,"i",84),n(2,"p"),a(3,"Glissez-d\xE9posez votre fichier Excel ici"),o(),n(4,"span"),a(5,"ou cliquez pour s\xE9lectionner"),o()())}function nt(r,t){r&1&&(n(0,"div",82),c(1,"p-progressBar",85),n(2,"span"),a(3,"Import en cours..."),o()()),r&2&&(l(),x(O(2,Ue)))}function ot(r,t){if(r&1){let e=v();n(0,"div",33)(1,"p-fileUpload",81),g("uploadHandler",function(s){f(e);let u=m();return M(u.onUploadSalaire(s))}),d(2,tt,6,0,"ng-template",75),o(),d(3,nt,4,3,"div",82),o()}if(r&2){let e=m();l(),p("maxFileSize",1e7)("customUpload",!0)("auto",!1)("showUploadButton",!0)("showCancelButton",!0)("disabled",e.isUploadingSalaire()),l(2),P(e.isUploadingSalaire()?3:-1)}}function it(r,t){if(r&1){let e=v();n(0,"div",89)(1,"span",90),a(2,"Erreurs:"),o(),n(3,"span",93),a(4),o(),n(5,"p-button",94),g("onClick",function(){f(e);let s=m(2);return M(s.showErrors("salaire"))}),o()()}if(r&2){let e=m(2);l(4),C(e.statsSalaire().erreurs),l(),p("text",!0)}}function rt(r,t){if(r&1&&(n(0,"div",86)(1,"div",87),c(2,"i"),n(3,"span"),a(4),o()(),n(5,"div",88)(6,"div",89)(7,"span",90),a(8,"Total lignes:"),o(),n(9,"span",91),a(10),o()(),n(11,"div",89)(12,"span",90),a(13,"Import\xE9es:"),o(),n(14,"span",92),a(15),o()(),d(16,it,6,2,"div",89),o()()),r&2){let e=m();w("success",e.statsSalaire().success)("partial",!e.statsSalaire().success),l(2),$(e.statsSalaire().success?"pi pi-check-circle":"pi pi-exclamation-triangle"),l(2),C(e.statsSalaire().success?"Import r\xE9ussi":"Import partiel"),l(6),C(e.statsSalaire().total),l(5),C(e.statsSalaire().importees),l(),P(e.statsSalaire().erreurs>0?16:-1)}}function at(r,t){if(r&1){let e=v();n(0,"p-button",95),g("onClick",function(){f(e);let s=m();return M(s.confirmResetAvancesSalaire())}),o()}if(r&2){let e=m();U("label","Reset mensuel (",e.countAvances()," enregistrements)"),p("outlined",!0)("loading",e.isResetting())}}function lt(r,t){if(r&1){let e=v();n(0,"i",49),g("click",function(){f(e);let s=m();return M(s.clearSearchSalaire())}),o()}}function st(r,t){if(r&1){let e=v();n(0,"div",22),c(1,"i",50),n(2,"span"),a(3),o(),n(4,"p-button",51),g("onClick",function(){f(e);let s=m();return M(s.clearSearchSalaire())}),o()()}if(r&2){let e=m();l(3),T(" ",e.countFilteredAvances(),' r\xE9sultat(s) pour "',e.searchTermSalaire(),'" '),l(),p("text",!0)}}function ct(r,t){r&1&&(n(0,"tr")(1,"th",52),a(2," Matricule "),c(3,"p-sortIcon",53),o(),n(4,"th",96),a(5," Nom "),c(6,"p-sortIcon",97),o(),n(7,"th",98),a(8," Pr\xE9nom "),c(9,"p-sortIcon",99),o(),n(10,"th",100),a(11," Net \xE0 payer "),c(12,"p-sortIcon",101),o(),n(13,"th",102),a(14," Limite avance (50%) "),c(15,"p-sortIcon",103),o(),n(16,"th",60),a(17,"Date import"),o()())}function mt(r,t){if(r&1&&(n(0,"tr")(1,"td")(2,"span",62),a(3),o()(),n(4,"td"),c(5,"span",63),o(),n(6,"td"),c(7,"span",63),o(),n(8,"td",104)(9,"span",105),a(10),o()(),n(11,"td",104)(12,"span",106),a(13),o()(),n(14,"td"),a(15),V(16,"javaDate"),o()()),r&2){let e=t.$implicit,i=m();l(3),C(e.matricule),l(2),p("innerHTML",i.highlightSearchSalaire(e.nomPersonnel),S),l(2),p("innerHTML",i.highlightSearchSalaire(e.prenomPersonnel),S),l(3),C(i.formatMontant(e.netAmount)),l(3),C(i.formatMontant(e.netAmountLimit)),l(2),C(z(16,6,e.createdAt,"dd/MM/yyyy HH:mm"))}}function pt(r,t){if(r&1&&(n(0,"span"),a(1),o()),r&2){let e=m(2);l(),b('Aucune avance trouv\xE9e pour "',e.searchTermSalaire(),'"')}}function dt(r,t){r&1&&(n(0,"span"),a(1,"Aucune avance salaire trouv\xE9e. Importez un fichier pour commencer."),o())}function ut(r,t){if(r&1&&(n(0,"tr")(1,"td",107),c(2,"i",71),d(3,pt,2,1,"span")(4,dt,2,0,"span"),o()()),r&2){let e=m();l(3),P(e.searchTermSalaire()?3:4)}}function gt(r,t){r&1&&(n(0,"tr")(1,"th",108),a(2,"Ligne"),o(),n(3,"th",61),a(4,"Champ"),o(),n(5,"th"),a(6,"Valeur"),o(),n(7,"th"),a(8,"Message d'erreur"),o()())}function _t(r,t){if(r&1&&(n(0,"code"),a(1),o()),r&2){let e=m().$implicit;l(),C(e.valeur)}}function Ct(r,t){r&1&&(n(0,"span",110),a(1,"(vide)"),o())}function Pt(r,t){if(r&1&&(n(0,"tr")(1,"td")(2,"span",109),a(3),o()(),n(4,"td"),a(5),o(),n(6,"td"),d(7,_t,2,1,"code")(8,Ct,2,0,"span",110),o(),n(9,"td",111),a(10),o()()),r&2){let e=t.$implicit;l(3),C(e.ligne),l(2),C(e.champ),l(2),P(e.valeur?7:8),l(3),C(e.message)}}function ht(r,t){if(r&1&&(n(0,"p-table",44),d(1,gt,9,0,"ng-template",4)(2,Pt,11,4,"ng-template",24),o()),r&2){let e=m();p("value",e.currentErrors())}}function ft(r,t){r&1&&(n(0,"div",45),c(1,"i",18),n(2,"span"),a(3,"Aucune erreur \xE0 afficher"),o()())}function Mt(r,t){if(r&1){let e=v();n(0,"p-button",112),g("onClick",function(){f(e);let s=m();return M(s.hideErrorDialog())}),o()}}var Ge=class r{salaireService=y(oe);messageService=y(D);confirmationService=y(L);isLoadingPersonnel=_(!1);isLoadingSalaire=_(!1);isUploadingPersonnel=_(!1);isUploadingSalaire=_(!1);isResetting=_(!1);isUpdatingStatut=_(null);personnels=_([]);avancesSalaire=_([]);searchTerm=_("");selectedStatutFilter=_("ACTIVE");statutOptions=[{label:"Tous",value:""},{label:"Actifs",value:"ACTIVE"},{label:"Inactifs",value:"INACTIVE"}];countByStatut=_({});searchTermSalaire=_("");importResultPersonnel=_(null);importResultSalaire=_(null);showErrorDialog=_(!1);currentErrors=_([]);errorDialogTitle=_("");countPersonnels=h(()=>this.personnels().length);countActivePersonnels=h(()=>this.countByStatut().ACTIVE||0);countInactivePersonnels=h(()=>this.countByStatut().INACTIVE||0);countAvances=h(()=>this.avancesSalaire().length);hasSalaireData=h(()=>this.avancesSalaire().length>0);salaireImportMessage=h(()=>this.hasSalaireData()?`${this.countAvances()} enregistrement(s) de salaire d\xE9j\xE0 import\xE9(s) pour ce mois. Vous devez d'abord r\xE9initialiser (reset mensuel) avant d'importer un nouveau fichier.`:"");canImportSalaire=h(()=>!this.hasSalaireData());statsPersonnel=h(()=>{let t=this.importResultPersonnel();return t?{total:t.totalLignes,importees:t.lignesImportees,erreurs:t.lignesEnErreur,success:t.success}:null});statsSalaire=h(()=>{let t=this.importResultSalaire();return t?{total:t.totalLignes,importees:t.lignesImportees,erreurs:t.lignesEnErreur,success:t.success}:null});filteredPersonnels=h(()=>{let t=this.searchTerm().toLowerCase().trim(),e=this.personnels();return t?e.filter(i=>i.nom?.toLowerCase().includes(t)||i.prenom?.toLowerCase().includes(t)||i.matricule?.toLowerCase().includes(t)||`${i.prenom} ${i.nom}`.toLowerCase().includes(t)||`${i.nom} ${i.prenom}`.toLowerCase().includes(t)):e});countFilteredPersonnels=h(()=>this.filteredPersonnels().length);filteredAvancesSalaire=h(()=>{let t=this.searchTermSalaire().toLowerCase().trim(),e=this.avancesSalaire();return t?e.filter(i=>i.nomPersonnel?.toLowerCase().includes(t)||i.prenomPersonnel?.toLowerCase().includes(t)||i.matricule?.toLowerCase().includes(t)||`${i.prenomPersonnel} ${i.nomPersonnel}`.toLowerCase().includes(t)||`${i.nomPersonnel} ${i.prenomPersonnel}`.toLowerCase().includes(t)):e});countFilteredAvances=h(()=>this.filteredAvancesSalaire().length);clearSearch(){this.searchTerm.set("")}onSearchChange(t){let e=t.target;this.searchTerm.set(e.value)}clearSearchSalaire(){this.searchTermSalaire.set("")}onSearchChangeSalaire(t){let e=t.target;this.searchTermSalaire.set(e.value)}highlightSearchSalaire(t){if(!t)return"";let e=this.searchTermSalaire().trim();if(!e)return t;let i=new RegExp(`(${this.escapeRegex(e)})`,"gi");return t.replace(i,'<mark class="highlight">$1</mark>')}ngOnInit(){this.loadPersonnels(),this.loadAvancesSalaire()}loadPersonnels(){this.isLoadingPersonnel.set(!0);let t=this.selectedStatutFilter(),e=new Date().getTime(),i=`${this.salaireService.server}/ecredit/salaire/info-personnel?_t=${e}`;t&&(i+=`&statut=${t}`),this.salaireService.getAllInfoPersonnel(t||void 0).subscribe({next:s=>{s.data?.personnels&&this.personnels.set(s.data.personnels),s.data?.countByStatut&&this.countByStatut.set(s.data.countByStatut),this.isLoadingPersonnel.set(!1)},error:s=>{console.error("Erreur chargement personnels:",s),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger la liste du personnel"}),this.isLoadingPersonnel.set(!1)}})}onStatutFilterChange(t){this.selectedStatutFilter.set(t.value),this.loadPersonnels()}loadAvancesSalaire(){this.isLoadingSalaire.set(!0),this.salaireService.getAllAvanceSalaire().subscribe({next:t=>{t.data?.avances?this.avancesSalaire.set(t.data.avances):this.avancesSalaire.set([]),this.isLoadingSalaire.set(!1)},error:t=>{console.error("Erreur chargement avances:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger les avances salaire"}),this.avancesSalaire.set([]),this.isLoadingSalaire.set(!1)}})}togglePersonnelStatut(t){let e=t.statut==="ACTIVE"?"INACTIVE":"ACTIVE",i=e==="ACTIVE"?"activer":"d\xE9sactiver";this.confirmationService.confirm({message:`Voulez-vous ${i} ${t.prenom} ${t.nom} (${t.matricule}) ?`,header:"Confirmation",icon:e==="ACTIVE"?"pi pi-check-circle":"pi pi-times-circle",acceptLabel:e==="ACTIVE"?"Activer":"D\xE9sactiver",rejectLabel:"Annuler",acceptButtonStyleClass:e==="ACTIVE"?"p-button-success":"p-button-danger",accept:()=>{this.updatePersonnelStatut(t.id,e)}})}updatePersonnelStatut(t,e){this.isUpdatingStatut.set(t),this.salaireService.updateInfoPersonnelStatut(t,e).subscribe({next:i=>{let s=e==="ACTIVE"?"activ\xE9":"d\xE9sactiv\xE9";this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:`Personnel ${s} avec succ\xE8s`}),this.personnels.update(u=>u.map(E=>E.id===t?R(G({},E),{statut:e}):E)),this.loadPersonnels(),this.isUpdatingStatut.set(null)},error:i=>{console.error("Erreur mise \xE0 jour statut:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de mettre \xE0 jour le statut"}),this.isUpdatingStatut.set(null)}})}activerPersonnel(t){this.confirmationService.confirm({message:`Voulez-vous r\xE9activer ${t.prenom} ${t.nom} (${t.matricule}) ?`,header:"R\xE9activer le personnel",icon:"pi pi-check-circle",acceptLabel:"R\xE9activer",rejectLabel:"Annuler",acceptButtonStyleClass:"p-button-success",accept:()=>{this.updatePersonnelStatut(t.id,"ACTIVE")}})}desactiverPersonnel(t){this.confirmationService.confirm({message:`Voulez-vous d\xE9sactiver ${t.prenom} ${t.nom} (${t.matricule}) ?

Cette personne ne pourra plus faire de demande d'avance sur salaire.`,header:"D\xE9sactiver le personnel",icon:"pi pi-exclamation-triangle",acceptLabel:"D\xE9sactiver",rejectLabel:"Annuler",acceptButtonStyleClass:"p-button-danger",accept:()=>{this.updatePersonnelStatut(t.id,"INACTIVE")}})}onUploadPersonnel(t){let e=t.files[0];if(!e){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez s\xE9lectionner un fichier"});return}if(!this.isValidExcelFile(e)){this.messageService.add({severity:"error",summary:"Erreur",detail:"Le fichier doit \xEAtre au format Excel (.xlsx ou .xls)"});return}this.isUploadingPersonnel.set(!0),this.importResultPersonnel.set(null),this.salaireService.importInfoPersonnel(e).subscribe({next:i=>{let s=i.data?.importResult;this.importResultPersonnel.set(s),s?.success?this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:`Import termin\xE9: ${s.lignesImportees}/${s.totalLignes} lignes import\xE9es`}):this.messageService.add({severity:"warn",summary:"Import partiel",detail:`${s?.lignesImportees}/${s?.totalLignes} lignes import\xE9es, ${s?.lignesEnErreur} erreurs`}),this.loadPersonnels(),this.isUploadingPersonnel.set(!1)},error:i=>{console.error("Erreur import personnel:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:i.message||"Erreur lors de l'import du fichier"}),this.isUploadingPersonnel.set(!1)}})}onUploadSalaire(t){if(!this.canImportSalaire()){this.messageService.add({severity:"warn",summary:"Import impossible",detail:"Vous devez d'abord r\xE9initialiser les donn\xE9es avant d'importer un nouveau fichier."});return}let e=t.files[0];if(!e){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez s\xE9lectionner un fichier"});return}if(!this.isValidExcelFile(e)){this.messageService.add({severity:"error",summary:"Erreur",detail:"Le fichier doit \xEAtre au format Excel (.xlsx ou .xls)"});return}this.isUploadingSalaire.set(!0),this.importResultSalaire.set(null),this.salaireService.importAvanceSalaire(e).subscribe({next:i=>{let s=i.data?.importResult;this.importResultSalaire.set(s),s?.success?this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:`Import termin\xE9: ${s.lignesImportees}/${s.totalLignes} lignes import\xE9es`}):this.messageService.add({severity:"warn",summary:"Import partiel",detail:`${s?.lignesImportees}/${s?.totalLignes} lignes import\xE9es, ${s?.lignesEnErreur} erreurs`}),this.loadAvancesSalaire(),this.isUploadingSalaire.set(!1)},error:i=>{console.error("Erreur import salaire:",i),this.messageService.add({severity:"error",summary:"Erreur",detail:i.message||"Erreur lors de l'import du fichier"}),this.isUploadingSalaire.set(!1)}})}showErrors(t){let e=t==="personnel"?this.importResultPersonnel():this.importResultSalaire();e?.erreursValidation&&e.erreursValidation.length>0&&(this.currentErrors.set(e.erreursValidation),this.errorDialogTitle.set(t==="personnel"?"Erreurs d'import - Fichier Personnel":"Erreurs d'import - Fichier Salaire"),this.showErrorDialog.set(!0))}hideErrorDialog(){this.showErrorDialog.set(!1),this.currentErrors.set([])}confirmResetAvancesSalaire(){this.confirmationService.confirm({message:`\xCAtes-vous s\xFBr de vouloir r\xE9initialiser les ${this.countAvances()} enregistrements de salaire? Cette action est irr\xE9versible.`,header:"Confirmation du reset mensuel",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui, r\xE9initialiser",rejectLabel:"Annuler",acceptButtonStyleClass:"p-button-danger",accept:()=>{this.resetAvancesSalaire()}})}resetAvancesSalaire(){this.isResetting.set(!0),this.salaireService.truncateAvanceSalaire().subscribe({next:t=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Toutes les avances salaire ont \xE9t\xE9 supprim\xE9es. Vous pouvez maintenant importer un nouveau fichier."}),this.avancesSalaire.set([]),this.importResultSalaire.set(null),this.isResetting.set(!1)},error:t=>{console.error("Erreur reset avances:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de r\xE9initialiser les avances salaire"}),this.isResetting.set(!1)}})}isValidExcelFile(t){let e=[".xlsx",".xls"],i=t.name.toLowerCase();return e.some(s=>i.endsWith(s))}formatMontant(t){return t==null?"-":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"GNF",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}getStatutSeverity(t){switch(t?.toUpperCase()){case"ACTIVE":return"success";case"INACTIVE":return"danger";case"EN_ATTENTE":return"warn";case"APPROUVE":case"VALIDER":case"CONFIRMER":return"success";case"REJETE":case"REJET":case"ANNULLER":return"danger";default:return"info"}}getStatutLabel(t){switch(t?.toUpperCase()){case"ACTIVE":return"Actif";case"INACTIVE":return"Inactif";default:return t||"Inconnu"}}highlightSearch(t){if(!t)return"";let e=this.searchTerm().trim();if(!e)return t;let i=new RegExp(`(${this.escapeRegex(e)})`,"gi");return t.replace(i,'<mark class="highlight">$1</mark>')}escapeRegex(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-gestion-personnel"]],features:[N([D,L])],decls:96,vars:55,consts:[[1,"rh-container"],[1,"header-section"],[1,"pi","pi-users"],[1,"subtitle"],["pTemplate","header"],[1,"tab-content"],["header","Importer le fichier du personnel","styleClass","mb-4"],["header","Liste du personnel"],[1,"table-header"],[1,"filter-section"],["optionLabel","label","optionValue","value","placeholder","Filtrer par statut",3,"ngModelChange","onChange","options","ngModel"],[1,"search-section"],[1,"p-input-icon-left","p-input-icon-right"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Rechercher par nom, pr\xE9nom ou matricule...",3,"input","ngModel"],[1,"pi","pi-times","clear-icon"],[1,"statut-counters"],[1,"counter","active"],[1,"pi","pi-check-circle"],[1,"counter","inactive"],[1,"pi","pi-times-circle"],["icon","pi pi-refresh","pTooltip","Actualiser",3,"onClick","text","loading"],[1,"search-results-info"],["styleClass","p-datatable-striped p-datatable-gridlines","currentPageReportTemplate","Affichage {first} \xE0 {last} sur {totalRecords} personnels",3,"value","paginator","rows","rowsPerPageOptions","loading","tableStyle","showCurrentPageReport"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Importer le fichier des salaires","styleClass","mb-4"],[1,"upload-section"],[1,"upload-info"],[1,"pi","pi-info-circle"],[1,"format-table"],[1,"info-note"],[1,"import-blocked-message"],[1,"upload-zone"],[1,"import-result",3,"success","partial"],[1,"actions-bar","mb-3"],["icon","pi pi-refresh","label","Actualiser",3,"onClick","text","loading"],["icon","pi pi-trash","severity","danger","pTooltip","Supprimer toutes les avances pour permettre un nouvel import",3,"label","outlined","loading"],["header","Liste des avances salaire"],[1,"result-counter"],[1,"counter"],["styleClass","p-datatable-striped p-datatable-gridlines","currentPageReportTemplate","Affichage {first} \xE0 {last} sur {totalRecords} avances",3,"value","paginator","rows","rowsPerPageOptions","loading","tableStyle","showCurrentPageReport"],[3,"visibleChange","onHide","header","visible","modal","dismissableMask"],[1,"error-dialog-content"],["styleClass","p-datatable-sm",3,"value"],[1,"no-errors"],["pTemplate","footer"],[1,"pi","pi-user-plus","mr-2"],["severity","info",1,"ml-2",3,"value"],[1,"pi","pi-times","clear-icon",3,"click"],[1,"pi","pi-filter"],["icon","pi pi-times","label","Effacer","size","small",3,"onClick","text"],["pSortableColumn","matricule",2,"width","100px"],["field","matricule"],["pSortableColumn","nom"],["field","nom"],["pSortableColumn","prenom"],["field","prenom"],["pSortableColumn","statut",2,"width","120px"],["field","statut"],[2,"width","150px"],[2,"width","120px"],[1,"matricule-badge"],[3,"innerHTML"],[3,"value","severity"],[1,"action-buttons"],["icon","pi pi-user-minus","severity","danger","size","small","pTooltip","D\xE9sactiver (retraite, d\xE9mission...)","tooltipPosition","left",3,"text","rounded","loading"],["icon","pi pi-user-plus","severity","success","size","small","pTooltip","R\xE9activer","tooltipPosition","left",3,"text","rounded","loading"],["icon","pi pi-user-minus","severity","danger","size","small","pTooltip","D\xE9sactiver (retraite, d\xE9mission...)","tooltipPosition","left",3,"onClick","text","rounded","loading"],["icon","pi pi-user-plus","severity","success","size","small","pTooltip","R\xE9activer","tooltipPosition","left",3,"onClick","text","rounded","loading"],["colspan","7",1,"empty-message"],[1,"pi","pi-inbox"],[1,"pi","pi-wallet","mr-2"],["severity","success",1,"ml-2",3,"value"],["severity","warn"],["pTemplate","content"],[1,"reset-action"],["icon","pi pi-refresh","label","R\xE9initialiser maintenant","severity","danger",3,"onClick","loading"],[1,"blocked-content"],[1,"pi","pi-lock"],[1,"blocked-text"],["mode","advanced","name","file","accept",".xlsx,.xls","chooseLabel","Choisir fichier","uploadLabel","Importer","cancelLabel","Annuler",3,"uploadHandler","maxFileSize","customUpload","auto","showUploadButton","showCancelButton","disabled"],[1,"upload-progress"],[1,"upload-placeholder"],[1,"pi","pi-cloud-upload"],["mode","indeterminate"],[1,"import-result"],[1,"result-header"],[1,"result-stats"],[1,"stat"],[1,"label"],[1,"value"],[1,"value","success"],[1,"value","error"],["icon","pi pi-eye","severity","danger","size","small","pTooltip","Voir les erreurs",3,"onClick","text"],["icon","pi pi-trash","severity","danger","pTooltip","Supprimer toutes les avances pour permettre un nouvel import",3,"onClick","label","outlined","loading"],["pSortableColumn","nomPersonnel"],["field","nomPersonnel"],["pSortableColumn","prenomPersonnel"],["field","prenomPersonnel"],["pSortableColumn","netAmount",2,"width","150px"],["field","netAmount"],["pSortableColumn","netAmountLimit",2,"width","150px"],["field","netAmountLimit"],[1,"text-right"],[1,"montant"],[1,"montant","limite"],["colspan","6",1,"empty-message"],[2,"width","80px"],[1,"error-line"],[1,"no-data"],[1,"error-message"],["label","Fermer","icon","pi pi-times",3,"onClick"]],template:function(e,i){e&1&&(c(0,"p-toast")(1,"p-confirmDialog"),n(2,"div",0)(3,"div",1)(4,"h2"),c(5,"i",2),a(6," Gestion des Ressources Humaines"),o(),n(7,"p",3),a(8,"Import et gestion des fichiers du personnel et des salaires"),o()(),n(9,"p-tabView")(10,"p-tabPanel"),d(11,Ne,4,1,"ng-template",4),n(12,"div",5),c(13,"p-card",6),n(14,"p-card",7)(15,"div",8)(16,"div",9)(17,"p-dropdown",10),A("ngModelChange",function(u){return k(i.selectedStatutFilter,u)||(i.selectedStatutFilter=u),u}),g("onChange",function(u){return i.onStatutFilterChange(u)}),o()(),n(18,"div",11)(19,"span",12),c(20,"i",13),n(21,"input",14),g("input",function(u){return i.onSearchChange(u)}),o(),d(22,Be,1,0,"i",15),o()(),n(23,"div",16)(24,"span",17),c(25,"i",18),a(26),o(),n(27,"span",19),c(28,"i",20),a(29),o()(),n(30,"p-button",21),g("onClick",function(){return i.loadPersonnels()}),o()(),d(31,He,5,3,"div",22),n(32,"p-table",23),d(33,je,17,0,"ng-template",4)(34,Je,17,12,"ng-template",24)(35,Qe,5,1,"ng-template",25),o()()()(),n(36,"p-tabPanel"),d(37,Xe,4,1,"ng-template",4),n(38,"div",5)(39,"p-card",26)(40,"div",27)(41,"div",28)(42,"h4"),c(43,"i",29),a(44," Format attendu du fichier Excel"),o(),n(45,"table",30)(46,"thead")(47,"tr")(48,"th"),a(49,"Matricule"),o(),n(50,"th"),a(51,"NET A PAYER"),o()()(),n(52,"tbody")(53,"tr")(54,"td"),a(55,"1"),o(),n(56,"td"),a(57,"7 259 220"),o()(),n(58,"tr")(59,"td"),a(60,"13"),o(),n(61,"td"),a(62,"5 931 300"),o()()()(),n(63,"p",31),c(64,"i",29),n(65,"span"),a(66,"La limite d'avance (50% du salaire net) est calcul\xE9e automatiquement."),o()()(),c(67,"p-divider"),d(68,et,5,4,"div",32)(69,ot,4,7,"div",33)(70,rt,17,10,"div",34),o()(),n(71,"div",35)(72,"p-button",36),g("onClick",function(){return i.loadAvancesSalaire()}),o(),d(73,at,1,4,"p-button",37),o(),n(74,"p-card",38)(75,"div",8)(76,"div",11)(77,"span",12),c(78,"i",13),n(79,"input",14),g("input",function(u){return i.onSearchChangeSalaire(u)}),o(),d(80,lt,1,0,"i",15),o()(),n(81,"div",39)(82,"span",40),c(83,"i",2),a(84),o()(),n(85,"p-button",21),g("onClick",function(){return i.loadAvancesSalaire()}),o()(),d(86,st,5,3,"div",22),n(87,"p-table",41),d(88,ct,18,0,"ng-template",4)(89,mt,17,9,"ng-template",24)(90,ut,5,1,"ng-template",25),o()()()()()(),n(91,"p-dialog",42),A("visibleChange",function(u){return k(i.showErrorDialog,u)||(i.showErrorDialog=u),u}),g("onHide",function(){return i.hideErrorDialog()}),n(92,"div",43),d(93,ht,3,1,"p-table",44)(94,ft,4,0,"div",45),o(),d(95,Mt,1,0,"ng-template",46),o()),e&2&&(l(17),x(O(47,Re)),p("options",i.statutOptions),I("ngModel",i.selectedStatutFilter),l(4),x(O(48,ze)),p("ngModel",i.searchTerm()),l(),P(i.searchTerm()?22:-1),l(4),b(" ",i.countActivePersonnels()," actifs "),l(3),b(" ",i.countInactivePersonnels()," inactifs "),l(),p("text",!0)("loading",i.isLoadingPersonnel()),l(),P(i.searchTerm()?31:-1),l(),p("value",i.filteredPersonnels())("paginator",!0)("rows",10)("rowsPerPageOptions",O(49,Le))("loading",i.isLoadingPersonnel())("tableStyle",O(50,De))("showCurrentPageReport",!0),l(36),P(i.hasSalaireData()?68:69),l(2),P(i.statsSalaire()?70:-1),l(2),p("text",!0)("loading",i.isLoadingSalaire()),l(),P(i.hasSalaireData()?73:-1),l(6),x(O(51,ze)),p("ngModel",i.searchTermSalaire()),l(),P(i.searchTermSalaire()?80:-1),l(4),b(" ",i.countAvances()," enregistrement(s) "),l(),p("text",!0)("loading",i.isLoadingSalaire()),l(),P(i.searchTermSalaire()?86:-1),l(),p("value",i.filteredAvancesSalaire())("paginator",!0)("rows",10)("rowsPerPageOptions",O(52,Le))("loading",i.isLoadingSalaire())("tableStyle",O(53,De))("showCurrentPageReport",!0),l(4),x(O(54,Fe)),p("header",i.errorDialogTitle()),I("visible",i.showErrorDialog),p("modal",!0)("dismissableMask",!0),l(2),P(i.currentErrors().length>0?93:94))},dependencies:[B,J,j,W,q,ke,Ve,Ae,H,ee,Z,Me,Pe,he,fe,be,xe,re,ie,Ce,_e,Oe,ve,ce,se,Ee,ye,Se,ne,te,X,Q,ue,de,Ie,pe,me,Te,we,le,ae,ge,K,Y],styles:[".rh-container[_ngcontent-%COMP%]{padding:1.5rem}.rh-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem}.rh-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.75rem;font-weight:600;color:var(--text-color);margin:0 0 .5rem}.rh-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.rh-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-color-secondary);margin:0;font-size:.95rem}.rh-container[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:1rem 0}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--primary-color);font-size:1rem;margin:0 0 1rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]{width:100%;max-width:500px;border-collapse:collapse;border:1px solid var(--surface-border);border-radius:6px;overflow:hidden}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid var(--surface-border)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--surface-100);font-weight:600;color:var(--text-color)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:var(--surface-card);color:var(--text-color-secondary)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:1rem;padding:.75rem 1rem;background:var(--blue-50);border-radius:6px;color:var(--blue-700);font-size:.9rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .info-note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-500)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:var(--text-color-secondary)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--primary-color);opacity:.7;margin-bottom:1rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-top:1rem;padding:1rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-zone[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary-color);font-size:.9rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem 1.5rem;border-radius:8px}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.success[_ngcontent-%COMP%]{background:var(--green-50);border:1px solid var(--green-200)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.success[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{color:var(--green-700)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.success[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--green-500)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.partial[_ngcontent-%COMP%]{background:var(--orange-50);border:1px solid var(--orange-200)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.partial[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{color:var(--orange-700)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result.partial[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--orange-500)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:600;margin-bottom:.75rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:var(--green-600)}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.error[_ngcontent-%COMP%]{color:var(--red-600)}.rh-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.rh-container[_ngcontent-%COMP%]   .matricule-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;background:var(--primary-100);color:var(--primary-700);border-radius:4px;font-weight:600;font-size:.9rem}.rh-container[_ngcontent-%COMP%]   .numero-compte[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9rem;color:var(--text-color)}.rh-container[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-style:italic;opacity:.7}.rh-container[_ngcontent-%COMP%]   .montant[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-weight:600}.rh-container[_ngcontent-%COMP%]   .montant.limite[_ngcontent-%COMP%]{color:var(--blue-600)}.rh-container[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right!important}.rh-container[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:var(--text-color-secondary)}.rh-container[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;opacity:.5;margin-bottom:.5rem}.rh-container[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.rh-container[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.error-dialog-content[_ngcontent-%COMP%]   .error-line[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .5rem;background:var(--red-100);color:var(--red-700);border-radius:4px;font-weight:600;font-size:.85rem}.error-dialog-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:.2rem .5rem;background:var(--surface-100);border-radius:4px;font-size:.85rem}.error-dialog-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--red-600);font-size:.9rem}.error-dialog-content[_ngcontent-%COMP%]   .no-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;color:var(--green-600)}.error-dialog-content[_ngcontent-%COMP%]   .no-errors[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.5rem}@media screen and (max-width: 768px){.rh-container[_ngcontent-%COMP%]{padding:1rem}.rh-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]{font-size:.85rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]   .format-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .75rem}.rh-container[_ngcontent-%COMP%]   .upload-section[_ngcontent-%COMP%]   .import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.rh-container[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]{flex-direction:column}.rh-container[_ngcontent-%COMP%]   .actions-bar[_ngcontent-%COMP%]     .p-button{width:100%}}  .p-fileupload .p-fileupload-content{background:var(--surface-50);border:2px dashed var(--surface-border);border-radius:8px;min-height:150px}  .p-fileupload .p-fileupload-content:hover{border-color:var(--primary-color);background:var(--surface-100)}  .p-fileupload .p-fileupload-buttonbar{background:transparent;border:none;padding:0 0 1rem}  .p-tabview .p-tabview-nav{background:transparent;border:none;border-bottom:2px solid var(--surface-border)}  .p-tabview .p-tabview-nav li .p-tabview-nav-link{border:none;border-radius:0;margin:0;padding:1rem 1.5rem}  .p-tabview .p-tabview-nav li .p-tabview-nav-link:focus{box-shadow:none}  .p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link{border-bottom:2px solid var(--primary-color);margin-bottom:-2px}  .p-tabview .p-tabview-panels{background:transparent;padding:0}  .p-card{box-shadow:0 1px 3px #0000001a;border-radius:8px}  .p-card .p-card-header{padding:1.25rem 1.5rem 0;font-weight:600;font-size:1.1rem}  .p-card .p-card-body{padding:1.25rem 1.5rem}.import-blocked-message[_ngcontent-%COMP%]{margin:1.5rem 0}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:.5rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--orange-500);margin-top:.25rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   .blocked-text[_ngcontent-%COMP%]{flex:1}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   .blocked-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:1.1rem;color:var(--orange-700);margin-bottom:.5rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   .blocked-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-color-secondary);line-height:1.5}.import-blocked-message[_ngcontent-%COMP%]   .reset-action[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem;padding-top:1rem;border-top:1px dashed var(--surface-border)}.import-blocked-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}[_nghost-%COMP%]     .p-tag{font-size:.75rem;padding:.25rem .5rem}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{max-width:100%;order:-1}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]{justify-content:center}}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;margin-bottom:1rem}.table-header[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{flex:1;min-width:250px;max-width:350px}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]{width:100%}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-right:2.5rem}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--text-color-secondary);transition:color .2s}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]{display:flex;gap:1rem}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]   .counter.active[_ngcontent-%COMP%]{background:var(--green-100);color:var(--green-700)}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]   .counter.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--green-500)}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]   .counter.inactive[_ngcontent-%COMP%]{background:var(--red-100);color:var(--red-700)}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%]   .counter.inactive[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--red-500)}.table-header[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem;font-weight:500;background:var(--primary-100);color:var(--primary-700)}.table-header[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-500)}.search-results-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:var(--blue-50);border:1px solid var(--blue-200);border-radius:6px;margin-bottom:1rem;font-size:.9rem;color:var(--blue-700)}.search-results-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-500)}[_nghost-%COMP%]     .highlight{background-color:var(--yellow-200);padding:.1rem .2rem;border-radius:3px;font-weight:600}.inactive-row[_ngcontent-%COMP%]{background-color:var(--surface-100)!important;opacity:.7}.inactive-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.inactive-row[_ngcontent-%COMP%]   .matricule-badge[_ngcontent-%COMP%]{background:var(--surface-300);color:var(--text-color-secondary)}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.25rem}.actions-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.table-header[_ngcontent-%COMP%]   .search-section[_ngcontent-%COMP%]{max-width:100%;order:-1}.table-header[_ngcontent-%COMP%]   .statut-counters[_ngcontent-%COMP%], .table-header[_ngcontent-%COMP%]   .result-counter[_ngcontent-%COMP%]{justify-content:center}.actions-bar[_ngcontent-%COMP%]{flex-direction:column}.actions-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}}.montant[_ngcontent-%COMP%]{font-weight:600;color:var(--text-color)}.montant.limite[_ngcontent-%COMP%]{color:var(--green-600)}.text-right[_ngcontent-%COMP%]{text-align:right}.matricule-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;background:var(--primary-100);color:var(--primary-700);border-radius:4px;font-weight:600;font-size:.875rem}.numero-compte[_ngcontent-%COMP%]{font-family:monospace;font-size:.9rem;color:var(--text-color)}.no-data[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-style:italic;font-size:.875rem}.empty-message[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem}.empty-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-color-secondary);display:block;margin-bottom:1rem}.empty-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:1rem}.import-blocked-message[_ngcontent-%COMP%]{margin-bottom:1rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.25rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   .blocked-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}.import-blocked-message[_ngcontent-%COMP%]   .blocked-content[_ngcontent-%COMP%]   .blocked-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.import-blocked-message[_ngcontent-%COMP%]   .reset-action[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.upload-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:var(--text-color-secondary)}.upload-placeholder[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:var(--primary-color)}.upload-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem}.upload-placeholder[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem}.upload-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;margin-top:1rem}.upload-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:.9rem}.import-result[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border-radius:8px}.import-result.success[_ngcontent-%COMP%]{background:var(--green-50);border:1px solid var(--green-200)}.import-result.success[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--green-500)}.import-result.partial[_ngcontent-%COMP%]{background:var(--orange-50);border:1px solid var(--orange-200)}.import-result.partial[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--orange-500)}.import-result[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem;font-weight:600}.import-result[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;flex-wrap:wrap}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.success[_ngcontent-%COMP%]{color:var(--green-600)}.import-result[_ngcontent-%COMP%]   .result-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value.error[_ngcontent-%COMP%]{color:var(--red-600)}.format-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:1rem 0}.format-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .format-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem 1rem;text-align:left;border:1px solid var(--surface-300)}.format-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--surface-100);font-weight:600}.format-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:monospace}.info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--blue-600);font-size:.9rem;margin-top:.5rem}.info-note[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--blue-500)}"]})};export{Ge as GestionPersonnelComponent};
