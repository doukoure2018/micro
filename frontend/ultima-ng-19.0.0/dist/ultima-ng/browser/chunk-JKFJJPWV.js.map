{
  "version": 3,
  "sources": ["src/app/pages/dashboard/agent-credit/credit-selection/import-selection/import-selection.component.ts", "src/app/pages/dashboard/agent-credit/credit-selection/import-selection/import-selection.component.html"],
  "sourcesContent": ["import { DemandeIndividuel } from '@/interface/demande-individuel.interface';\r\nimport { IResponse } from '@/interface/response';\r\nimport { Selection } from '@/interface/selection';\r\nimport { UserService } from '@/service/user.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Component, DestroyRef, inject, signal } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { ActivatedRoute, ParamMap, Router, RouterLink } from '@angular/router';\r\nimport { ConfirmationService, MessageService } from 'primeng/api';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { CardModule } from 'primeng/card';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { FileUploadModule } from 'primeng/fileupload';\r\nimport { ImageModule } from 'primeng/image';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { ProgressSpinnerModule } from 'primeng/progressspinner';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { catchError, EMPTY, forkJoin, Observer, of, switchMap, tap } from 'rxjs';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { TooltipModule } from 'primeng/tooltip';\r\nimport { IUser } from '@/interface/user';\r\n@Component({\r\n    selector: 'app-import-selection',\r\n    imports: [CommonModule, ToastModule, CardModule, ProgressSpinnerModule, MessageModule, FileUploadModule, ButtonModule, ImageModule, TableModule, ConfirmDialogModule, DialogModule, TooltipModule, RouterLink],\r\n    templateUrl: './import-selection.component.html',\r\n    styleUrl: './import-selection.component.scss',\r\n    providers: [MessageService, ConfirmationService]\r\n})\r\nexport class ImportSelectionComponent {\r\n    private activatedRoute = inject(ActivatedRoute);\r\n    private router = inject(Router);\r\n    private messageService = inject(MessageService);\r\n    private userService = inject(UserService);\r\n    private destroyRef = inject(DestroyRef);\r\n    private confirmationService = inject(ConfirmationService);\r\n\r\n    // 2. Injection dans le constructeur\r\n    private domSanitizer = inject(DomSanitizer);\r\n\r\n    // Remplacez complètement votre state signal par celui-ci :\r\n    state = signal<{\r\n        user?: IUser;\r\n        loading: boolean;\r\n        error: string | null;\r\n        selectedFiles: File[];\r\n        previews: { file: File; url: string; width?: number; height?: number }[];\r\n        document: Selection | null;\r\n        documents: Selection[] | null;\r\n        demandeIndividuel: DemandeIndividuel | null;\r\n        demandeIndividuelId: number | null;\r\n        userId: number | null;\r\n        showPreviewDialog: boolean;\r\n        selectedDocumentForPreview: Selection | null;\r\n        // Propriétés PDF ajoutées\r\n        showPDFPreview: boolean;\r\n        selectedPDFFile: File | null;\r\n        pdfBlobUrl: string | null;\r\n    }>({\r\n        loading: false,\r\n        error: null,\r\n        selectedFiles: [],\r\n        previews: [],\r\n        document: null,\r\n        documents: null,\r\n        demandeIndividuel: null,\r\n        demandeIndividuelId: null,\r\n        userId: null,\r\n        showPreviewDialog: false,\r\n        selectedDocumentForPreview: null,\r\n        // Valeurs par défaut PDF\r\n        showPDFPreview: false,\r\n        selectedPDFFile: null,\r\n        pdfBlobUrl: null\r\n    });\r\n    // 3. Nouvelles propriétés dans le state signal\r\n\r\n    ngOnInit(): void {\r\n        this.loadDemandeDocument();\r\n    }\r\n\r\n    private loadDemandeDocument(): void {\r\n        this.activatedRoute.paramMap\r\n            .pipe(\r\n                switchMap((params: ParamMap) => {\r\n                    const demandeId = params.get('demandeIndividuelId');\r\n                    console.log('Route parameter demandeIndividuelId:', demandeId);\r\n\r\n                    if (demandeId) {\r\n                        this.state.update((s) => ({\r\n                            ...s,\r\n                            demandeIndividuelId: Number(demandeId),\r\n                            loading: true,\r\n                            error: null\r\n                        }));\r\n                        return this.userService.getAllDocuments$(+demandeId);\r\n                    } else {\r\n                        console.error('No demandeIndividuelId found in route parameters');\r\n                        this.state.update((state) => ({\r\n                            ...state,\r\n                            loading: false,\r\n                            error: 'Invalid demandeId - parameter not found in route'\r\n                        }));\r\n                        return EMPTY;\r\n                    }\r\n                }),\r\n                takeUntilDestroyed(this.destroyRef)\r\n            )\r\n            .subscribe({\r\n                next: (response: IResponse) => {\r\n                    console.log('Documents loaded successfully:', response);\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        documents: response.data.documents!,\r\n                        user: response.data.user,\r\n                        demandeIndividuel: response.data.demandeIndividuel,\r\n                        loading: false\r\n                    }));\r\n                },\r\n                error: (error: string) => {\r\n                    console.error('Error loading documents:', error);\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        loading: false,\r\n                        error: error\r\n                    }));\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Version améliorée de deleteDocument avec feedback visuel\r\n     */\r\n    deleteDocument(document: Selection): void {\r\n        if (!document || !document.selectionId || !this.state().demandeIndividuelId) {\r\n            this.messageService.add({\r\n                severity: 'error',\r\n                summary: 'Erreur',\r\n                detail: 'Impossible de supprimer le document : Informations manquantes'\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.state.update((s) => ({ ...s, loading: true }));\r\n\r\n        this.userService\r\n            .deleteDocument$(document.selectionId!, this.state().demandeIndividuelId!)\r\n            .pipe(takeUntilDestroyed(this.destroyRef))\r\n            .subscribe({\r\n                next: (response: IResponse) => {\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        loading: false,\r\n                        // Supprimer le document de la liste\r\n                        documents: s.documents?.filter((doc) => doc.selectionId !== document.selectionId) || null\r\n                    }));\r\n\r\n                    this.messageService.add({\r\n                        severity: 'success',\r\n                        summary: 'Succès',\r\n                        detail: 'Document supprimé avec succès'\r\n                    });\r\n                },\r\n                error: (err) => {\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        loading: false,\r\n                        error: err.message || 'Échec de la suppression du document'\r\n                    }));\r\n\r\n                    this.messageService.add({\r\n                        severity: 'error',\r\n                        summary: 'Erreur de suppression',\r\n                        detail: err.message || 'Erreur lors de la suppression du document'\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    approvedDemande(demandeIndividuel: DemandeIndividuel): void {\r\n        if (!demandeIndividuel.demandeIndividuelId || !demandeIndividuel?.codUsuarios) {\r\n            this.messageService.add({\r\n                severity: 'error',\r\n                summary: 'Error',\r\n                detail: 'La demande ne peut pas être approuvée: Identifiants manquants'\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.confirmationService.confirm({\r\n            message: 'Êtes-vous sûr de vouloir approuver cette demande?',\r\n            header: \"Confirmation d'approbation\",\r\n            icon: 'pi pi-exclamation-triangle',\r\n            accept: () => {\r\n                this.state.update((s) => ({ ...s, loading: true }));\r\n\r\n                this.userService\r\n                    .updateDemandeIndividuel$('APPROVED', demandeIndividuel?.codUsuarios!, demandeIndividuel.demandeIndividuelId!)\r\n                    .pipe(takeUntilDestroyed(this.destroyRef))\r\n                    .subscribe({\r\n                        next: (response: IResponse) => {\r\n                            this.state.update((s) => ({\r\n                                ...s,\r\n                                loading: false\r\n                            }));\r\n\r\n                            this.messageService.add({\r\n                                severity: 'success',\r\n                                summary: 'Success',\r\n                                detail: 'Demande approuvée avec succès'\r\n                            });\r\n\r\n                            // Wait for 3 seconds before navigating\r\n                            setTimeout(() => {\r\n                                this.router.navigate(['/dashboards/home']);\r\n                            }, 3000);\r\n                        },\r\n                        error: (error) => {\r\n                            this.state.update((s) => ({ ...s, loading: false, error: error.message || String(error) }));\r\n                            this.messageService.add({\r\n                                severity: 'error',\r\n                                summary: 'Failed',\r\n                                detail: error.message || \"Erreur lors de l'approbation\"\r\n                            });\r\n                        }\r\n                    });\r\n            },\r\n            reject: () => {\r\n                // Optional: Add a message to indicate the action was cancelled\r\n                this.messageService.add({\r\n                    severity: 'info',\r\n                    summary: 'Annulé',\r\n                    detail: \"Vous avez annulé l'approbation\"\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Méthode améliorée pour la sélection de fichiers avec validation\r\n     */\r\n    onFileSelect(event: any): void {\r\n        const files = event.files;\r\n        if (!files || files.length === 0) return;\r\n\r\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\r\n        const maxFileSize = 10 * 1024 * 1024; // 10MB\r\n        const maxFiles = 10; // Limite de fichiers\r\n\r\n        const currentFiles = this.state().selectedFiles.length;\r\n        const newFiles: File[] = [];\r\n        const newPreviews: { file: File; url: string; width?: number; height?: number }[] = [];\r\n        const errors: string[] = [];\r\n\r\n        for (const file of files) {\r\n            // Vérifications\r\n            if (currentFiles + newFiles.length >= maxFiles) {\r\n                errors.push(`Limite de ${maxFiles} fichiers atteinte`);\r\n                break;\r\n            }\r\n\r\n            if (file.size > maxFileSize) {\r\n                errors.push(`${file.name}: Fichier trop volumineux (max 10MB)`);\r\n                continue;\r\n            }\r\n\r\n            if (!allowedTypes.includes(file.type)) {\r\n                errors.push(`${file.name}: Format non supporté`);\r\n                continue;\r\n            }\r\n\r\n            // Vérifier les doublons\r\n            const isDuplicate = this.state().selectedFiles.some((existingFile) => existingFile.name === file.name && existingFile.size === file.size);\r\n\r\n            if (isDuplicate) {\r\n                errors.push(`${file.name}: Fichier déjà sélectionné`);\r\n                continue;\r\n            }\r\n\r\n            const previewObj: { file: File; url: string; width?: number; height?: number } = {\r\n                file: file,\r\n                url: URL.createObjectURL(file)\r\n            };\r\n\r\n            newPreviews.push(previewObj);\r\n            newFiles.push(file);\r\n\r\n            // Obtenir les dimensions pour les images\r\n            if (file.type.startsWith('image/')) {\r\n                const img = new Image();\r\n                img.onload = () => {\r\n                    this.state.update((s) => {\r\n                        const updatedPreviews = s.previews.map((p) => {\r\n                            if (p.file === file) {\r\n                                return { ...p, width: img.width, height: img.height };\r\n                            }\r\n                            return p;\r\n                        });\r\n\r\n                        return { ...s, previews: updatedPreviews };\r\n                    });\r\n                };\r\n                img.src = previewObj.url;\r\n            }\r\n        }\r\n\r\n        // Afficher les erreurs\r\n        if (errors.length > 0) {\r\n            this.messageService.add({\r\n                severity: 'warn',\r\n                summary: 'Attention',\r\n                detail: errors.join('\\n'),\r\n                life: 5000\r\n            });\r\n        }\r\n\r\n        // Ajouter les fichiers valides\r\n        if (newFiles.length > 0) {\r\n            this.state.update((s) => ({\r\n                ...s,\r\n                selectedFiles: [...s.selectedFiles, ...newFiles],\r\n                previews: [...s.previews, ...newPreviews],\r\n                error: null\r\n            }));\r\n\r\n            this.messageService.add({\r\n                severity: 'success',\r\n                summary: 'Fichiers ajoutés',\r\n                detail: `${newFiles.length} fichier(s) sélectionné(s)`,\r\n                life: 3000\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Méthode d'upload corrigée et simplifiée\r\n     */\r\n    uploadDocuments(): void {\r\n        const { selectedFiles, demandeIndividuelId } = this.state();\r\n\r\n        if (selectedFiles.length === 0 || !demandeIndividuelId) {\r\n            this.messageService.add({\r\n                severity: 'error',\r\n                summary: 'Erreur',\r\n                detail: 'Veuillez sélectionner des fichiers et vérifier les paramètres'\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            loading: true,\r\n            error: null\r\n        }));\r\n\r\n        // Créer les promesses d'upload\r\n        const uploadPromises = selectedFiles.map((file) => {\r\n            const formData = new FormData();\r\n            formData.append('image', file);\r\n\r\n            return this.userService.addDocuments$(demandeIndividuelId, formData).pipe(\r\n                takeUntilDestroyed(this.destroyRef),\r\n                catchError((error) => {\r\n                    this.messageService.add({\r\n                        severity: 'error',\r\n                        summary: 'Échec du téléversement',\r\n                        detail: `Erreur pour ${file.name}: ${error.message || 'Erreur inconnue'}`,\r\n                        life: 5000\r\n                    });\r\n                    return of(null);\r\n                })\r\n            );\r\n        });\r\n\r\n        // Exécuter tous les uploads\r\n        forkJoin(uploadPromises)\r\n            .pipe(takeUntilDestroyed(this.destroyRef))\r\n            .subscribe({\r\n                next: (responses) => {\r\n                    const successCount = responses.filter((r) => r !== null).length;\r\n                    const failureCount = responses.length - successCount;\r\n\r\n                    // Nettoyer les aperçus\r\n                    this.state().previews.forEach((preview) => {\r\n                        URL.revokeObjectURL(preview.url);\r\n                    });\r\n\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        loading: false,\r\n                        selectedFiles: [],\r\n                        previews: []\r\n                    }));\r\n\r\n                    // Messages de résultat\r\n                    if (successCount > 0) {\r\n                        this.messageService.add({\r\n                            severity: 'success',\r\n                            summary: 'Téléversement réussi',\r\n                            detail: `${successCount} document(s) téléversé(s) avec succès`,\r\n                            life: 5000\r\n                        });\r\n\r\n                        // Actualiser la liste des documents\r\n                        this.loadDemandeDocument();\r\n                    }\r\n\r\n                    if (failureCount > 0) {\r\n                        this.messageService.add({\r\n                            severity: 'warn',\r\n                            summary: 'Téléversement partiel',\r\n                            detail: `${failureCount} document(s) n'ont pas pu être téléversés`,\r\n                            life: 5000\r\n                        });\r\n                    }\r\n                },\r\n                error: (err) => {\r\n                    this.state.update((s) => ({\r\n                        ...s,\r\n                        loading: false,\r\n                        error: err.message || 'Erreur lors du téléversement des documents'\r\n                    }));\r\n\r\n                    this.messageService.add({\r\n                        severity: 'error',\r\n                        summary: 'Échec du téléversement',\r\n                        detail: err.message || 'Erreur lors du téléversement des documents',\r\n                        life: 5000\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Enhanced viewDocument method to handle both images and PDFs\r\n     */\r\n    viewDocument(document: Selection): void {\r\n        console.log('viewDocument called with:', document);\r\n\r\n        if (this.isPDFDocument(document)) {\r\n            // Preview PDF in PDF dialog\r\n            this.previewSavedPDF(document);\r\n        } else if (this.isImageDocument(document)) {\r\n            // Preview image in image dialog\r\n            this.state.update((s) => ({\r\n                ...s,\r\n                selectedDocumentForPreview: document,\r\n                showPreviewDialog: true\r\n            }));\r\n        } else {\r\n            // Fallback for unknown file types\r\n            this.messageService.add({\r\n                severity: 'info',\r\n                summary: 'Prévisualisation',\r\n                detail: 'Prévisualisation non disponible pour ce type de fichier'\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ferme la dialog de prévisualisation\r\n     */\r\n    closePreviewDialog(): void {\r\n        console.log('closePreviewDialog called'); // Debug log\r\n\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            showPreviewDialog: false,\r\n            selectedDocumentForPreview: null\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Add getter and setter for better dialog control\r\n     */\r\n    set showPDFPreview(value: boolean) {\r\n        if (!value) {\r\n            this.closePDFPreview();\r\n        } else {\r\n            this.state.update((s) => ({ ...s, showPDFPreview: true }));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Méthode alternative pour ouvrir la prévisualisation (simplifiée)\r\n     */\r\n    openPreview(doc: Selection): void {\r\n        console.log('Opening preview for document:', doc);\r\n\r\n        this.state.update((currentState) => {\r\n            console.log('Current state before update:', currentState.showPreviewDialog);\r\n            return {\r\n                ...currentState,\r\n                selectedDocumentForPreview: doc,\r\n                showPreviewDialog: true\r\n            };\r\n        });\r\n\r\n        // Vérification après mise à jour\r\n        setTimeout(() => {\r\n            console.log('State after update:', this.state().showPreviewDialog);\r\n            console.log('Selected doc:', this.state().selectedDocumentForPreview);\r\n        }, 100);\r\n    }\r\n\r\n    // 2. Ajoutez cette méthode pour débugger\r\n    debugState(): void {\r\n        console.log('Current state:', this.state());\r\n        console.log('Show dialog:', this.state().showPreviewDialog);\r\n        console.log('Selected doc:', this.state().selectedDocumentForPreview);\r\n    }\r\n\r\n    // 3. Méthode pour gérer les clics sur les images (sans conflit d'événements)\r\n    onImageClick(event: Event, doc: Selection): void {\r\n        event.stopPropagation(); // Empêche la propagation de l'événement\r\n        console.log('Image clicked, document:', doc);\r\n        this.openPreview(doc);\r\n    }\r\n\r\n    // 4. Méthode pour gérer les clics sur les boutons de prévisualisation\r\n    onPreviewButtonClick(event: Event, doc: Selection): void {\r\n        event.stopPropagation(); // Empêche la propagation de l'événement\r\n        console.log('Preview button clicked, document:', doc);\r\n        this.openPreview(doc);\r\n    }\r\n\r\n    /**\r\n     * Getters et setters pour le dialog de prévisualisation\r\n     */\r\n    get showPreviewDialog(): boolean {\r\n        return this.state().showPreviewDialog;\r\n    }\r\n\r\n    /**\r\n     * Setter pour showPreviewDialog (pour le template)\r\n     */\r\n    set showPreviewDialog(value: boolean) {\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            showPreviewDialog: value,\r\n            selectedDocumentForPreview: value ? s.selectedDocumentForPreview : null\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Getter pour selectedDocumentForPreview (pour le template)\r\n     */\r\n    get selectedDocumentForPreview(): Selection | null {\r\n        return this.state().selectedDocumentForPreview;\r\n    }\r\n\r\n    /**\r\n     * Confirmation de suppression avec style amélioré\r\n     */\r\n    confirmDelete(document: Selection): void {\r\n        this.confirmationService.confirm({\r\n            message: 'Êtes-vous certain de vouloir supprimer ce document ? Cette action est irréversible.',\r\n            header: 'Confirmer la suppression',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            acceptLabel: 'Oui, supprimer',\r\n            rejectLabel: 'Annuler',\r\n            acceptButtonStyleClass: 'p-button-danger',\r\n            rejectButtonStyleClass: 'p-button-text',\r\n            accept: () => {\r\n                this.deleteDocument(document);\r\n            },\r\n            reject: () => {\r\n                this.messageService.add({\r\n                    severity: 'info',\r\n                    summary: 'Suppression annulée',\r\n                    detail: 'Le document a été conservé',\r\n                    life: 3000\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Estime la taille du fichier basée sur l'URL de l'image\r\n     * (Optionnel - vous pouvez adapter selon vos besoins)\r\n     */\r\n    getFileSize(document: Selection): string {\r\n        // Vous pouvez améliorer cette méthode selon vos données\r\n        return 'Image';\r\n    }\r\n\r\n    /**\r\n     * Méthode pour valider le type de fichier\r\n     */\r\n    private isValidFileType(file: File): boolean {\r\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\r\n\r\n        return allowedTypes.includes(file.type);\r\n    }\r\n\r\n    /**\r\n     * Supprime un fichier de la liste des fichiers sélectionnés\r\n     * @param index - L'index du fichier à supprimer\r\n     */\r\n    removeFile(index: number): void {\r\n        this.state.update((s) => {\r\n            const newSelectedFiles = [...s.selectedFiles];\r\n            const newPreviews = [...s.previews];\r\n\r\n            // Libérer l'URL de l'objet pour éviter les fuites mémoire\r\n            if (newPreviews[index]) {\r\n                URL.revokeObjectURL(newPreviews[index].url);\r\n            }\r\n\r\n            // Supprimer le fichier et l'aperçu\r\n            newSelectedFiles.splice(index, 1);\r\n            newPreviews.splice(index, 1);\r\n\r\n            return {\r\n                ...s,\r\n                selectedFiles: newSelectedFiles,\r\n                previews: newPreviews\r\n            };\r\n        });\r\n\r\n        // Message de confirmation (optionnel)\r\n        this.messageService.add({\r\n            severity: 'info',\r\n            summary: 'Fichier supprimé',\r\n            detail: 'Le fichier a été retiré de la sélection',\r\n            life: 2000\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Vérifie si l'image est de grande taille\r\n     */\r\n    isLargeImage(preview: { file: File; url: string; width?: number; height?: number }): boolean {\r\n        return (preview.width && preview.width > 2000) || (preview.height && preview.height > 2000) || false;\r\n    }\r\n\r\n    /**\r\n     * Prévisualise un fichier PDF\r\n     */\r\n    previewPDF(preview: { file: File; url: string; width?: number; height?: number }): void {\r\n        if (preview.file.type !== 'application/pdf') {\r\n            this.messageService.add({\r\n                severity: 'error',\r\n                summary: 'Erreur',\r\n                detail: \"Ce fichier n'est pas un PDF\"\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            selectedPDFFile: preview.file,\r\n            pdfBlobUrl: preview.url,\r\n            showPDFPreview: true\r\n        }));\r\n    }\r\n\r\n    /**\r\n     * Updated pdfSafeUrl getter to handle direct URLs\r\n     */\r\n    get pdfSafeUrl(): SafeResourceUrl | null {\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (!pdfUrl) return null;\r\n\r\n        // Check if it's already a safe URL or needs to be sanitized\r\n        if (pdfUrl.startsWith('blob:')) {\r\n            return this.domSanitizer.bypassSecurityTrustResourceUrl(pdfUrl);\r\n        } else {\r\n            // For direct URLs, add #toolbar=0 to hide PDF toolbar\r\n            const urlWithParams = `${pdfUrl}#toolbar=0&navpanes=0&scrollbar=0`;\r\n            return this.domSanitizer.bypassSecurityTrustResourceUrl(urlWithParams);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Downloads the PDF\r\n     */\r\n    downloadPDF(): void {\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (pdfUrl) {\r\n            const link = document.createElement('a');\r\n            link.href = pdfUrl;\r\n            link.download = 'document.pdf';\r\n            link.target = '_blank';\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            document.body.removeChild(link);\r\n\r\n            this.messageService.add({\r\n                severity: 'success',\r\n                summary: 'Téléchargement',\r\n                detail: 'Le téléchargement du PDF a commencé'\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Formate la taille du fichier de manière lisible\r\n     */\r\n    formatFileSize(bytes: number): string {\r\n        if (bytes === 0) return '0 B';\r\n\r\n        const k = 1024;\r\n        const sizes = ['B', 'KB', 'MB', 'GB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n    }\r\n\r\n    /**\r\n     * Extrait l'extension du fichier\r\n     */\r\n    getFileExtension(filename: string): string {\r\n        const extension = filename.split('.').pop()?.toUpperCase();\r\n        return extension || 'FILE';\r\n    }\r\n\r\n    /**\r\n     * Obtient le type de fichier pour l'affichage\r\n     */\r\n    getFileTypeDisplay(file: File): string {\r\n        const type = file.type;\r\n\r\n        if (type.includes('image')) return 'Image';\r\n        if (type === 'application/pdf') return 'PDF';\r\n        if (type.includes('word') || type.includes('document')) return 'Word';\r\n        if (type.includes('excel') || type.includes('spreadsheet')) return 'Excel';\r\n        if (type.includes('powerpoint') || type.includes('presentation')) return 'PowerPoint';\r\n\r\n        return 'Fichier';\r\n    }\r\n\r\n    /**\r\n     * Obtient la couleur du badge selon le type de fichier\r\n     */\r\n    getFileTypeBadgeClass(file: File): string {\r\n        const type = file.type;\r\n\r\n        if (type.includes('image')) return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\r\n        if (type === 'application/pdf') return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\r\n        if (type.includes('word') || type.includes('document')) return 'bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300';\r\n        if (type.includes('excel')) return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\r\n        if (type.includes('powerpoint')) return 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300';\r\n\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\r\n    }\r\n\r\n    /**\r\n     * Vérifie si un fichier peut être prévisualisé\r\n     */\r\n    canPreviewFile(file: File): boolean {\r\n        return file.type.includes('image') || file.type === 'application/pdf';\r\n    }\r\n\r\n    /**\r\n     * Ouvre la prévisualisation appropriée selon le type de fichier\r\n     */\r\n    openFilePreview(preview: { file: File; url: string; width?: number; height?: number }): void {\r\n        if (preview.file.type === 'application/pdf') {\r\n            this.previewPDF(preview);\r\n        } else if (preview.file.type.includes('image')) {\r\n            // Logique pour prévisualiser les images (existante)\r\n            console.log('Preview image:', preview);\r\n        } else {\r\n            this.messageService.add({\r\n                severity: 'info',\r\n                summary: 'Prévisualisation non disponible',\r\n                detail: 'Ce type de fichier ne peut pas être prévisualisé'\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Nettoyage des ressources PDF\r\n     */\r\n    ngOnDestroy(): void {\r\n        // Nettoyer les URLs créées pour éviter les fuites mémoire\r\n        this.state().previews.forEach((preview) => {\r\n            URL.revokeObjectURL(preview.url);\r\n        });\r\n\r\n        // Nettoyer l'URL PDF si elle existe\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (pdfUrl) {\r\n            URL.revokeObjectURL(pdfUrl);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Determines if a document URL points to a PDF file\r\n     */\r\n    isPDFDocument(doc: Selection): boolean {\r\n        if (!doc.doc) return false;\r\n        return doc.doc.toLowerCase().includes('.pdf');\r\n    }\r\n\r\n    /**\r\n     * Determines if a document URL points to an image file\r\n     */\r\n    isImageDocument(doc: Selection): boolean {\r\n        if (!doc.doc) return false;\r\n        const url = doc.doc.toLowerCase();\r\n        return url.includes('.png') || url.includes('.jpg') || url.includes('.jpeg') || url.includes('.gif');\r\n    }\r\n\r\n    /**\r\n     * Gets file extension from document URL\r\n     */\r\n    getDocumentExtension(doc: Selection): string {\r\n        if (!doc.doc) return '';\r\n        const url = doc.doc.toLowerCase();\r\n        if (url.includes('.pdf')) return 'PDF';\r\n        if (url.includes('.png')) return 'PNG';\r\n        if (url.includes('.jpg') || url.includes('.jpeg')) return 'JPG';\r\n        if (url.includes('.gif')) return 'GIF';\r\n        if (url.includes('.doc')) return 'DOC';\r\n        if (url.includes('.docx')) return 'DOCX';\r\n        return 'FILE';\r\n    }\r\n\r\n    /**\r\n     * Enhanced PDF preview that works around X-Frame-Options\r\n     */\r\n    previewSavedPDF(document: Selection): void {\r\n        if (!this.isPDFDocument(document)) {\r\n            this.messageService.add({\r\n                severity: 'error',\r\n                summary: 'Erreur',\r\n                detail: \"Ce document n'est pas un PDF\"\r\n            });\r\n            return;\r\n        }\r\n\r\n        // Instead of iframe, provide download and new tab options\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            selectedPDFFile: new File([], `document.pdf`, { type: 'application/pdf' }),\r\n            pdfBlobUrl: document.doc || null,\r\n            showPDFPreview: true\r\n        }));\r\n\r\n        // Automatically open in new tab as primary action\r\n        window.open(document.doc, '_blank');\r\n\r\n        this.messageService.add({\r\n            severity: 'info',\r\n            summary: 'PDF ouvert',\r\n            detail: \"Le PDF s'ouvre dans un nouvel onglet\",\r\n            life: 3000\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle PDF load success\r\n     */\r\n    onPDFLoad(): void {\r\n        console.log('PDF loaded successfully');\r\n    }\r\n\r\n    /**\r\n     * Handle PDF load error\r\n     */\r\n    onPDFError(): void {\r\n        console.error('Error loading PDF');\r\n        this.messageService.add({\r\n            severity: 'warn',\r\n            summary: 'Attention',\r\n            detail: 'Le PDF ne peut pas être affiché dans cette fenêtre. Utilisez le bouton de téléchargement.'\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Enhanced close method for PDF preview\r\n     */\r\n    closePDFPreview(): void {\r\n        console.log('Closing PDF preview dialog'); // Debug log\r\n\r\n        // Clean up blob URL if it exists and is a blob\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (pdfUrl && pdfUrl.startsWith('blob:')) {\r\n            URL.revokeObjectURL(pdfUrl);\r\n        }\r\n\r\n        // Reset all PDF-related state\r\n        this.state.update((s) => ({\r\n            ...s,\r\n            showPDFPreview: false,\r\n            selectedPDFFile: null,\r\n            pdfBlobUrl: null\r\n        }));\r\n\r\n        console.log('PDF dialog state after close:', this.state().showPDFPreview); // Debug log\r\n    }\r\n\r\n    /**\r\n     * Opens PDF in new tab\r\n     */\r\n    openPDFInNewTab(): void {\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (pdfUrl) {\r\n            window.open(pdfUrl, '_blank');\r\n            this.messageService.add({\r\n                severity: 'success',\r\n                summary: 'PDF ouvert',\r\n                detail: \"Le PDF s'ouvre dans un nouvel onglet\"\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Copies PDF link to clipboard\r\n     */\r\n    copyPDFLink(): void {\r\n        const pdfUrl = this.state().pdfBlobUrl;\r\n        if (pdfUrl) {\r\n            navigator.clipboard\r\n                .writeText(pdfUrl)\r\n                .then(() => {\r\n                    this.messageService.add({\r\n                        severity: 'success',\r\n                        summary: 'Lien copié',\r\n                        detail: 'Le lien du PDF a été copié dans le presse-papiers'\r\n                    });\r\n                })\r\n                .catch(() => {\r\n                    this.messageService.add({\r\n                        severity: 'error',\r\n                        summary: 'Erreur',\r\n                        detail: 'Impossible de copier le lien'\r\n                    });\r\n                });\r\n        }\r\n    }\r\n\r\n    public goBack(): void {}\r\n}\r\n", "<div class=\"min-h-screen bg-surface-50 dark:bg-surface-950\">\r\n    <p-toast></p-toast>\r\n    <p-confirmDialog [style]=\"{width: '450px'}\"></p-confirmDialog>\r\n\r\n    <!-- Header Section -->\r\n    <div class=\"bg-surface-0 dark:bg-surface-900 shadow-sm border-b border-surface-200 dark:border-surface-700\">\r\n        <div class=\"container mx-auto px-6 py-8\">\r\n            <div class=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6\">\r\n                <div class=\"flex-1\">\r\n                    <h1 class=\"text-surface-900 dark:text-surface-0 text-4xl font-bold mb-3\">\r\n                        Gestion des Documents\r\n                    </h1>\r\n                    <p class=\"text-surface-600 dark:text-surface-400 text-lg\">\r\n                        Téléversez et gérez vos fiches de sélection\r\n                    </p>\r\n\r\n                    <!-- Progress indicator -->\r\n                    <div class=\"flex items-center gap-3 mt-4\">\r\n                        <div class=\"flex items-center gap-2\">\r\n                            <i class=\"pi pi-upload text-primary text-sm\"></i>\r\n                            <span class=\"text-surface-700 dark:text-surface-300 text-sm\">Étape 1: Téléversement</span>\r\n                        </div>\r\n                        <div class=\"w-8 h-px bg-surface-300 dark:bg-surface-600\"></div>\r\n                        <div class=\"flex items-center gap-2\">\r\n                            <i class=\"pi pi-check-circle text-green-500 text-sm\"></i>\r\n                            <span class=\"text-surface-700 dark:text-surface-300 text-sm\">Étape 2: Validation</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Action Button -->\r\n                <div class=\"flex flex-col items-end gap-3\">\r\n                    @if (state().documents && state().documents!.length > 0) {\r\n                    <div class=\"bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-full\">\r\n                        <span class=\"text-green-700 dark:text-green-300 text-sm font-medium\">\r\n                            {{ state().documents!.length }} document(s) prêt(s)\r\n                        </span>\r\n                    </div>\r\n\r\n                    <button pButton type=\"button\" label=\"Retour\" class=\"p-button-outlined\" icon=\"pi pi-arrow-left\"\r\n                        [routerLink]=\"['/dashboards/credit/individuel/attente/detail', state().demandeIndividuel?.demandeIndividuelId]\">\r\n                    </button>\r\n                    } @else {\r\n                    <div class=\"bg-orange-50 dark:bg-orange-900/20 px-4 py-2 rounded-full\">\r\n                        <span class=\"text-orange-700 dark:text-orange-300 text-sm font-medium\">\r\n                            En attente de documents\r\n                        </span>\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div class=\"container mx-auto px-6 py-8\">\r\n        <!-- Upload Section -->\r\n\r\n        <div *ngIf=\"state()?.user?.role === 'AGENT_CREDIT'\" class=\"mb-8\">\r\n            <div\r\n                class=\"bg-surface-0 dark:bg-surface-900 rounded-2xl shadow-lg border border-surface-200 dark:border-surface-700 overflow-hidden\">\r\n                <!-- Upload Header -->\r\n                <div class=\"bg-gradient-to-r from-primary-500 to-primary-600 px-8 py-6\">\r\n                    <div class=\"flex items-center gap-3\">\r\n                        <div class=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center\">\r\n                            <i class=\"pi pi-cloud-upload text-white text-xl\"></i>\r\n                        </div>\r\n                        <div>\r\n                            <h2 class=\"text-white text-2xl font-bold mb-1\">Téléverser des documents</h2>\r\n                            <p class=\"text-white/80 text-sm\">Formats acceptés: Images, PDF, Word</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Upload Content -->\r\n                <div class=\"p-8\">\r\n                    <!-- File Upload Zone -->\r\n                    <div class=\"mb-6\">\r\n                        <div class=\"relative\">\r\n                            <p-fileUpload mode=\"basic\" chooseLabel=\"Choisir des fichiers\"\r\n                                (onSelect)=\"onFileSelect($event)\" accept=\"image/*,.pdf,.doc,.docx\"\r\n                                [showUploadButton]=\"false\" [showCancelButton]=\"false\" [multiple]=\"true\"\r\n                                styleClass=\"custom-file-upload\">\r\n                            </p-fileUpload>\r\n\r\n                            <!-- Custom Upload Area -->\r\n                            <div\r\n                                class=\"mt-4 border-2 border-dashed border-surface-300 dark:border-surface-600 rounded-xl p-8 text-center hover:border-primary-400 transition-colors duration-300 cursor-pointer\">\r\n                                <i class=\"pi pi-cloud-upload text-surface-400 dark:text-surface-500 text-4xl mb-4\"></i>\r\n                                <div class=\"text-surface-900 dark:text-surface-0 text-lg font-medium mb-2\">\r\n                                    Glissez vos fichiers ici ou cliquez pour parcourir\r\n                                </div>\r\n                                <p class=\"text-surface-600 dark:text-surface-400 text-sm\">\r\n                                    Taille max: 10MB • Formats: JPG, PNG, PDF, DOC, DOCX\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Files Preview - Modern Cards -->\r\n                    <div *ngIf=\"state().previews.length > 0\" class=\"space-y-6\">\r\n                        <div class=\"flex items-center justify-between\">\r\n                            <h3 class=\"text-surface-900 dark:text-surface-0 text-xl font-semibold\">\r\n                                Fichiers sélectionnés ({{ state().previews.length }})\r\n                            </h3>\r\n                            <span class=\"text-surface-500 dark:text-surface-400 text-sm\">\r\n                                Prêt pour le téléversement\r\n                            </span>\r\n                        </div>\r\n\r\n                        <!-- Files Grid - Version avec support PDF -->\r\n                        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                            <div *ngFor=\"let preview of state().previews; let i = index\"\r\n                                class=\"bg-surface-50 dark:bg-surface-800 rounded-xl border border-surface-200 dark:border-surface-700 overflow-hidden hover:shadow-lg transition-all duration-300\">\r\n\r\n                                <!-- File Preview -->\r\n                                <div\r\n                                    class=\"relative h-40 bg-surface-100 dark:bg-surface-700 flex items-center justify-center\">\r\n\r\n                                    <!-- Image Preview -->\r\n                                    <div *ngIf=\"preview.file.type.includes('image')\" class=\"w-full h-full relative\">\r\n                                        <img [src]=\"preview.url\" alt=\"Preview\"\r\n                                            class=\"w-full h-full object-contain bg-surface-50 dark:bg-surface-800\" />\r\n                                    </div>\r\n\r\n                                    <!-- PDF Preview -->\r\n                                    <div *ngIf=\"preview.file.type === 'application/pdf'\" class=\"w-full h-full relative\">\r\n                                        <!-- PDF Thumbnail/Icon -->\r\n                                        <div class=\"w-full h-full flex flex-col items-center justify-center bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 cursor-pointer\"\r\n                                            (click)=\"previewPDF(preview)\">\r\n                                            <i class=\"pi pi-file-pdf text-4xl mb-2\"></i>\r\n                                            <span class=\"text-xs font-medium\">PDF Document</span>\r\n                                            <span class=\"text-xs opacity-75\">Cliquez pour prévisualiser</span>\r\n                                        </div>\r\n\r\n                                        <!-- PDF Badge -->\r\n                                        <div\r\n                                            class=\"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-medium\">\r\n                                            <i class=\"pi pi-file-pdf mr-1\"></i>\r\n                                            PDF\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <!-- Word Documents -->\r\n                                    <div *ngIf=\"preview.file.type.includes('word') || preview.file.type.includes('document')\"\r\n                                        class=\"w-full h-full flex flex-col items-center justify-center bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400\">\r\n                                        <i class=\"pi pi-file-word text-4xl mb-2\"></i>\r\n                                        <span class=\"text-xs font-medium\">Document Word</span>\r\n                                        <span class=\"text-xs opacity-75\">{{ getFileExtension(preview.file.name)\r\n                                            }}</span>\r\n                                    </div>\r\n\r\n                                    <!-- Other Files -->\r\n                                    <div *ngIf=\"!preview.file.type.includes('image') && preview.file.type !== 'application/pdf' && !preview.file.type.includes('word') && !preview.file.type.includes('document')\"\r\n                                        class=\"w-full h-full flex flex-col items-center justify-center text-surface-400\">\r\n                                        <i class=\"pi pi-file text-4xl mb-2\"></i>\r\n                                        <span class=\"text-xs font-medium\">{{ getFileTypeDisplay(preview.file) }}</span>\r\n                                        <span class=\"text-xs opacity-75\">{{ getFileExtension(preview.file.name)\r\n                                            }}</span>\r\n                                    </div>\r\n\r\n                                    <!-- Remove Button -->\r\n                                    <button pButton type=\"button\" icon=\"pi pi-times\"\r\n                                        class=\"p-button-danger p-button-sm p-button-rounded absolute top-2 right-2 !w-8 !h-8 opacity-80 hover:opacity-100\"\r\n                                        (click)=\"removeFile(i)\" pTooltip=\"Supprimer\">\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <!-- File Info -->\r\n                                <div class=\"p-4\">\r\n                                    <div class=\"text-surface-900 dark:text-surface-0 font-medium text-sm mb-2 truncate\"\r\n                                        [title]=\"preview.file.name\">\r\n                                        {{ preview.file.name }}\r\n                                    </div>\r\n\r\n                                    <!-- File Type Badge -->\r\n                                    <div class=\"mb-2\">\r\n                                        <span [class]=\"getFileTypeBadgeClass(preview.file)\"\r\n                                            class=\"px-2 py-1 rounded-full text-xs font-medium\">\r\n                                            {{ getFileTypeDisplay(preview.file) }}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <div class=\"grid grid-cols-2 gap-2 text-xs text-surface-600 dark:text-surface-400\">\r\n                                        <!-- Taille du fichier -->\r\n                                        <div class=\"flex items-center gap-1\">\r\n                                            <i class=\"pi pi-database text-xs\"></i>\r\n                                            <span>{{ formatFileSize(preview.file.size) }}</span>\r\n                                        </div>\r\n\r\n                                        <!-- Dimensions (si image) -->\r\n                                        <div *ngIf=\"preview.width && preview.height\" class=\"flex items-center gap-1\">\r\n                                            <i class=\"pi pi-expand text-xs\"></i>\r\n                                            <span>{{ preview.width }}×{{ preview.height }}</span>\r\n                                        </div>\r\n\r\n                                        <!-- Actions supplémentaires pour PDF -->\r\n                                        <div *ngIf=\"preview.file.type === 'application/pdf'\" class=\"col-span-2 mt-2\">\r\n                                            <button pButton type=\"button\" label=\"Prévisualiser PDF\" icon=\"pi pi-eye\"\r\n                                                class=\"p-button-outlined p-button-sm w-full\"\r\n                                                (click)=\"previewPDF(preview)\">\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!-- Upload Button -->\r\n                        <div class=\"flex justify-center pt-6 border-t border-surface-200 dark:border-surface-700\">\r\n                            <button pButton type=\"button\" (click)=\"uploadDocuments()\"\r\n                                [disabled]=\"state().loading || state().previews.length === 0\"\r\n                                class=\"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 border-0 px-8 py-3 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300\">\r\n                                <i *ngIf=\"!state().loading\" class=\"pi pi-upload mr-3\"></i>\r\n                                <i *ngIf=\"state().loading\" class=\"pi pi-spinner pi-spin mr-3\"></i>\r\n                                <span>{{ state().loading ? 'Téléversement...' : 'Téléverser tous les documents'\r\n                                    }}</span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Error Message -->\r\n                    <div *ngIf=\"state().error\" class=\"mt-6\">\r\n                        <div\r\n                            class=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\r\n                            <div class=\"flex items-center gap-3\">\r\n                                <i class=\"pi pi-exclamation-triangle text-red-500\"></i>\r\n                                <span class=\"text-red-700 dark:text-red-300\">{{ state().error }}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Documents Gallery Section -->\r\n        <div *ngIf=\"state().documents && state().documents!.length > 0\">\r\n            <div class=\"card\">\r\n                <div class=\"text-surface-900 dark:text-surface-0 font-medium text-2xl mb-6\">\r\n                    Liste des Documents pour la sélection\r\n                </div>\r\n\r\n                <div class=\"grid grid-cols-12 gap-4 -mt-4 -ml-4 -mr-4\">\r\n                    <div class=\"col-span-12 md:col-span-6 lg:col-span-4\"\r\n                        *ngFor=\"let doc of state().documents; let i = index\">\r\n                        <div class=\"p-2\">\r\n                            <div\r\n                                class=\"shadow p-6 bg-surface-0 dark:bg-surface-900 rounded hover:shadow-lg transition-shadow duration-300\">\r\n\r\n                                <!-- Document Container -->\r\n                                <div class=\"relative mb-4 cursor-pointer group\" (click)=\"viewDocument(doc)\">\r\n                                    <!-- Status Badge -->\r\n                                    <span class=\"bg-green-500 text-white shadow px-4 py-2 absolute rounded-3xl z-10\"\r\n                                        style=\"left: 1rem; top: 1rem; font-size: 12px; font-weight: 600;\">\r\n                                        <i class=\"pi pi-check mr-1\"></i>\r\n                                        VALIDÉ\r\n                                    </span>\r\n\r\n                                    <!-- File Type Badge -->\r\n                                    <span class=\"absolute top-2 right-2 z-10 px-2 py-1 rounded text-xs font-medium\"\r\n                                        [class]=\"isPDFDocument(doc) ? 'bg-red-500 text-white' : 'bg-blue-500 text-white'\">\r\n                                        {{ getDocumentExtension(doc) }}\r\n                                    </span>\r\n\r\n                                    <!-- Image Document Display -->\r\n                                    <div *ngIf=\"isImageDocument(doc)\" class=\"w-full h-48 relative\">\r\n                                        <img [src]=\"doc.doc\" [alt]=\"'Document ' + (i + 1)\"\r\n                                            class=\"w-full h-full object-cover rounded-lg group-hover:scale-105 transition-transform duration-300\" />\r\n                                    </div>\r\n\r\n                                    <!-- PDF Document Display -->\r\n                                    <div *ngIf=\"isPDFDocument(doc)\"\r\n                                        class=\"w-full h-48 bg-red-50 dark:bg-red-900/20 rounded-lg flex flex-col items-center justify-center text-red-600 dark:text-red-400 group-hover:scale-105 transition-transform duration-300\">\r\n                                        <i class=\"pi pi-file-pdf text-6xl mb-3\"></i>\r\n                                        <span class=\"text-sm font-medium\">Document PDF</span>\r\n                                        <span class=\"text-xs opacity-75\">Cliquez pour prévisualiser</span>\r\n                                    </div>\r\n\r\n                                    <!-- Other Document Types -->\r\n                                    <div *ngIf=\"!isImageDocument(doc) && !isPDFDocument(doc)\"\r\n                                        class=\"w-full h-48 bg-surface-100 dark:bg-surface-700 rounded-lg flex flex-col items-center justify-center text-surface-400\">\r\n                                        <i class=\"pi pi-file text-6xl mb-3\"></i>\r\n                                        <span class=\"text-sm font-medium\">{{ getDocumentExtension(doc) }}</span>\r\n                                        <span class=\"text-xs opacity-75\">Document</span>\r\n                                    </div>\r\n\r\n                                    <!-- Hover Overlay -->\r\n                                    <div\r\n                                        class=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center rounded-lg\">\r\n                                        <button\r\n                                            class=\"opacity-0 group-hover:opacity-100 bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 backdrop-blur-sm\">\r\n                                            <i class=\"pi pi-eye mr-2\"></i>\r\n                                            {{ isPDFDocument(doc) ? 'Voir PDF' : 'Aperçu' }}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <!-- Document Info -->\r\n                                <div class=\"flex justify-between items-center mb-4\">\r\n                                    <span class=\"text-surface-900 dark:text-surface-0 font-medium text-xl\">\r\n                                        Document {{ i + 1 }}\r\n                                    </span>\r\n                                    <span class=\"flex items-center\">\r\n                                        <i class=\"pi pi-star-fill text-yellow-500 mr-1\"></i>\r\n                                        <span class=\"font-medium\">5.0</span>\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <!-- Description with file type -->\r\n                                <p class=\"mt-0 mb-4 text-surface-700 dark:text-surface-100 leading-normal\">\r\n                                    {{ getDocumentExtension(doc) }} téléversé le\r\n                                    {{ doc.createdAt ? (doc.createdAt | date:'dd/MM/yyyy') : 'date inconnue' }}.\r\n                                    Fichier de haute qualité validé et sécurisé.\r\n                                </p>\r\n\r\n                                <!-- Actions -->\r\n                                <div class=\"flex justify-between items-center\">\r\n                                    <span class=\"text-primary text-xl font-medium\">\r\n                                        <i [class]=\"isPDFDocument(doc) ? 'pi pi-file-pdf' : 'pi pi-image'\"\r\n                                            class=\"mr-2\"></i>\r\n                                        {{ isPDFDocument(doc) ? 'PDF' : 'Image' }}\r\n                                    </span>\r\n                                    <div class=\"flex gap-2\">\r\n                                        <button pButton type=\"button\"\r\n                                            [icon]=\"isPDFDocument(doc) ? 'pi pi-file-pdf' : 'pi pi-eye'\"\r\n                                            class=\"p-button-outlined p-button-sm\"\r\n                                            (click)=\"viewDocument(doc); $event.stopPropagation()\"\r\n                                            [pTooltip]=\"isPDFDocument(doc) ? 'Voir le PDF' : 'Voir le document'\">\r\n                                        </button>\r\n                                        <button pButton type=\"button\" icon=\"pi pi-trash\"\r\n                                            class=\"p-button-danger p-button-outlined p-button-sm\"\r\n                                            (click)=\"confirmDelete(doc); $event.stopPropagation()\"\r\n                                            [disabled]=\"state().loading\" pTooltip=\"Supprimer\">\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Empty State -->\r\n        <div *ngIf=\"!state().documents || state().documents!.length === 0\" class=\"text-center py-16\">\r\n            <div\r\n                class=\"w-24 h-24 bg-surface-100 dark:bg-surface-800 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                <i class=\"pi pi-file text-surface-400 dark:text-surface-500 text-3xl\"></i>\r\n            </div>\r\n            <h3 class=\"text-surface-900 dark:text-surface-0 text-xl font-semibold mb-3\">\r\n                Aucun document téléversé\r\n            </h3>\r\n            <p class=\"text-surface-600 dark:text-surface-400 text-lg max-w-md mx-auto\">\r\n                Commencez par téléverser vos documents de sélection pour les voir apparaître ici\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Preview Dialog -->\r\n    <p-dialog header=\"Aperçu du document\" [visible]=\"state().showPreviewDialog\" (onHide)=\"closePreviewDialog()\"\r\n        [modal]=\"true\" [closable]=\"true\" [draggable]=\"false\" [resizable]=\"true\"\r\n        [style]=\"{width: '90vw', maxWidth: '1000px', minHeight: '400px'}\" styleClass=\"preview-dialog\"\r\n        [maximizable]=\"true\" [blockScroll]=\"true\">\r\n\r\n        <!-- Document Preview Content -->\r\n        <div *ngIf=\"state().selectedDocumentForPreview; else noDocument\" class=\"text-center\">\r\n            <!-- Main Image -->\r\n            <div class=\"relative inline-block mb-4\">\r\n                <img [src]=\"state().selectedDocumentForPreview?.doc\" [alt]=\"'Document preview'\"\r\n                    class=\"max-w-full max-h-[70vh] object-contain rounded-lg shadow-lg\"\r\n                    style=\"max-width: 100%; height: auto;\" />\r\n            </div>\r\n\r\n            <!-- Document Information -->\r\n            <div class=\"mt-6 p-4 bg-surface-50 dark:bg-surface-800 rounded-lg\">\r\n                <div class=\"flex items-center justify-center gap-6 text-surface-700 dark:text-surface-300 flex-wrap\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"pi pi-calendar text-primary\"></i>\r\n                        <span>\r\n                            <strong>Ajouté le:</strong>\r\n                            {{ state().selectedDocumentForPreview?.createdAt ?\r\n                            (state().selectedDocumentForPreview?.createdAt | date:'dd/MM/yyyy à HH:mm') :'Date inconnue'\r\n                            }}\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"flex items-center gap-2\">\r\n                        <i class=\"pi pi-check-circle text-green-500\"></i>\r\n                        <span><strong>Statut:</strong> Validé</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Action Buttons -->\r\n                <div class=\"flex justify-center gap-3 mt-4\">\r\n                    <button pButton type=\"button\" label=\"Fermer\" icon=\"pi pi-times\"\r\n                        class=\"p-button-outlined p-button-sm\" (click)=\"closePreviewDialog()\">\r\n                    </button>\r\n                    <button pButton type=\"button\" label=\"Supprimer\" icon=\"pi pi-trash\"\r\n                        class=\"p-button-danger p-button-outlined p-button-sm\"\r\n                        (click)=\"confirmDelete(state().selectedDocumentForPreview!); closePreviewDialog()\">\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- No Document Template -->\r\n        <ng-template #noDocument>\r\n            <div class=\"text-center py-8\">\r\n                <i class=\"pi pi-image text-surface-400 text-4xl mb-4\"></i>\r\n                <h3 class=\"text-surface-900 dark:text-surface-0 text-lg font-medium mb-2\">\r\n                    Aucun document à prévisualiser\r\n                </h3>\r\n                <p class=\"text-surface-600 dark:text-surface-400\">\r\n                    Sélectionnez un document pour l'afficher ici\r\n                </p>\r\n                <button pButton type=\"button\" label=\"Fermer\" class=\"p-button-text mt-4\" (click)=\"closePreviewDialog()\">\r\n                </button>\r\n            </div>\r\n        </ng-template>\r\n    </p-dialog>\r\n    <!-- PDF Preview Dialog -->\r\n    <!-- PDF Preview Dialog Without iframe -->\r\n    <p-dialog header=\"Aperçu PDF\" [(visible)]=\"showPDFPreview\" (onHide)=\"closePDFPreview()\" [modal]=\"true\"\r\n        [closable]=\"true\" [closeOnEscape]=\"true\" [maximizable]=\"true\"\r\n        [style]=\"{width: '90vw', maxWidth: '1200px', height: '80vh'}\" styleClass=\"pdf-preview-dialog\"\r\n        [blockScroll]=\"true\">\r\n\r\n        <!-- Custom header with close button (optional) -->\r\n        <ng-template pTemplate=\"header\">\r\n            <div class=\"flex justify-between items-center w-full\">\r\n                <span class=\"text-lg font-semibold\">Aperçu PDF</span>\r\n                <button pButton type=\"button\" icon=\"pi pi-times\" class=\"p-button-rounded p-button-text p-button-sm\"\r\n                    (click)=\"closePDFPreview()\" pTooltip=\"Fermer\">\r\n                </button>\r\n            </div>\r\n        </ng-template>\r\n\r\n        <div *ngIf=\"state().selectedPDFFile\" class=\"h-full\">\r\n            <!-- PDF Content -->\r\n            <div class=\"pdf-container\" style=\"height: calc(80vh - 120px);\">\r\n\r\n                <!-- Option 1: Direct link approach (no iframe) -->\r\n                <div class=\"text-center p-8\">\r\n                    <div class=\"mb-6\">\r\n                        <i class=\"pi pi-file-pdf text-red-500 text-6xl\"></i>\r\n                    </div>\r\n\r\n                    <h3 class=\"text-xl font-semibold mb-4\">Document PDF</h3>\r\n\r\n                    <p class=\"text-surface-600 dark:text-surface-400 mb-6\">\r\n                        Cliquez sur l'une des options ci-dessous pour consulter le PDF :\r\n                    </p>\r\n\r\n                    <div class=\"flex flex-col gap-3 max-w-sm mx-auto\">\r\n                        <button pButton type=\"button\" label=\"Ouvrir dans un nouvel onglet\" icon=\"pi pi-external-link\"\r\n                            class=\"p-button-primary w-full\" (click)=\"openPDFInNewTab()\">\r\n                        </button>\r\n\r\n                        <button pButton type=\"button\" label=\"Télécharger le PDF\" icon=\"pi pi-download\"\r\n                            class=\"p-button-outlined w-full\" (click)=\"downloadPDF()\">\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Footer with actions -->\r\n            <div class=\"flex justify-end gap-2 mt-4 pt-4 border-t border-surface-200 dark:border-surface-700\">\r\n                <button pButton type=\"button\" label=\"Fermer\" icon=\"pi pi-times\" class=\"p-button-text\"\r\n                    (click)=\"closePDFPreview()\">\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </p-dialog>\r\n</div>"],
  "mappings": "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",
  "names": ["document"]
}
