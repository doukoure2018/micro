import{a as Qe,b as We,c as $e}from"./chunk-Q5MOEBGQ.js";import{a as Ye,b as He}from"./chunk-E24E7YRI.js";import"./chunk-F6BLPIFZ.js";import"./chunk-SQPWYWAP.js";import"./chunk-TOQUJNDH.js";import{c as qe,d as Ve}from"./chunk-JK4JG2UW.js";import{a as Oe,b as ze}from"./chunk-KX7VGL6R.js";import{a as Le,b as Re}from"./chunk-QZOXHZZK.js";import"./chunk-ED7TFTUL.js";import"./chunk-MZ7FZGG3.js";import{a as Ue,b as je}from"./chunk-C4WQ325L.js";import{b as Ge,c as Be}from"./chunk-HNZBC55R.js";import"./chunk-ATSSA22C.js";import{a as Me,b as De}from"./chunk-3BEM77IG.js";import{b as ve,d as xe}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as R}from"./chunk-YTFCGSG6.js";import"./chunk-RHLJ6NE2.js";import{a as Te,b as we}from"./chunk-R2ZYXRFE.js";import"./chunk-NRZ4QNP7.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{f as Ne,g as Ae}from"./chunk-XKXBFP6V.js";import"./chunk-ULM4QL4Q.js";import{ka as B,oa as L,sa as _e}from"./chunk-3YZBLOIS.js";import{b as fe,c as s,e as ge,f as be,j as Ce,m as Ee,n as ye,o as he,p as Se,w as Ie,x as Fe,y as Pe}from"./chunk-2I6ZAGC7.js";import{b as ke}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import{m as ce,n as pe,w as ue,y as se}from"./chunk-GZWLZB4Q.js";import{Ac as y,Gb as t,Hb as e,I as te,Ib as p,Mb as w,O as ie,Rb as b,Sb as u,Va as r,_ as T,cc as l,dc as P,ec as _,fa as f,fc as M,ga as g,gb as le,i as ee,ic as oe,jc as ae,kc as me,lc as de,ma as ne,mb as v,mc as G,va as re,vb as m,wc as E,yb as D}from"./chunk-MKA3N2SS.js";import{a as S,b as I}from"./chunk-GAL4ENT6.js";var Ke=()=>({width:"450px"}),Xe=()=>({width:"50px",height:"50px"});function Ze(o,i){o&1&&(t(0,"div",3),p(1,"p-progressSpinner",4),e()),o&2&&(r(),D(G(2,Xe)))}function et(o,i){if(o&1&&(t(0,"div",126),l(1),e()),o&2){let n=u(2);r(),_(" ",n.state().error," ")}}function tt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function it(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function nt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis et doit \xEAtre sup\xE9rieur \xE0 0"),e())}function rt(o,i){o&1&&(t(0,"small",127),l(1,"La valeur doit \xEAtre sup\xE9rieure ou \xE9gale \xE0 0"),e())}function lt(o,i){o&1&&(t(0,"small",127),l(1,"La valeur doit \xEAtre sup\xE9rieure ou \xE9gale \xE0 0"),e())}function ot(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function at(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function mt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function dt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis et doit \xEAtre sup\xE9rieur \xE0 0"),e())}function ct(o,i){if(o&1){let n=w();t(0,"p-button",137),b("click",function(){f(n);let a=u().index,x=u(2);return g(x.removeProduit(a))}),e()}}function pt(o,i){if(o&1&&(t(0,"p-card",84)(1,"div",128)(2,"div",129)(3,"label",130),l(4,"Libell\xE9*"),e(),p(5,"input",131),e(),t(6,"div",129)(7,"label",130),l(8,"Prix unitaire*"),e(),p(9,"p-inputNumber",132),e(),t(10,"div",129)(11,"label",130),l(12,"Quantit\xE9*"),e(),p(13,"p-inputNumber",133),e(),t(14,"div",129)(15,"label",130),l(16,"Observation"),e(),p(17,"input",134),e(),t(18,"div",135),v(19,ct,1,0,"p-button",136),e()()()),o&2){let n=i.index,d=u(2);r(),m("formGroupName",n),r(2),m("for","produit-libele-"+n),r(2),m("id","produit-libele-"+n),r(2),m("for","produit-prix-"+n),r(2),m("id","produit-prix-"+n)("minFractionDigits",2)("maxFractionDigits",2),r(2),m("for","produit-qte-"+n),r(2),m("id","produit-qte-"+n)("showButtons",!0)("min",1),r(2),m("for","produit-obs-"+n),r(2),m("id","produit-obs-"+n),r(2),m("ngIf",d.produits.length>1)}}function ut(o,i){if(o&1){let n=w();t(0,"p-button",137),b("click",function(){f(n);let a=u().index,x=u(2);return g(x.removeCharge(a))}),e()}}function st(o,i){if(o&1&&(t(0,"p-card",84)(1,"div",128)(2,"div",138)(3,"label",130),l(4,"Libell\xE9*"),e(),p(5,"input",131),e(),t(6,"div",138)(7,"label",130),l(8,"Prix unitaire*"),e(),p(9,"p-inputNumber",132),e(),t(10,"div",138)(11,"label",130),l(12,"Quantit\xE9*"),e(),p(13,"p-inputNumber",133),e(),t(14,"div",135),v(15,ut,1,0,"p-button",136),e()()()),o&2){let n=i.index,d=u(2);r(),m("formGroupName",n),r(2),m("for","charge-libele-"+n),r(2),m("id","charge-libele-"+n),r(2),m("for","charge-prix-"+n),r(2),m("id","charge-prix-"+n)("minFractionDigits",2)("maxFractionDigits",2),r(2),m("for","charge-qte-"+n),r(2),m("id","charge-qte-"+n)("showButtons",!0)("min",1),r(2),m("ngIf",d.charges.length>1)}}function vt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis"),e())}function xt(o,i){o&1&&(t(0,"small",127),l(1,"Ce champ est requis et doit \xEAtre sup\xE9rieur \xE0 0"),e())}function _t(o,i){if(o&1){let n=w();t(0,"p-button",137),b("click",function(){f(n);let a=u().index,x=u(2);return g(x.removeCaution(a))}),e()}}function ft(o,i){if(o&1&&(t(0,"p-card",84)(1,"div",128)(2,"div",129)(3,"label",130),l(4,"Nom*"),e(),p(5,"input",139),e(),t(6,"div",129)(7,"label",130),l(8,"Pr\xE9nom*"),e(),p(9,"input",140),e(),t(10,"div",129)(11,"label",130),l(12,"T\xE9l\xE9phone*"),e(),p(13,"input",141),e(),t(14,"div",129)(15,"label",130),l(16,"Activit\xE9*"),e(),p(17,"input",142),e(),t(18,"div",129)(19,"label",130),l(20,"\xC2ge*"),e(),p(21,"p-inputNumber",143),e(),t(22,"div",129)(23,"label",130),l(24,"Profession*"),e(),p(25,"input",144),e(),t(26,"div",135),v(27,_t,1,0,"p-button",136),e()()()),o&2){let n=i.index,d=u(2);r(),m("formGroupName",n),r(2),m("for","caution-nom-"+n),r(2),m("id","caution-nom-"+n),r(2),m("for","caution-prenom-"+n),r(2),m("id","caution-prenom-"+n),r(2),m("for","caution-telephone-"+n),r(2),m("id","caution-telephone-"+n),r(2),m("for","caution-activite-"+n),r(2),m("id","caution-activite-"+n),r(2),m("for","caution-age-"+n),r(2),m("id","caution-age-"+n)("showButtons",!0)("min",18),r(2),m("for","caution-profession-"+n),r(2),m("id","caution-profession-"+n),r(2),m("ngIf",d.cautions.length>1)}}function gt(o,i){o&1&&(t(0,"div",145),p(1,"i",146),t(2,"h3",147),l(3,"Informations Principales"),e()())}function bt(o,i){o&1&&(t(0,"div",148),p(1,"i",149),t(2,"h3",150),l(3,"Activit\xE9 & Exp\xE9rience"),e()())}function Ct(o,i){if(o&1&&(t(0,"div",151)(1,"div",81),p(2,"i",152),t(3,"h3",153),l(4),e()(),p(5,"p-tag",154),E(6,"currency"),e()),o&2){let n,d=u(2);r(4),_("Produits (",d.produits.length,")"),r(),m("value",(n=y(6,2,d.calculateTotalProduits(),"GNF","symbol","1.0-0"))!==null&&n!==void 0?n:"")}}function Et(o,i){if(o&1&&(t(0,"div",156)(1,"div",157)(2,"div",158)(3,"h4",159),l(4),e(),t(5,"span",160),l(6),e()(),t(7,"div",161),l(8),e(),t(9,"div",78)(10,"div",162),l(11),E(12,"currency"),e(),t(13,"div",163),l(14),E(15,"currency"),e()()()()),o&2){let n,d,a,x,C=i.$implicit,F=i.index;r(4),P((n=C.get("libele"))==null?null:n.value),r(2),_("#",F+1,""),r(2),_(" ",((d=C.get("observation"))==null?null:d.value)||"Aucuneobservation"," "),r(3),_(" ",y(12,6,((a=C.get("prixUnit"))==null?null:a.value)*((a=C.get("qte"))==null?null:a.value),"GNF","symbol","1.0-0")," "),r(3),M(" ",(x=C.get("qte"))==null?null:x.value," \xD7 ",y(15,11,(x=C.get("prixUnit"))==null?null:x.value,"GNF","symbol","1.0-0")," ")}}function yt(o,i){if(o&1&&(t(0,"div",62),v(1,Et,16,16,"div",155),e()),o&2){let n=u(2);r(),m("ngForOf",n.produits.controls)}}function ht(o,i){o&1&&(t(0,"div",164),p(1,"i",165),t(2,"p",166),l(3,"Aucun produit ajout\xE9"),e()())}function St(o,i){if(o&1&&(t(0,"div",167)(1,"div",81),p(2,"i",168),t(3,"h3",169),l(4),e()(),p(5,"p-tag",170),E(6,"currency"),e()),o&2){let n,d=u(2);r(4),_("Charges (",d.charges.length,") "),r(),m("value",(n=y(6,2,d.calculateTotalCharges(),"GNF","symbol","1.0-0"))!==null&&n!==void 0?n:"")}}function It(o,i){if(o&1&&(t(0,"div",156)(1,"div",157)(2,"div",158)(3,"h4",159),l(4),e(),t(5,"span",160),l(6),e()(),t(7,"div",78)(8,"div",162),l(9),E(10,"currency"),e(),t(11,"div",163),l(12),E(13,"currency"),e()()()()),o&2){let n,d,a,x=i.$implicit,C=i.index;r(4),_("",(n=x.get("libele"))==null?null:n.value," "),r(2),_("#",C+1,""),r(3),_(" ",y(10,5,((d=x.get("prixUnit"))==null?null:d.value)*((d=x.get("qte"))==null?null:d.value),"GNF","symbol","1.0-0")," "),r(3),M(" ",(a=x.get("qte"))==null?null:a.value," \xD7 ",y(13,10,(a=x.get("prixUnit"))==null?null:a.value,"GNF","symbol","1.0-0")," ")}}function Ft(o,i){if(o&1&&(t(0,"div",62),v(1,It,14,15,"div",155),e()),o&2){let n=u(2);r(),m("ngForOf",n.charges.controls)}}function Pt(o,i){o&1&&(t(0,"div",164),p(1,"i",165),t(2,"p",166),l(3,"Aucune charge ajout\xE9e"),e()())}function Tt(o,i){o&1&&(t(0,"div",171),p(1,"i",172),t(2,"h3",173),l(3,"Garantie"),e()())}function wt(o,i){if(o&1&&(t(0,"div",176)(1,"strong"),l(2,"IT Ass:"),e(),l(3),e()),o&2){let n,d=u(3);r(3),_(" ",(n=d.creditForm.get("itAss"))==null?null:n.value," ")}}function Nt(o,i){if(o&1&&(t(0,"div",177)(1,"strong"),l(2,"IT PC:"),e(),l(3),e()),o&2){let n,d=u(3);r(3),_(" ",(n=d.creditForm.get("itPc"))==null?null:n.value," ")}}function At(o,i){if(o&1&&(t(0,"div",93)(1,"div",99)(2,"div",106),l(3,"Localisation"),e(),v(4,wt,4,1,"div",174)(5,Nt,4,1,"div",175),e()()),o&2){let n,d,a=u(2);r(4),m("ngIf",(n=a.creditForm.get("itAss"))==null?null:n.value),r(),m("ngIf",(d=a.creditForm.get("itPc"))==null?null:d.value)}}function kt(o,i){if(o&1&&(t(0,"div",178),p(1,"i",179),t(2,"h3",180),l(3),e()()),o&2){let n=u(2);r(3),_("Personnes Caution (",n.cautions.length,")")}}function qt(o,i){if(o&1&&(t(0,"div",156)(1,"div",157)(2,"div",181),p(3,"p-avatar",182),t(4,"div")(5,"div",101),l(6),e(),t(7,"div",163),l(8),e()()(),t(9,"div",183),l(10),e(),t(11,"div",183),l(12),e(),t(13,"div",184),l(14),e()()()),o&2){let n,d,a,x,C,F,h=i.$implicit;r(3),m("label",(((n=h.get("prenom"))==null?null:n.value)||"?").charAt(0)+(((n=h.get("nom"))==null?null:n.value)||"?").charAt(0)),r(3),M(" ",(d=h.get("prenom"))==null?null:d.value," ",(d=h.get("nom"))==null?null:d.value," "),r(2),_("",(a=h.get("age"))==null?null:a.value," ans"),r(2),P((x=h.get("profession"))==null?null:x.value),r(2),P((C=h.get("activite"))==null?null:C.value),r(2),_("",(F=h.get("telephone"))==null?null:F.value," ")}}function Vt(o,i){if(o&1&&(t(0,"div",62),v(1,qt,15,7,"div",155),e()),o&2){let n=u(2);r(),m("ngForOf",n.cautions.controls)}}function Mt(o,i){o&1&&(t(0,"div",164),p(1,"i",165),t(2,"p",166),l(3,"Aucune caution ajout\xE9e"),e()())}function Dt(o,i){o&1&&(t(0,"div",185),p(1,"i",186),t(2,"h3",187),l(3,"Synth\xE8se Financi\xE8re"),e()())}function Gt(o,i){if(o&1){let n=w();t(0,"div")(1,"div",5),l(2),e(),v(3,et,2,1,"div",6),t(4,"p-tabView",7),me("activeIndexChange",function(a){f(n);let x=u();return ae(x.state().activeIndex,a)||(x.state().activeIndex=a),g(a)}),t(5,"p-tabPanel",8)(6,"form",9)(7,"div",10)(8,"label",11),l(9,"Cumul Cr\xE9dit"),e(),p(10,"p-inputNumber",12),e(),t(11,"div",10)(12,"label",13),l(13,"Nombre de Cr\xE9dit"),e(),p(14,"p-inputNumber",14),e(),t(15,"div",10)(16,"label",15),l(17,"Num\xE9ro Membre*"),e(),p(18,"input",16),e(),t(19,"div",10)(20,"label",17),l(21,"R\xE9f\xE9rence du Cr\xE9dit*"),e(),p(22,"input",18),e(),t(23,"div",10)(24,"label",19),l(25,"Moyen de Deplacement Personnel*"),e(),p(26,"input",20),v(27,tt,2,0,"small",21),e(),t(28,"div",10)(29,"label",22),l(30,"Bien*"),e(),p(31,"input",23),v(32,it,2,0,"small",21),e(),t(33,"div",10)(34,"label",24),l(35,"Capital*"),e(),p(36,"p-inputNumber",25),v(37,nt,2,0,"small",21),e(),t(38,"div",10)(39,"label",26),l(40,"Cr\xE9ance"),e(),p(41,"p-inputNumber",27),v(42,rt,2,0,"small",21),e(),t(43,"div",10)(44,"label",28),l(45,"Dette"),e(),p(46,"p-inputNumber",29),v(47,lt,2,0,"small",21),e(),t(48,"div",10)(49,"label",30),l(50,"Statut d'Activit\xE9*"),e(),p(51,"input",31),v(52,ot,2,0,"small",21),e(),t(53,"div",10)(54,"label",32),l(55,"Exp\xE9rience*"),e(),p(56,"input",33),v(57,at,2,0,"small",21),e(),t(58,"div",10)(59,"label",34),l(60,"Lieu d'Activit\xE9*"),e(),p(61,"input",35),v(62,mt,2,0,"small",21),e(),t(63,"div",36)(64,"p-button",37),b("click",function(){f(n);let a=u();return g(a.nextStep())}),e()()()(),t(65,"p-tabPanel",38)(66,"form",9)(67,"div",10)(68,"label",39),l(69,"Personne Employ\xE9e"),e(),p(70,"input",40),e(),t(71,"div",10)(72,"label",41),l(73,"Lien"),e(),p(74,"input",42),e(),t(75,"div",10)(76,"label",43),l(77,"Nombre"),e(),p(78,"input",44),e(),t(79,"div",10)(80,"label",45),l(81,"Fr\xE9quence*"),e(),p(82,"p-inputNumber",46),v(83,dt,2,0,"small",21),e(),t(84,"div",47)(85,"p-button",48),b("click",function(){f(n);let a=u();return g(a.prevStep())}),e(),t(86,"p-button",37),b("click",function(){f(n);let a=u();return g(a.nextStep())}),e()()()(),t(87,"p-tabPanel",49)(88,"form",50)(89,"div",51),v(90,pt,20,14,"p-card",52),t(91,"div",53)(92,"p-button",54),b("click",function(){f(n);let a=u();return g(a.addProduit())}),e()()(),t(93,"div",55)(94,"p-button",48),b("click",function(){f(n);let a=u();return g(a.prevStep())}),e(),t(95,"p-button",37),b("click",function(){f(n);let a=u();return g(a.nextStep())}),e()()()(),t(96,"p-tabPanel",56)(97,"form",50)(98,"div",57),v(99,st,16,12,"p-card",52),t(100,"div",53)(101,"p-button",58),b("click",function(){f(n);let a=u();return g(a.addCharge())}),e()()(),t(102,"div",55)(103,"p-button",48),b("click",function(){f(n);let a=u();return g(a.prevStep())}),e(),t(104,"p-button",37),b("click",function(){f(n);let a=u();return g(a.nextStep())}),e()()()(),t(105,"p-tabPanel",59)(106,"form",50)(107,"div",60)(108,"h4",61),l(109,"Informations sur la Garantie"),e()(),t(110,"div",62)(111,"div",10)(112,"label",63),l(113,"Libell\xE9 de Garantie*"),e(),p(114,"input",64),v(115,vt,2,0,"small",21),e(),t(116,"div",10)(117,"label",65),l(118,"Montant de Garantie*"),e(),p(119,"p-inputNumber",66),v(120,xt,2,0,"small",21),e()(),t(121,"div",60)(122,"h4",67),l(123,"Localisation"),e()(),t(124,"div",62)(125,"div",10)(126,"label",68),l(127,"IT Ass"),e(),p(128,"input",69),e(),t(129,"div",10)(130,"label",70),l(131,"IT PC"),e(),p(132,"input",71),e()(),t(133,"div",60)(134,"h4",72),l(135,"Personnes Caution"),e()(),t(136,"div",73),v(137,ft,28,16,"p-card",52),t(138,"div",53)(139,"p-button",74),b("click",function(){f(n);let a=u();return g(a.addCaution())}),e()()(),t(140,"div",55)(141,"p-button",48),b("click",function(){f(n);let a=u();return g(a.prevStep())}),e(),t(142,"p-button",37),b("click",function(){f(n);let a=u();return g(a.nextStep())}),e()()()(),t(143,"p-tabPanel",75)(144,"div",76)(145,"div",77)(146,"div",78)(147,"div")(148,"h2",79),l(149,"\u{1F4CB} R\xE9sum\xE9 du Cr\xE9dit"),e(),t(150,"p",80),l(151,"V\xE9rifiez toutes les informations avant validation"),e()(),t(152,"div",81),p(153,"i",82),t(154,"span",83),l(155,"Pr\xEAt pour validation"),e()()()(),t(156,"p-card",84),v(157,gt,4,0,"ng-template",85),t(158,"div",62)(159,"div",86)(160,"div",87)(161,"div",88)(162,"span",89),l(163,"NUM\xC9RO MEMBRE"),e(),p(164,"p-tag",90),e(),t(165,"span",91),l(166),e()()(),t(167,"div",86)(168,"div",87)(169,"div",88)(170,"span",89),l(171,"R\xC9F\xC9RENCE CR\xC9DIT"),e(),p(172,"i",92),e(),t(173,"span",91),l(174),e()()(),t(175,"div",93)(176,"div",94)(177,"div",95),l(178),E(179,"currency"),e(),t(180,"div",96),l(181,"Cumul Cr\xE9dit"),e()()(),t(182,"div",93)(183,"div",94)(184,"div",97),l(185),E(186,"currency"),e(),t(187,"div",96),l(188,"Capital Demand\xE9"),e()()(),t(189,"div",93)(190,"div",94)(191,"div",98),l(192),e(),t(193,"div",96),l(194,"Nombre de Cr\xE9dits"),e()()()()(),t(195,"p-card",84),v(196,bt,4,0,"ng-template",85),t(197,"div",62)(198,"div",86)(199,"div",99)(200,"div",100),l(201,"Statut d'Activit\xE9"),e(),t(202,"div",101),l(203),e()()(),t(204,"div",86)(205,"div",99)(206,"div",100),l(207,"Exp\xE9rience"),e(),t(208,"div",101),l(209),e()()(),t(210,"div",86)(211,"div",99)(212,"div",100),l(213,"Lieu d'Activit\xE9"),e(),t(214,"div",101),l(215),e()()(),t(216,"div",86)(217,"div",99)(218,"div",100),l(219,"Fr\xE9quence"),e(),p(220,"p-tag",102),e()()()(),t(221,"p-card",84),v(222,Ct,7,7,"ng-template",85)(223,yt,2,1,"div",103)(224,ht,4,0,"div",104),e(),t(225,"p-card",84),v(226,St,7,7,"ng-template",85)(227,Ft,2,1,"div",103)(228,Pt,4,0,"div",104),e(),t(229,"p-card",84),v(230,Tt,4,0,"ng-template",85),t(231,"div",62)(232,"div",105)(233,"div",99)(234,"div",106),l(235,"Type de Garantie"),e(),t(236,"div",107),l(237),e(),t(238,"div",100),l(239,"Montant"),e(),t(240,"div",108),l(241),E(242,"currency"),e()()(),v(243,At,6,2,"div",109),e()(),t(244,"p-card",84),v(245,kt,4,1,"ng-template",85)(246,Vt,2,1,"div",103)(247,Mt,4,0,"div",104),e(),t(248,"p-card",84),v(249,Dt,4,0,"ng-template",85),t(250,"div",62)(251,"div",110)(252,"div",111)(253,"div",112),l(254),E(255,"currency"),e(),t(256,"div",113),l(257,"Total Produits"),e()()(),t(258,"div",110)(259,"div",114)(260,"div",115),l(261),E(262,"currency"),e(),t(263,"div",116),l(264,"Total Charges"),e()()(),t(265,"div",110)(266,"div",117)(267,"div",118),l(268),E(269,"currency"),e(),t(270,"div",119),l(271,"R\xE9sultat Net"),e()()(),t(272,"div",110)(273,"div",120)(274,"div",121),l(275),E(276,"currency"),e(),t(277,"div",122),l(278,"Garantie"),e()()()()(),t(279,"div",123)(280,"p-button",124),b("click",function(){f(n);let a=u();return g(a.prevStep())}),e(),t(281,"p-button",125),b("click",function(){f(n);let a=u();return g(a.processCreditInd())}),e()()()()()()}if(o&2){let n,d,a,x,C,F,h,N,A,k,q,U,j,O,z,Q,W,$,Y,H,J,K,X,V,Z,c=u();r(2),_(" ",c.state().message||"Traitement du cr\xE9dit"," "),r(),m("ngIf",c.state().error),r(),oe("activeIndex",c.state().activeIndex),r(2),m("formGroup",c.creditForm),r(4),m("minFractionDigits",2)("maxFractionDigits",2),r(4),m("showButtons",!1)("min",0),r(13),m("ngIf",((n=c.creditForm.get("moyenPerson"))==null?null:n.invalid)&&((n=c.creditForm.get("moyenPerson"))==null?null:n.touched)),r(5),m("ngIf",((d=c.creditForm.get("bien"))==null?null:d.invalid)&&((d=c.creditForm.get("bien"))==null?null:d.touched)),r(4),m("minFractionDigits",2)("maxFractionDigits",2),r(),m("ngIf",((a=c.creditForm.get("capital"))==null?null:a.invalid)&&((a=c.creditForm.get("capital"))==null?null:a.touched)),r(4),m("minFractionDigits",2)("maxFractionDigits",2),r(),m("ngIf",((x=c.creditForm.get("creance"))==null?null:x.invalid)&&((x=c.creditForm.get("creance"))==null?null:x.touched)),r(4),m("minFractionDigits",2)("maxFractionDigits",2),r(),m("ngIf",((C=c.creditForm.get("dette"))==null?null:C.invalid)&&((C=c.creditForm.get("dette"))==null?null:C.touched)),r(5),m("ngIf",((F=c.creditForm.get("statutActivite"))==null?null:F.invalid)&&((F=c.creditForm.get("statutActivite"))==null?null:F.touched)),r(5),m("ngIf",((h=c.creditForm.get("experience"))==null?null:h.invalid)&&((h=c.creditForm.get("experience"))==null?null:h.touched)),r(5),m("ngIf",((N=c.creditForm.get("lieuxAct"))==null?null:N.invalid)&&((N=c.creditForm.get("lieuxAct"))==null?null:N.touched)),r(4),m("formGroup",c.creditForm),r(16),m("showButtons",!0)("min",0),r(),m("ngIf",((A=c.creditForm.get("frequence"))==null?null:A.invalid)&&((A=c.creditForm.get("frequence"))==null?null:A.touched)),r(5),m("formGroup",c.creditForm),r(2),m("ngForOf",c.produits.controls),r(7),m("formGroup",c.creditForm),r(2),m("ngForOf",c.charges.controls),r(7),m("formGroup",c.creditForm),r(9),m("ngIf",((k=c.creditForm.get("garantieLibele"))==null?null:k.invalid)&&((k=c.creditForm.get("garantieLibele"))==null?null:k.touched)),r(4),m("minFractionDigits",2)("maxFractionDigits",2),r(),m("ngIf",((q=c.creditForm.get("garantieMontant"))==null?null:q.invalid)&&((q=c.creditForm.get("garantieMontant"))==null?null:q.touched)),r(17),m("ngForOf",c.cautions.controls),r(27),m("value",(U=c.creditForm.get("numeroMembre"))==null?null:U.value),r(2),P((j=c.creditForm.get("numeroMembre"))==null?null:j.value),r(8),P((O=c.creditForm.get("referenceCredit"))==null?null:O.value),r(4),_(" ",y(179,61,(z=c.creditForm.get("cumulCredit"))==null?null:z.value,"GNF","symbol","1.0-0")," "),r(7),_(" ",y(186,66,(Q=c.creditForm.get("capital"))==null?null:Q.value,"GNF","symbol","1.0-0")," "),r(7),_(" ",(W=c.creditForm.get("nbreCredit"))==null?null:W.value," "),r(11),_("",($=c.creditForm.get("statutActivite"))==null?null:$.value," "),r(6),P((Y=c.creditForm.get("experience"))==null?null:Y.value),r(6),P((H=c.creditForm.get("lieuxAct"))==null?null:H.value),r(5),m("value",((J=c.creditForm.get("frequence"))==null?null:J.value)+" fois"),r(3),m("ngIf",c.produits.length>0),r(),m("ngIf",c.produits.length===0),r(3),m("ngIf",c.charges.length>0),r(),m("ngIf",c.charges.length===0),r(9),P((K=c.creditForm.get("garantieLibele"))==null?null:K.value),r(4),_(" ",y(242,71,(X=c.creditForm.get("garantieMontant"))==null?null:X.value,"GNF","symbol","1.0-0")," "),r(2),m("ngIf",((V=c.creditForm.get("itAss"))==null?null:V.value)||((V=c.creditForm.get("itPc"))==null?null:V.value)),r(3),m("ngIf",c.cautions.length>0),r(),m("ngIf",c.cautions.length===0),r(7),_(" ",y(255,76,c.calculateTotalProduits(),"GNF","symbol","1.0-0")," "),r(7),_(" ",y(262,81,c.calculateTotalCharges(),"GNF","symbol","1.0-0")," "),r(7),_(" ",y(269,86,c.calculateTotalProduits()-c.calculateTotalCharges(),"GNF","symbol","1.0-0")," "),r(7),_(" ",y(276,91,(Z=c.creditForm.get("garantieMontant"))==null?null:Z.value,"GNF","symbol","1.0-0")," "),r(6),m("loading",c.state().submitLoading)("disabled",!c.isFormValid())}}var Je=class o{state=re({loading:!1,message:void 0,error:void 0,activeIndex:0,submitLoading:!1});creditForm;router=T(xe);destroyRef=T(ne);activatedRouter=T(ve);userService=T(ke);messageService=T(L);confirmationService=T(B);fb=T(Ie);constructor(){this.creditForm=this.fb.group({numeroMembre:["",s.required],referenceCredit:["",s.required],cumulCredit:[0,[s.min(0)]],nbreCredit:[0,[s.min(0)]],moyenPerson:["",s.required],bien:["",s.required],capital:[0,[s.required,s.min(0)]],creance:[0,[s.min(0)]],dette:[0,[s.min(0)]],statutActivite:["",s.required],experience:["",s.required],lieuxAct:["",s.required],personEmp:[""],lien:[""],nombre:[""],frequence:[0,[s.required,s.min(0)]],garantieLibele:["",s.required],garantieMontant:[0,[s.required,s.min(0)]],itAss:[""],itPc:[""],produits:this.fb.array([]),charges:this.fb.array([]),cautions:this.fb.array([])})}ngOnInit(){this.loadInstanceCredit(),this.addProduit(),this.addCharge(),this.addCaution()}loadInstanceCredit(){this.activatedRouter.paramMap.pipe(ie(i=>{let n=i.get("numeroMembre");return n?(this.state.update(d=>I(S({},d),{loading:!0,message:void 0,error:void 0})),this.userService.getInstanceCredit$(n)):(this.state.update(d=>I(S({},d),{loading:!1,message:void 0,error:"Invalide NumeroMembre"})),ee)}),R(this.destroyRef)).subscribe({next:i=>{this.state.update(n=>I(S({},n),{creditDto:i.data.creditDto,referenceCredit:i.data.creditDto?.referenceCredit,cumulCredit:i.data.cumulCredit,countCredit:i.data.countCredit,loading:!1,message:i.message,error:void 0})),this.populateForm(i.data.creditDto,i.data.cumulCredit,i.data.countCredit)},error:i=>{this.state.update(n=>I(S({},n),{loading:!1,message:void 0,error:i})),this.messageService.add({severity:"error",summary:"Erreur",detail:typeof i=="string"?i:"Une erreur s'est produite lors du chargement des donn\xE9es"})}})}populateForm(i,n,d){i&&this.creditForm.patchValue({numeroMembre:i.codeMembre,referenceCredit:i.referenceCredit,cumulCredit:n,nbreCredit:d})}isFormValid(){if(this.creditForm.invalid)return!1;for(let i of this.produits.controls)if(i.get("libele")?.invalid||i.get("prixUnit")?.invalid||i.get("qte")?.invalid)return!1;for(let i of this.charges.controls)if(i.get("libele")?.invalid||i.get("prixUnit")?.invalid||i.get("qte")?.invalid)return!1;for(let i of this.cautions.controls)if(i.get("nom")?.invalid||i.get("prenom")?.invalid||i.get("telephone")?.invalid||i.get("activite")?.invalid||i.get("age")?.invalid||i.get("profession")?.invalid)return!1;return!0}get produits(){return this.creditForm.get("produits")}get charges(){return this.creditForm.get("charges")}get cautions(){return this.creditForm.get("cautions")}addProduit(){let i=this.fb.group({libele:["",s.required],prixUnit:[0,[s.required,s.min(0)]],qte:[0,[s.required,s.min(1)]],observation:[""]});this.produits.push(i)}addCharge(){let i=this.fb.group({libele:["",s.required],prixUnit:[0,[s.required,s.min(0)]],qte:[0,[s.required,s.min(1)]]});this.charges.push(i)}addCaution(){let i=this.fb.group({nom:["",s.required],prenom:["",s.required],telephone:["",s.required],activite:["",s.required],age:[0,[s.required,s.min(18)]],profession:["",s.required]});this.cautions.push(i)}removeProduit(i){this.produits.removeAt(i)}removeCharge(i){this.charges.removeAt(i)}removeCaution(i){this.cautions.removeAt(i)}onActiveIndexChange(i){this.state.update(n=>I(S({},n),{activeIndex:i}))}nextStep(){this.state.update(i=>I(S({},i),{activeIndex:i.activeIndex+1}))}prevStep(){this.state.update(i=>I(S({},i),{activeIndex:i.activeIndex-1}))}processCreditInd(){if(!this.isFormValid()){this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir tous les champs obligatoires."});return}let i=this.creditForm.value,n=i.referenceCredit,d={numeroMembre:i.numeroMembre,referenceCredit:i.referenceCredit,moyenPerson:i.moyenPerson,bien:i.bien,capital:i.capital,creance:i.creance,dette:i.dette,statutActivite:i.statutActivite,experience:i.experience,lieuxAct:i.lieuxAct,personEmp:i.personEmp,lien:i.lien,nombre:i.nombre,cumulCredit:i.cumulCredit,nbreCredit:i.nbreCredit,frequence:i.frequence,garantieLibele:i.garantieLibele,garantieMontant:i.garantieMontant,itAss:i.itAss,itPc:i.itPc,produitsLibele:i.produits.map(a=>a.libele),produitsPrixUnit:i.produits.map(a=>a.prixUnit),produitsQte:i.produits.map(a=>a.qte),produitsObservation:i.produits.map(a=>a.observation),chargesLibele:i.charges.map(a=>a.libele),chargesPrixUnit:i.charges.map(a=>a.prixUnit),chargesQte:i.charges.map(a=>a.qte),cautionsNom:i.cautions.map(a=>a.nom),cautionsPrenom:i.cautions.map(a=>a.prenom),cautionsTelephone:i.cautions.map(a=>a.telephone),cautionsActivite:i.cautions.map(a=>a.activite),cautionsAge:i.cautions.map(a=>a.age),cautionsProfession:i.cautions.map(a=>a.profession)};this.confirmationService.confirm({message:"\xCAtes-vous s\xFBr de vouloir valider ce cr\xE9dit?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.state.update(a=>I(S({},a),{submitLoading:!0})),this.userService.processCreditInd$(n,d,this.state().creditDto?.individuelId).pipe(R(this.destroyRef),te(()=>this.state.update(a=>I(S({},a),{submitLoading:!1})))).subscribe({next:a=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:a.message||"Cr\xE9dit trait\xE9 avec succ\xE8s"}),setTimeout(()=>{this.router.navigate(["/dashboards/home"])},1500)},error:a=>{this.messageService.add({severity:"error",summary:"Erreur",detail:typeof a=="string"?a:"Une erreur s'est produite lors du traitement du cr\xE9dit"})}})}})}calculateTotalProduits(){let i=0;return this.produits&&this.produits.length&&this.produits.controls.forEach(n=>{let d=n.get("prixUnit")?.value||0,a=n.get("qte")?.value||0;i+=d*a}),i}calculateTotalCharges(){let i=0;return this.charges&&this.charges.length&&this.charges.controls.forEach(n=>{let d=n.get("prixUnit")?.value||0,a=n.get("qte")?.value||0;i+=d*a}),i}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=le({type:o,selectors:[["app-process-credit"]],features:[de([L,B])],decls:5,vars:5,consts:[[1,"surface-0","p-4"],["class","flex justify-content-center align-items-center my-5",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-content-center","align-items-center","my-5"],["strokeWidth","4"],[1,"text-3xl","font-medium","text-900","mb-4"],["class","p-message p-message-error p-3 mb-4",4,"ngIf"],[3,"activeIndexChange","activeIndex"],["header","Informations g\xE9n\xE9rales"],[1,"grid",3,"formGroup"],[1,"col-12","md:col-6","mb-4"],["for","cumulCredit",1,"block","text-900","font-medium","mb-2"],["id","cumulCredit","formControlName","cumulCredit","readonly","",1,"w-full",3,"minFractionDigits","maxFractionDigits"],["for","nbreCredit",1,"block","text-900","font-medium","mb-2"],["id","nbreCredit","formControlName","nbreCredit","readonly","",1,"w-full",3,"showButtons","min"],["for","numeroMembre",1,"block","text-900","font-medium","mb-2"],["id","numeroMembre","type","text","pInputText","","formControlName","numeroMembre","readonly","",1,"w-full"],["for","referenceCredit",1,"block","text-900","font-medium","mb-2"],["id","referenceCredit","type","text","pInputText","","formControlName","referenceCredit","readonly","",1,"w-full"],["for","moyenPerson",1,"block","text-900","font-medium","mb-2"],["id","moyenPerson","type","text","pInputText","","formControlName","moyenPerson",1,"w-full"],["class","p-error",4,"ngIf"],["for","bien",1,"block","text-900","font-medium","mb-2"],["id","bien","type","text","pInputText","","formControlName","bien",1,"w-full"],["for","capital",1,"block","text-900","font-medium","mb-2"],["id","capital","formControlName","capital",1,"w-full",3,"minFractionDigits","maxFractionDigits"],["for","creance",1,"block","text-900","font-medium","mb-2"],["id","creance","formControlName","creance",1,"w-full",3,"minFractionDigits","maxFractionDigits"],["for","dette",1,"block","text-900","font-medium","mb-2"],["id","dette","formControlName","dette",1,"w-full",3,"minFractionDigits","maxFractionDigits"],["for","statutActivite",1,"block","text-900","font-medium","mb-2"],["id","statutActivite","type","text","pInputText","","formControlName","statutActivite",1,"w-full"],["for","experience",1,"block","text-900","font-medium","mb-2"],["id","experience","type","text","pInputText","","formControlName","experience",1,"w-full"],["for","lieuxAct",1,"block","text-900","font-medium","mb-2"],["id","lieuxAct","type","text","pInputText","","formControlName","lieuxAct",1,"w-full"],[1,"col-12","mb-4","text-right"],["label","Suivant","icon","pi pi-arrow-right","iconPos","right",3,"click"],["header","Informations additionnelles"],["for","personEmp",1,"block","text-900","font-medium","mb-2"],["id","personEmp","type","text","pInputText","","formControlName","personEmp",1,"w-full"],["for","lien",1,"block","text-900","font-medium","mb-2"],["id","lien","type","text","pInputText","","formControlName","lien",1,"w-full"],["for","nombre",1,"block","text-900","font-medium","mb-2"],["id","nombre","type","text","pInputText","","formControlName","nombre",1,"w-full"],["for","frequence",1,"block","text-900","font-medium","mb-2"],["id","frequence","formControlName","frequence",1,"w-full",3,"showButtons","min"],[1,"col-12","flex","gap-3","justify-content-center","mt-4"],["label","Pr\xE9c\xE9dent","icon","pi pi-arrow-left",3,"click"],["header","Produits"],[3,"formGroup"],["formArrayName","produits"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4","text-right"],["label","Ajouter un produit","icon","pi pi-plus",3,"click"],[1,"flex","gap-3","justify-content-center","mt-4"],["header","Charges"],["formArrayName","charges"],["label","Ajouter une charge","icon","pi pi-plus",3,"click"],["header","Garantie"],[1,"col-12"],[1,"text-lg","font-medium","mb-3"],[1,"grid"],["for","garantieLibele",1,"block","text-900","font-medium","mb-2"],["id","garantieLibele","type","text","pInputText","","formControlName","garantieLibele",1,"w-full"],["for","garantieMontant",1,"block","text-900","font-medium","mb-2"],["id","garantieMontant","formControlName","garantieMontant",1,"w-full",3,"minFractionDigits","maxFractionDigits"],[1,"text-lg","font-medium","mb-3","mt-3"],["for","itAss",1,"block","text-900","font-medium","mb-2"],["id","itAss","type","text","pInputText","","formControlName","itAss",1,"w-full"],["for","itPc",1,"block","text-900","font-medium","mb-2"],["id","itPc","type","text","pInputText","","formControlName","itPc",1,"w-full"],[1,"text-lg","font-medium","mb-3","mt-4"],["formArrayName","cautions"],["label","Ajouter une caution","icon","pi pi-plus",3,"click"],["header","R\xE9sum\xE9 et validation"],[1,"surface-0"],[1,"border-bottom-1","surface-border","p-4","mb-4"],[1,"flex","align-items-center","justify-content-between"],[1,"text-2xl","font-bold","text-900","m-0","mb-2"],[1,"text-600","m-0"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-check-circle","text-green-500","text-2xl"],[1,"text-green-600","font-medium"],[1,"mb-4"],["pTemplate","header"],[1,"col-12","md:col-6"],[1,"bg-gray-50","border-round","p-3","mb-3"],[1,"flex","align-items-center","justify-content-between","mb-2"],[1,"text-500","text-sm","font-medium"],["severity","info",3,"value"],[1,"text-900","font-bold","text-lg"],["pTooltip","Copier la r\xE9f\xE9rence",1,"pi","pi-copy","text-400","cursor-pointer"],[1,"col-12","md:col-4"],[1,"text-center","p-3","border-1","surface-border","border-round"],[1,"text-blue-600","font-bold","text-2xl","mb-2"],[1,"text-500","text-sm"],[1,"text-green-600","font-bold","text-2xl","mb-2"],[1,"text-orange-600","font-bold","text-2xl","mb-2"],[1,"p-3"],[1,"text-500","text-sm","mb-1"],[1,"text-900","font-semibold"],["severity","warn",3,"value"],["class","grid",4,"ngIf"],["class","text-center p-4",4,"ngIf"],[1,"col-12","md:col-8"],[1,"text-500","text-sm","mb-2"],[1,"text-900","font-bold","text-lg","mb-3"],[1,"text-teal-600","font-bold","text-xl"],["class","col-12 md:col-4",4,"ngIf"],[1,"col-12","md:col-3"],[1,"text-center","p-3","bg-green-50","border-round"],[1,"text-green-600","font-bold","text-xl","mb-1"],[1,"text-green-700","text-sm"],[1,"text-center","p-3","bg-red-50","border-round"],[1,"text-red-600","font-bold","text-xl","mb-1"],[1,"text-red-700","text-sm"],[1,"text-center","p-3","bg-blue-50","border-round"],[1,"text-blue-600","font-bold","text-xl","mb-1"],[1,"text-blue-700","text-sm"],[1,"text-center","p-3","bg-teal-50","border-round"],[1,"text-teal-600","font-bold","text-xl","mb-1"],[1,"text-teal-700","text-sm"],[1,"flex","gap-3","justify-content-center","pt-4","border-top-1","surface-border"],["label","Pr\xE9c\xE9dent","icon","pi pi-arrow-left","severity","secondary","size","large",3,"click"],["label","Valider le Cr\xE9dit","icon","pi pi-check","severity","success","size","large","styleClass","px-5",3,"click","loading","disabled"],[1,"p-message","p-message-error","p-3","mb-4"],[1,"p-error"],[1,"grid",3,"formGroupName"],[1,"col-12","md:col-6","mb-3"],[1,"block","text-900","font-medium","mb-2",3,"for"],["type","text","pInputText","","formControlName","libele",1,"w-full",3,"id"],["formControlName","prixUnit",1,"w-full",3,"id","minFractionDigits","maxFractionDigits"],["formControlName","qte",1,"w-full",3,"id","showButtons","min"],["type","text","pInputText","","formControlName","observation",1,"w-full",3,"id"],[1,"col-12","text-right"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],[1,"col-12","md:col-4","mb-3"],["type","text","pInputText","","formControlName","nom",1,"w-full",3,"id"],["type","text","pInputText","","formControlName","prenom",1,"w-full",3,"id"],["type","text","pInputText","","formControlName","telephone",1,"w-full",3,"id"],["type","text","pInputText","","formControlName","activite",1,"w-full",3,"id"],["formControlName","age",1,"w-full",3,"id","showButtons","min"],["type","text","pInputText","","formControlName","profession",1,"w-full",3,"id"],[1,"flex","align-items-center","gap-2","p-3","bg-blue-50","border-round-top"],[1,"pi","pi-user","text-blue-600"],[1,"text-lg","font-semibold","text-blue-900","m-0"],[1,"flex","align-items-center","gap-2","p-3","bg-green-50","border-round-top"],[1,"pi","pi-briefcase","text-green-600"],[1,"text-lg","font-semibold","text-green-900","m-0"],[1,"flex","align-items-center","justify-content-between","p-3","bg-purple-50","border-round-top"],[1,"pi","pi-shopping-cart","text-purple-600"],[1,"text-lg","font-semibold","text-purple-900","m-0"],["severity","success",3,"value"],["class","col-12 md:col-6 lg:col-4",4,"ngFor","ngForOf"],[1,"col-12","md:col-6","lg:col-4"],[1,"border-1","surface-border","border-round","p-3","h-full"],[1,"flex","align-items-start","justify-content-between","mb-2"],[1,"text-900","font-semibold","m-0","text-sm"],[1,"text-xs","text-500"],[1,"text-600","text-xs","mb-2"],[1,"text-900","font-bold"],[1,"text-500","text-xs"],[1,"text-center","p-4"],[1,"pi","pi-info-circle","text-400","text-4xl","mb-3"],[1,"text-500"],[1,"flex","align-items-center","justify-content-between","p-3","bg-red-50","border-round-top"],[1,"pi","pi-minus-circle","text-red-600"],[1,"text-lg","font-semibold","text-red-900","m-0"],["severity","danger",3,"value"],[1,"flex","align-items-center","gap-2","p-3","bg-teal-50","border-round-top"],[1,"pi","pi-shield","text-teal-600"],[1,"text-lg","font-semibold","text-teal-900","m-0"],["class","text-900 text-sm mb-1",4,"ngIf"],["class","text-900 text-sm",4,"ngIf"],[1,"text-900","text-sm","mb-1"],[1,"text-900","text-sm"],[1,"flex","align-items-center","gap-2","p-3","bg-indigo-50","border-round-top"],[1,"pi","pi-users","text-indigo-600"],[1,"text-lg","font-semibold","text-indigo-900","m-0"],[1,"flex","align-items-center","gap-3","mb-3"],["shape","circle","size","large","styleClass","bg-indigo-100 text-indigo-900",3,"label"],[1,"text-600","text-sm","mb-1"],[1,"text-primary","font-medium","text-sm"],[1,"flex","align-items-center","gap-2","p-3","bg-yellow-50","border-round-top"],[1,"pi","pi-calculator","text-yellow-600"],[1,"text-lg","font-semibold","text-yellow-900","m-0"]],template:function(n,d){n&1&&(p(0,"p-toast")(1,"p-confirmDialog"),t(2,"div",0),v(3,Ze,2,3,"div",1)(4,Gt,282,96,"div",2),e()),n&2&&(r(),D(G(4,Ke)),r(2),m("ngIf",d.state().loading),r(),m("ngIf",!d.state().loading))},dependencies:[se,ce,pe,ue,Fe,Ce,fe,ge,be,Pe,Ee,Se,ye,he,Ae,Ne,_e,we,Te,Be,Ge,je,Ue,$e,We,Qe,Ve,qe,He,Ye,De,Me,ze,Oe,Re,Le],encapsulation:2})};export{Je as ProcessCreditComponent};
