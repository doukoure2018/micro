import{a as Oe,b as Se}from"./chunk-K2RLQDMJ.js";import{c as ve}from"./chunk-Q5MOEBGQ.js";import{a as xe,b as Ae}from"./chunk-2VJNGR3L.js";import{a as b}from"./chunk-DMWSHBX4.js";import{a as he,b as ye}from"./chunk-E24E7YRI.js";import{a as Me,b as be}from"./chunk-4JPZ5GKU.js";import{a as se,b as le}from"./chunk-F6BLPIFZ.js";import"./chunk-SQPWYWAP.js";import"./chunk-TOQUJNDH.js";import{c as re,d as oe}from"./chunk-JK4JG2UW.js";import{a as fe,b as Ce}from"./chunk-KNXQC5ZK.js";import{b as de}from"./chunk-ML3LU6MO.js";import{a as pe,k as me}from"./chunk-SRGIHKGJ.js";import"./chunk-KLDL5O4H.js";import"./chunk-PXEEYFPS.js";import"./chunk-4MNJFNZT.js";import"./chunk-7A4CRAMP.js";import"./chunk-3WTE2CKQ.js";import"./chunk-LA2FUI34.js";import"./chunk-ZNTL7BEM.js";import{a as ge,b as ue}from"./chunk-QZOXHZZK.js";import"./chunk-MPVO6A2U.js";import"./chunk-D6YNXGTA.js";import"./chunk-ED7TFTUL.js";import"./chunk-MZ7FZGG3.js";import{a as _e,b as Pe}from"./chunk-C4WQ325L.js";import"./chunk-HNZBC55R.js";import"./chunk-J62YMCRW.js";import"./chunk-J6B6CWYC.js";import"./chunk-IEQZB3PI.js";import"./chunk-ATSSA22C.js";import"./chunk-XYTTGGFW.js";import"./chunk-ZNT52ZF3.js";import"./chunk-Z7KSDRLV.js";import"./chunk-N4Q6Z3MW.js";import{a as ae,b as ce}from"./chunk-3BEM77IG.js";import{b as H,d as W}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as S}from"./chunk-YTFCGSG6.js";import"./chunk-RHLJ6NE2.js";import{b as X}from"./chunk-R2ZYXRFE.js";import{a as te,b as ne}from"./chunk-NRZ4QNP7.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{e as Z,g as ee}from"./chunk-XKXBFP6V.js";import"./chunk-ULM4QL4Q.js";import{ka as I,oa as R,sa as Q}from"./chunk-3YZBLOIS.js";import{b as J,e as G,i as Y,x as K}from"./chunk-2I6ZAGC7.js";import{b as ie}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import{m as B,n as $,y as z}from"./chunk-GZWLZB4Q.js";import{Gb as o,Hb as a,Ib as u,Jb as L,Kb as N,Mb as x,Mc as v,Rb as C,Sb as p,Va as c,_ as h,cc as l,dc as _,ec as P,fa as y,ga as M,gb as U,ic as E,jc as D,kc as T,lc as F,ma as q,mb as f,mc as w,va as k,vb as d,xb as A,yb as j}from"./chunk-MKA3N2SS.js";import{a as m,b as g}from"./chunk-GAL4ENT6.js";var De=()=>({width:"500px"}),Te=()=>({width:"100%"}),we=()=>[10,25,50];function je(i,e){if(i&1&&u(0,"p-tag",36),i&2){let n=p();d("value",n.getCorrectionStatusLabel())("severity",n.getCorrectionStatusSeverity())}}function Ie(i,e){if(i&1){let n=x();L(0),l(1," \xA0 "),o(2,"button",37),C("click",function(){y(n);let r=p();return M(r.rejetCorrection())}),a(),l(3," \xA0 "),o(4,"button",38),C("click",function(){y(n);let r=p();return M(r.validateCorrection())}),a(),N()}if(i&2){let n=p();c(2),d("disabled",n.isLoading()||!n.state().correctionApres),c(2),d("disabled",n.isLoading()||!n.state().correctionApres)}}function Re(i,e){if(i&1&&(o(0,"p",46),l(1),a()),i&2){let n=p(3);c(),P(" Date de rejet: ",n.state().correctionApres.updatedAt," ")}}function Ve(i,e){if(i&1&&(o(0,"div",42),u(1,"i",43),o(2,"div")(3,"strong"),l(4,"Correction Rejet\xE9e"),a(),o(5,"p",44),l(6,"Cette correction a \xE9t\xE9 rejet\xE9e et ne peut plus \xEAtre modifi\xE9e."),a(),f(7,Re,2,1,"p",45),a()()),i&2){let n,t=p(2);c(7),d("ngIf",(n=t.state().correctionApres)==null?null:n.updatedAt)}}function qe(i,e){i&1&&(o(0,"div",39)(1,"p-messages",40),f(2,Ve,8,1,"ng-template",41),a()()),i&2&&(c(),d("closable",!1))}function ke(i,e){if(i&1&&(o(0,"p",46),l(1),a()),i&2){let n=p(3);c(),P(" Date de validation: ",n.state().correctionApres.updatedAt," ")}}function Ue(i,e){if(i&1&&(o(0,"div",42),u(1,"i",49),o(2,"div")(3,"strong"),l(4,"Correction Valid\xE9e"),a(),o(5,"p",44),l(6,"Cette correction a \xE9t\xE9 valid\xE9e et appliqu\xE9e dans le syst\xE8me SAF."),a(),f(7,ke,2,1,"p",45),a()()),i&2){let n,t=p(2);c(7),d("ngIf",(n=t.state().correctionApres)==null?null:n.updatedAt)}}function Le(i,e){i&1&&(o(0,"div",47)(1,"p-messages",48),f(2,Ue,8,1,"ng-template",41),a()()),i&2&&(c(),d("closable",!1))}function Ne(i,e){i&1&&u(0,"p-chip",50)}function Fe(i,e){i&1&&(o(0,"div",51),u(1,"p-progressSpinner",52),o(2,"p"),l(3,"Chargement des donn\xE9es SAF..."),a()())}function Be(i,e){if(i&1){let n=x();o(0,"div",53),u(1,"i",54),o(2,"p"),l(3),a(),o(4,"button",55),C("click",function(){y(n);let r=p();return M(r.loadCorrectionAvant(r.state().codCliente))}),a()()}if(i&2){let n=p();c(3),_(n.state().errorAvant)}}function $e(i,e){if(i&1&&(o(0,"div",59)(1,"label"),l(2),a(),o(3,"span",60),l(4),a()()),i&2){let n=e.$implicit,t=p(2);c(2),_(n.label),c(2),_(t.getFormattedDisplayValue(n.avant,n.field,"avant"))}}function ze(i,e){if(i&1&&(o(0,"div",56)(1,"div",57),f(2,$e,5,2,"div",58),a()()),i&2){let n=p();c(2),d("ngForOf",n.state().comparisons)}}function He(i,e){i&1&&(o(0,"div",61),u(1,"i",62),o(2,"p"),l(3,"Aucune donn\xE9e disponible"),a()())}function We(i,e){i&1&&u(0,"p-chip",63)}function Qe(i,e){i&1&&(o(0,"div",51),u(1,"p-progressSpinner",52),o(2,"p"),l(3,"Chargement des donn\xE9es PostgreSQL..."),a()())}function Je(i,e){if(i&1){let n=x();o(0,"div",53),u(1,"i",54),o(2,"p"),l(3),a(),o(4,"button",55),C("click",function(){y(n);let r=p();return M(r.loadCorrectionApres(r.state().codCliente))}),a()()}if(i&2){let n=p();c(3),_(n.state().errorApres)}}function Ge(i,e){if(i&1&&(o(0,"div",59)(1,"label"),l(2),a(),o(3,"span",60),l(4),a()()),i&2){let n=e.$implicit,t=p(2);c(2),_(n.label),c(),A("highlight-difference",n.isDifferent),c(),P(" ",t.getFormattedDisplayValue(n.apres,n.field,"apres")," ")}}function Ye(i,e){if(i&1&&(o(0,"div",56)(1,"div",57),f(2,Ge,5,4,"div",58),a()()),i&2){let n=p();c(2),d("ngForOf",n.state().comparisons)}}function Ke(i,e){i&1&&(o(0,"div",61),u(1,"i",62),o(2,"p"),l(3,"Pas encore corrig\xE9"),a()())}function Xe(i,e){if(i&1&&(o(0,"div",70)(1,"h3"),u(2,"i",71),l(3," Tableau de Comparaison "),a(),u(4,"p-chip",72),a()),i&2){let n=p(2);c(4),d("label",n.differenceCount()+" diff\xE9rence(s) trouv\xE9e(s)")("styleClass",n.differenceCount()>0?"custom-chip-warning":"custom-chip-success")}}function Ze(i,e){i&1&&(o(0,"tr")(1,"th",73),l(2,"Champ"),a(),o(3,"th",74),l(4,"Avant (SAF)"),a(),o(5,"th",74),l(6,"Apr\xE8s (PostgreSQL)"),a(),o(7,"th",75),l(8,"\xC9tat"),a()())}function et(i,e){if(i&1&&(o(0,"tr")(1,"td")(2,"strong"),l(3),a()(),o(4,"td")(5,"span",76),l(6),a()(),o(7,"td")(8,"span",76),l(9),a()(),o(10,"td"),u(11,"p-tag",77),a()()),i&2){let n=e.$implicit,t=p(2);A("row-different",n.isDifferent),c(3),_(n.label),c(3),P(" ",t.getFormattedDisplayValue(n.avant,n.field,"avant")," "),c(2),A("text-warning",n.isDifferent),c(),P(" ",t.getFormattedDisplayValue(n.apres,n.field,"apres")," "),c(2),d("value",n.isDifferent?"Diff\xE9rent":"Identique")("severity",t.getDifferenceSeverity(n.isDifferent))}}function tt(i,e){i&1&&(o(0,"tr")(1,"td",78),l(2," Aucune donn\xE9e \xE0 comparer "),a()())}function nt(i,e){if(i&1&&(o(0,"div",79)(1,"span",80),u(2,"i",81),l(3," Identiques: "),o(4,"strong"),l(5),a()(),o(6,"span",80),u(7,"i",82),l(8," Diff\xE9rents: "),o(9,"strong"),l(10),a()()()),i&2){let n=p(2);c(5),_(n.getIdentiquesCount()),c(5),_(n.differenceCount())}}function it(i,e){if(i&1&&(o(0,"p-card",64),f(1,Xe,5,2,"ng-template",65),o(2,"p-table",66),f(3,Ze,9,0,"ng-template",65)(4,et,12,9,"ng-template",67)(5,tt,3,0,"ng-template",68)(6,nt,11,2,"ng-template",69),a()()),i&2){let n=p();c(2),d("value",n.state().comparisons)("paginator",!0)("rows",10)("rowsPerPageOptions",w(4,we))}}function rt(i,e){if(i&1&&(o(0,"small",83),l(1),a()),i&2){let n=p();c(),P(" ",n.state().rejectionMotif.length," caract\xE8re(s) ")}}function ot(i,e){if(i&1){let n=x();o(0,"button",84),C("click",function(){y(n);let r=p();return M(r.closeRejectionDialog())}),a(),o(1,"button",85),C("click",function(){y(n);let r=p();return M(r.submitRejection())}),a()}if(i&2){let n=p();d("disabled",n.state().submittingRejection),c(),d("loading",n.state().submittingRejection)("disabled",!n.state().rejectionMotif||n.state().rejectionMotif.length<10)}}var Ee=class i{route=h(H);router=h(W);userService=h(ie);messageService=h(R);confirmationService=h(I);destroyRef=h(q);state=k({codCliente:"",correctionAvant:null,correctionApres:null,loadingAvant:!1,loadingApres:!1,errorAvant:null,errorApres:null,activeTab:0,comparisons:[],showRejectionDialog:!1,rejectionMotif:"",submittingRejection:!1});isLoading=v(()=>this.state().loadingAvant||this.state().loadingApres);hasData=v(()=>this.state().correctionAvant||this.state().correctionApres);hasBothData=v(()=>this.state().correctionAvant&&this.state().correctionApres);differenceCount=v(()=>this.state().comparisons.filter(e=>e.isDifferent).length);isRejected=v(()=>this.state().correctionApres?.correctionStatut==="REJETE");isValidated=v(()=>this.state().correctionApres?.correctionStatut==="VALIDE");canPerformActions=v(()=>{let e=this.state().correctionApres?.correctionStatut;return e!=="REJETE"&&e!=="VALIDE"});messages=[];ngOnInit(){this.route.params.pipe(S(this.destroyRef)).subscribe(e=>{let n=e.codCliente;n?(this.state.update(t=>g(m({},t),{codCliente:n})),this.loadData(n)):(this.messageService.add({severity:"error",summary:"Erreur",detail:"Code client non fourni"}),this.router.navigate(["/dashboards/correction-en-attente"]))})}getCorrectionStatusLabel(){let e=this.state().correctionApres?.correctionStatut;switch(e){case"REJETE":return"Rejet\xE9e";case"VALIDE":return"Valid\xE9e";case"EN_COURS":return"En cours";case"EN_ATTENTE":return"En attente";default:return e||"Non d\xE9fini"}}getCorrectionStatusSeverity(){let e=this.state().correctionApres?.correctionStatut;return e==="VALIDATED"?"success":e==="REJECTED"?"danger":e==="PENDING"?"warn":"info"}loadData(e){this.loadCorrectionAvant(e),this.loadCorrectionApres(e)}loadCorrectionAvant(e){this.state.update(n=>g(m({},n),{loadingAvant:!0,errorAvant:null})),this.userService.getFicheSignaletique$(e).pipe(S(this.destroyRef)).subscribe({next:n=>{if(n.data&&n.data.data){let t=n.data.data,r={codCliente:t.codCliente,nomCliente:t.nomCliente,nomClient:t.primerApellido,prenomClient:t.primerNombre,numId:t.numId,typePiece:t.codTipoId,telPrincipal:t.telPrincipal,telOtro:t.telOtro,fecVencim:t.fecVencim,fechNacimiento:t.fechNacimiento,lieuxNaiss:t.lugarNacimiento,nationalite:t.nacionalidad,pays:t.codPais,indSexo:t.indSexo,estCivil:t.estCivil,conjoint:t.nomConyugue||t.codCteConyugue,nbrEnfant:t.numHijos,detDireccion:t.detDireccion,codProvincia:t.codProvincia,district:t.codDistrito,codeAgence:t.codAgencia,nomBeneficiario:t.nomBeneficiario,relacBeneficiario:t.relacBeneficiario,codActividad:t.codActividad,codProfesion:t.codProfesion,codSector:t.codSector,typeEntre:t.tenenciaPuesto,typeHabit:t.tenenciaVivienda,nbrAnnee:t.antiguedadResidencia,nbrAnnee2:t.antiguedadPuesto,statutClt:t.indEstado,provServDestino:t.provServDestino,metadata:n.data};this.state.update(s=>g(m({},s),{correctionAvant:r,loadingAvant:!1})),this.compareData(),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Donn\xE9es SAF charg\xE9es (Correction AVANT)"})}else this.state.update(t=>g(m({},t),{errorAvant:"Aucune donn\xE9e trouv\xE9e",loadingAvant:!1}))},error:n=>{this.state.update(t=>g(m({},t),{errorAvant:n.message||"Erreur lors du chargement",loadingAvant:!1})),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger les donn\xE9es SAF"})}})}loadCorrectionApres(e){this.state.update(n=>g(m({},n),{loadingApres:!0,errorApres:null})),this.userService.getPersonnePhysique$(e).pipe(S(this.destroyRef)).subscribe({next:n=>{if(n.data?.personnePhysique){let t=n.data.personnePhysique;t&&this.processDateFields(t),this.state.update(r=>g(m({},r),{correctionApres:t,loadingApres:!1})),this.compareData(),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Donn\xE9es PostgreSQL charg\xE9es (Correction APRES)"})}else this.state.update(t=>g(m({},t),{errorApres:"Aucune donn\xE9e trouv\xE9e dans PostgreSQL",loadingApres:!1})),this.messages=[{severity:"info",summary:"Information",detail:"Cette personne n'a pas encore \xE9t\xE9 corrig\xE9e"}]},error:n=>{this.state.update(t=>g(m({},t),{errorApres:n.message||"Erreur lors du chargement",loadingApres:!1})),this.messageService.add({severity:"warn",summary:"Attention",detail:"Donn\xE9es non disponibles dans PostgreSQL"})}})}processDateFields(e){e.fecVencim&&Array.isArray(e.fecVencim)&&(e.fecVencim=this.arrayToDateString(e.fecVencim)),e.fechNacimiento&&Array.isArray(e.fechNacimiento)&&(e.fechNacimiento=this.arrayToDateString(e.fechNacimiento)),e.createdAt&&Array.isArray(e.createdAt)&&(e.createdAt=this.arrayToDateTimeString(e.createdAt)),e.updatedAt&&Array.isArray(e.updatedAt)&&(e.updatedAt=this.arrayToDateTimeString(e.updatedAt))}arrayToDateString(e){if(!e||e.length<3)return"";let[n,t,r]=e;return`${String(r).padStart(2,"0")}/${String(t).padStart(2,"0")}/${n}`}arrayToDateTimeString(e){if(!e||e.length<6)return"";let[n,t,r,s,O]=e;return`${String(r).padStart(2,"0")}/${String(t).padStart(2,"0")}/${n} ${String(s).padStart(2,"0")}:${String(O).padStart(2,"0")}`}compareData(){if(!this.hasBothData())return;let e=this.state().correctionAvant,n=this.state().correctionApres,r=[{field:"codCliente",label:"Code Client"},{field:"nomCliente",label:"Nom Complet"},{field:"nomClient",label:"Nom"},{field:"prenomClient",label:"Pr\xE9nom"},{field:"numId",label:"Num\xE9ro ID"},{field:"typePiece",label:"Type de Pi\xE8ce"},{field:"telPrincipal",label:"T\xE9l\xE9phone Principal"},{field:"telOtro",label:"Autre T\xE9l\xE9phone"},{field:"fecVencim",label:"Date d'Expiration"},{field:"fechNacimiento",label:"Date de Naissance"},{field:"lieuxNaiss",label:"Lieu de Naissance"},{field:"nationalite",label:"Nationalit\xE9"},{field:"pays",label:"Pays"},{field:"indSexo",label:"Sexe"},{field:"estCivil",label:"\xC9tat Civil"},{field:"conjoint",label:"Conjoint"},{field:"nbrEnfant",label:"Nombre d'Enfants"},{field:"detDireccion",label:"Adresse"},{field:"codProvincia",label:"Province"},{field:"district",label:"District"},{field:"codeAgence",label:"Code Agence"},{field:"codActividad",label:"Code Activit\xE9"},{field:"codProfesion",label:"Code Profession"},{field:"codSector",label:"Code Secteur"},{field:"nomBeneficiario",label:"B\xE9n\xE9ficiaire"},{field:"relacBeneficiario",label:"Relation B\xE9n\xE9ficiaire"},{field:"typeEntre",label:"Type Entreprise"},{field:"typeHabit",label:"Type Habitation"},{field:"nbrAnnee",label:"Anciennet\xE9 R\xE9sidence"},{field:"nbrAnnee2",label:"Anciennet\xE9 Poste"},{field:"statutClt",label:"Statut Client"},{field:"provServDestino",label:"Service Destination"}].map(s=>{let O=this.getNestedValue(e,s.field),V=this.getNestedValue(n,s.field);return{field:s.field,label:s.label,avant:O,apres:V,isDifferent:this.areValuesDifferent(O,V)}});this.state.update(s=>g(m({},s),{comparisons:r}))}getNestedValue(e,n){if(!e)return null;let t=n.split("."),r=e;for(let s of t)if(r=r?.[s],r===void 0)return null;return r}areValuesDifferent(e,n){if(e==null&&n==null)return!1;if(e==null||n==null)return!0;let t=String(e).trim(),r=String(n).trim();return t!==r}goBack(){this.router.navigate(["/dashboards/correction-en-attente"])}refresh(){let e=this.state().codCliente;e&&this.loadData(e)}getReferenceLabel(e,n,t){if(!e)return"-";let r;switch(n){case"sector":return r=b.SECTORS.find(s=>s.code===e),r?r.label:e;case"activity":return r=b.ACTIVITIES.find(s=>s.code===e),r?r.label:e;case"profession":return r=b.PROFESSIONS.find(s=>s.code===e),r?r.label:e;case"idType":return r=b.ID_TYPES.find(s=>s.code===e),r?r.label:e;case"province":return r=b.PROVINCES.find(s=>s.code===e),r?r.label:e;case"district":return t?(r=b.getDistrictsByProvince(t).find(O=>O.code===e),r?r.label:e):e;default:return e}}getDisplayValue(e){return e==null||e===""?"-":typeof e=="boolean"?e?"Oui":"Non":String(e)}getFormattedDisplayValue(e,n,t){if(e==null||e==="")return"-";switch(n){case"typePiece":return this.getReferenceLabel(e,"idType");case"codProvincia":return this.getReferenceLabel(e,"province");case"district":let r=t==="avant"?this.state().correctionAvant?.codProvincia:this.state().correctionApres?.codProvincia;return this.getReferenceLabel(e,"district",r);case"codActividad":return this.getReferenceLabel(e,"activity");case"codProfesion":return this.getReferenceLabel(e,"profession");case"codSector":return this.getReferenceLabel(e,"sector");case"indSexo":return e==="M"?"Masculin":e==="F"?"F\xE9minin":e;case"estCivil":return this.getEtatCivilLabel(e);case"statutClt":return this.getStatutLabel(e);case"typeEntre":case"typeHabit":return this.getTypeHabitationLabel(e);default:return this.getDisplayValue(e)}}getEtatCivilLabel(e){return{S:"C\xE9libataire",M:"Mari\xE9(e)",D:"Divorc\xE9(e)",V:"Veuf/Veuve",C:"Concubinage",O:"Autre"}[e]||e}getStatutLabel(e){return{A:"Actif",S:"Suspendu",V:"Valid\xE9",R:"Rejet\xE9",I:"Inactif"}[e]||e}getTypeHabitationLabel(e){return{PO:"Propri\xE9taire",AL:"Locataire",PR:"Propri\xE9taire",LO:"Locataire",HG:"H\xE9berg\xE9",AU:"Autre"}[e]||e}getDifferenceSeverity(e){return e?"warn":"success"}rejetCorrection(){this.state.update(e=>g(m({},e),{rejectionMotif:"",showRejectionDialog:!0}))}closeRejectionDialog(){this.state.update(e=>g(m({},e),{showRejectionDialog:!1,rejectionMotif:""}))}submitRejection(){let e=this.state().rejectionMotif.trim();if(!e){this.messageService.add({severity:"warn",summary:"Validation",detail:"Le motif de rejet est obligatoire"});return}if(e.length<10){this.messageService.add({severity:"warn",summary:"Validation",detail:"Le motif doit contenir au moins 10 caract\xE8res"});return}let n=this.state().correctionApres?.idUser;if(!n){this.messageService.add({severity:"error",summary:"Erreur",detail:"ID utilisateur non trouv\xE9 dans les donn\xE9es de correction"});return}let t={userId:n,libele:e,codCliente:this.state().codCliente,codAgence:this.state().correctionApres?.codeAgence||this.state().correctionAvant?.codeAgence,statut:"REJETE",personnePhysiqueId:this.state().correctionApres?.id||null};console.log("Rejection data prepared:",t),this.state.update(r=>g(m({},r),{submittingRejection:!0})),this.userService.rejetCorrection$(t).pipe(S(this.destroyRef)).subscribe({next:r=>{this.state.update(s=>g(m({},s),{submittingRejection:!1,showRejectionDialog:!1,rejectionMotif:""})),r.code===200?(this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"La correction a \xE9t\xE9 rejet\xE9e avec succ\xE8s"}),this.state().correctionApres&&this.state.update(s=>g(m({},s),{correctionApres:g(m({},s.correctionApres),{correctionStatut:"REJETE"})})),setTimeout(()=>{this.router.navigate(["/dashboards/correction-en-attente"])},2e3)):this.messageService.add({severity:"error",summary:"Erreur",detail:r.message||"Erreur lors du rejet"})},error:r=>{this.state.update(s=>g(m({},s),{submittingRejection:!1})),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors du rejet: "+(r.message||r)}),console.error("Erreur de rejet:",r)}})}validateCorrection(){if(!this.state().correctionApres){this.messageService.add({severity:"warn",summary:"Attention",detail:"Aucune correction disponible \xE0 valider"});return}let e=this.state().comparisons.filter(t=>t.isDifferent),n=e.map(t=>`\u2022 ${t.label}: "${this.getFormattedDisplayValue(t.avant,t.field,"avant")}" \u2192 "${this.getFormattedDisplayValue(t.apres,t.field,"apres")}"`).join("<br>");this.confirmationService.confirm({message:`\xCAtes-vous s\xFBr de vouloir valider cette correction et mettre \xE0 jour la base SAF?<br><br>
                     <strong>Code Client:</strong> ${this.state().codCliente}<br><br>
                     <strong>${e.length} modification(s) seront appliqu\xE9es:</strong><br>
                     ${n}`,header:"Confirmation de validation",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui, valider",rejectLabel:"Annuler",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",accept:()=>{this.performValidation()},reject:()=>{this.messageService.add({severity:"info",summary:"Annul\xE9",detail:"Validation annul\xE9e"})}})}performValidation(){let e=this.prepareUpdateData();if(!e){this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de pr\xE9parer les donn\xE9es pour la mise \xE0 jour"});return}this.state.update(n=>g(m({},n),{loadingAvant:!0})),this.userService.updateFicheSignaletique$(e).pipe(S(this.destroyRef)).subscribe({next:n=>{this.state.update(t=>g(m({},t),{loadingAvant:!1})),n.code===200||n.data&&n.code===0?(this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"La fiche signal\xE9tique a \xE9t\xE9 mise \xE0 jour avec succ\xE8s dans SAF"}),this.updateCorrectionStatus(),setTimeout(()=>{this.loadData(this.state().codCliente)},1500)):this.messageService.add({severity:"error",summary:"Erreur",detail:n.message||"\xC9chec de la mise \xE0 jour"})},error:n=>{this.state.update(t=>g(m({},t),{loadingAvant:!1})),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la mise \xE0 jour: "+(n.message||n)}),console.error("Erreur de validation:",n)}})}prepareUpdateData(){let e=this.state().correctionApres;if(!e)return null;let n=t=>{if(!t)return"";let r=t.split("/");return r.length===3?`${r[2]}-${r[1].padStart(2,"0")}-${r[0].padStart(2,"0")}`:t};return{telPrincipal:e.telPrincipal||"",codCliente:e.codCliente||this.state().codCliente,telOtro:e.telOtro||"",nomCliente:e.nomCliente||"",nomClient:e.nomClient||"",prenomClient:e.prenomClient||"",fecVencim:n(e.fecVencim),fechNacimiento:n(e.fechNacimiento),lieuxNaiss:e.lieuxNaiss||"",nationalite:e.nationalite||"",numId:e.numId||"",nomBeneficiario:e.nomBeneficiario||"",relacBeneficiario:e.relacBeneficiario||"",detDireccion:e.detDireccion||"",codProvincia:e.codProvincia||"",codActividad:e.codActividad||"",codProfesion:e.codProfesion||"",codSector:e.codSector||"",indSexo:e.indSexo||"",estCivil:e.estCivil||"",typeHabit:e.typeHabit||"",nbrAnnee:parseInt(e.nbrAnnee)||0,typeEntre:e.typeEntre||"",nbrAnnee2:parseInt(e.nbrAnnee2)||0,nbrEnfant:parseInt(e.nbrEnfant)||0,district:e.district||"",agence:e.agence||"",pays:e.pays||"GN",typePiece:e.typePiece||"",idUser:e.idUser||null,statutClt:e.statutClt||"A",idManagerAgent:e.idManagerAgent||null,dateAttente:e.dateAttente?n(e.dateAttente):null,nature:e.nature||"PP",codeAgence:e.codeAgence||"",provServDestino:e.provServDestino||"",conjoint:e.conjoint||""}}updateCorrectionStatus(){console.log("Mise \xE0 jour du statut de correction dans PostgreSQL")}getIdentiquesCount(){return this.state().comparisons.filter(e=>!e.isDifferent).length}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=U({type:i,selectors:[["app-update-correction-personne-physique"]],features:[F([R,I])],decls:52,vars:33,consts:[[1,"correction-detail-container"],["styleClass","header-card"],[1,"header-content"],[1,"title-section"],["pButton","","icon","pi pi-arrow-left","pTooltip","Retour \xE0 la liste",1,"p-button-text","p-button-secondary",3,"click"],[1,"pi","pi-user-edit"],["class","ml-2",3,"value","severity",4,"ngIf"],[1,"action-buttons"],["pButton","","icon","pi pi-refresh","label","Actualiser",1,"p-button-outlined",3,"click","loading"],[4,"ngIf"],["class","status-message rejection-status-message",4,"ngIf"],["class","status-message validation-status-message",4,"ngIf"],[3,"valueChange","value","enableService","closable"],[1,"content-grid"],["header","CORRECTION AVANT (SAF SQL Server)",3,"toggleable"],["pTemplate","icons"],[1,"panel-content"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","data-display",4,"ngIf"],["class","no-data",4,"ngIf"],["header","CORRECTION APRES (PostgreSQL)",3,"toggleable"],["styleClass","comparison-card",4,"ngIf"],["header","Rejeter la Correction",3,"visibleChange","visible","modal","closable","closeOnEscape"],[1,"rejection-dialog-content"],[1,"field"],["for","motif",1,"required"],[1,"text-danger"],[1,"text-muted","d-block","mb-2"],["id","motif","pTextarea","","rows","5","placeholder","Entrez le motif de rejet...",1,"w-full",3,"ngModelChange","ngModel","disabled"],["class","text-muted",4,"ngIf"],[1,"mt-3","p-2","bg-warning-light","border-round"],[1,"pi","pi-exclamation-triangle","text-warning","mr-2"],[1,"text-warning","font-semibold"],[1,"text-sm"],["pTemplate","footer"],[1,"ml-2",3,"value","severity"],["pButton","","icon","pi pi-ban","label","Rejeter la Correction",1,"p-button-danger",3,"click","disabled"],["pButton","","icon","pi pi-check","label","Valider",1,"p-button-success",3,"click","disabled"],[1,"status-message","rejection-status-message"],["severity","warn",3,"closable"],["pTemplate",""],[1,"flex","align-items-center"],[1,"pi","pi-ban","mr-2"],[1,"mt-1","mb-0"],["class","mt-1 mb-0 text-sm",4,"ngIf"],[1,"mt-1","mb-0","text-sm"],[1,"status-message","validation-status-message"],["severity","success",3,"closable"],[1,"pi","pi-check-circle","mr-2"],["label","Source: SAF","styleClass","custom-chip-info"],[1,"loading-state"],["styleClass","w-4rem h-4rem","strokeWidth","3"],[1,"error-state"],[1,"pi","pi-exclamation-triangle"],["pButton","","label","R\xE9essayer","icon","pi pi-refresh",1,"p-button-sm",3,"click"],[1,"data-display"],[1,"info-grid"],["class","info-item",4,"ngFor","ngForOf"],[1,"info-item"],[1,"value"],[1,"no-data"],[1,"pi","pi-inbox"],["label","Source: PostgreSQL","styleClass","custom-chip-success"],["styleClass","comparison-card"],["pTemplate","header"],["styleClass","p-datatable-striped",3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","summary"],[1,"comparison-header"],[1,"pi","pi-chart-line"],[3,"label","styleClass"],[2,"width","25%"],[2,"width","30%"],[2,"width","15%"],[1,"value-display"],[3,"value","severity"],["colspan","4",1,"text-center"],[1,"comparison-summary"],[1,"summary-item"],[1,"pi","pi-check-circle","text-success"],[1,"pi","pi-exclamation-circle","text-warning"],[1,"text-muted"],["pButton","","type","button","label","Annuler","icon","pi pi-times",1,"p-button-text",3,"click","disabled"],["pButton","","type","button","label","Confirmer le Rejet","icon","pi pi-ban",1,"p-button-danger",3,"click","loading","disabled"]],template:function(n,t){if(n&1&&(o(0,"div",0),u(1,"p-toast")(2,"p-confirmDialog"),o(3,"p-card",1)(4,"div",2)(5,"div",3)(6,"button",4),C("click",function(){return t.goBack()}),a(),o(7,"h2"),u(8,"i",5),l(9),f(10,je,1,2,"p-tag",6),a()(),o(11,"div",7)(12,"button",8),C("click",function(){return t.refresh()}),a(),f(13,Ie,5,2,"ng-container",9),a()()(),f(14,qe,3,1,"div",10)(15,Le,3,1,"div",11),o(16,"p-messages",12),T("valueChange",function(s){return D(t.messages,s)||(t.messages=s),s}),a(),o(17,"div",13)(18,"p-panel",14),f(19,Ne,1,0,"ng-template",15),o(20,"div",16),f(21,Fe,4,0,"div",17)(22,Be,5,1,"div",18)(23,ze,3,1,"div",19)(24,He,4,0,"div",20),a()(),o(25,"p-panel",21),f(26,We,1,0,"ng-template",15),o(27,"div",16),f(28,Qe,4,0,"div",17)(29,Je,5,1,"div",18)(30,Ye,3,1,"div",19)(31,Ke,4,0,"div",20),a()()(),f(32,it,7,5,"p-card",22),o(33,"p-dialog",23),T("visibleChange",function(s){return D(t.state().showRejectionDialog,s)||(t.state().showRejectionDialog=s),s}),o(34,"div",24)(35,"div",25)(36,"label",26),l(37," Motif de rejet "),o(38,"span",27),l(39,"*"),a()(),o(40,"small",28),l(41," Veuillez expliquer la raison du rejet de cette correction (minimum 10 caract\xE8res) "),a(),o(42,"textarea",29),T("ngModelChange",function(s){return D(t.state().rejectionMotif,s)||(t.state().rejectionMotif=s),s}),l(43,"                "),a(),f(44,rt,2,1,"small",30),a(),o(45,"div",31),u(46,"i",32),o(47,"span",33),l(48,"Attention:"),a(),o(49,"span",34),l(50," Cette action est irr\xE9versible. La correction sera marqu\xE9e comme rejet\xE9e."),a()()(),f(51,ot,2,3,"ng-template",35),a()()),n&2){let r;c(9),P(" D\xE9tails Correction - ",t.state().codCliente," "),c(),d("ngIf",(r=t.state().correctionApres)==null?null:r.correctionStatut),c(2),d("loading",t.isLoading()),c(),d("ngIf",t.canPerformActions()),c(),d("ngIf",t.isRejected()),c(),d("ngIf",t.isValidated()),c(),E("value",t.messages),d("enableService",!1)("closable",!0),c(2),d("toggleable",!0),c(3),d("ngIf",t.state().loadingAvant),c(),d("ngIf",t.state().errorAvant&&!t.state().loadingAvant),c(),d("ngIf",t.state().correctionAvant&&!t.state().loadingAvant),c(),d("ngIf",!t.state().correctionAvant&&!t.state().loadingAvant&&!t.state().errorAvant),c(),d("toggleable",!0),c(3),d("ngIf",t.state().loadingApres),c(),d("ngIf",t.state().errorApres&&!t.state().loadingApres),c(),d("ngIf",t.state().correctionApres&&!t.state().loadingApres),c(),d("ngIf",!t.state().correctionApres&&!t.state().loadingApres&&!t.state().errorApres),c(),d("ngIf",t.hasBothData()),c(),j(w(31,De)),E("visible",t.state().showRejectionDialog),d("modal",!0)("closable",!t.state().submittingRejection)("closeOnEscape",!t.state().submittingRejection),c(9),j(w(32,Te)),E("ngModel",t.state().rejectionMotif),d("disabled",t.state().submittingRejection),c(2),d("ngIf",t.state().rejectionMotif)}},dependencies:[z,B,$,K,J,G,Y,Pe,_e,Q,ee,Z,ce,ae,oe,re,de,ve,me,pe,ue,ge,Se,Oe,Ae,xe,Ce,fe,ne,te,ye,he,le,se,X,be,Me],styles:[".correction-detail-container[_ngcontent-%COMP%]{padding:1.5rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-color);display:flex;align-items:center;gap:.5rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);font-size:1.3rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}@media (max-width: 1024px){.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]{padding:1rem;min-height:300px}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:250px;gap:1rem}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-color-secondary)}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   i.pi-exclamation-triangle[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   i.pi-exclamation-triangle[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i.pi-exclamation-triangle[_ngcontent-%COMP%]{color:var(--orange-500)}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary);margin:0;font-size:1rem}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr;gap:1rem;padding:.5rem;border-bottom:1px solid var(--surface-border)}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-color-secondary);font-size:.875rem}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-color);word-break:break-word}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .value.highlight-difference[_ngcontent-%COMP%]{color:var(--orange-600);font-weight:600}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]     .p-card-header{padding:1rem 1.5rem;border-bottom:1px solid var(--surface-border)}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;display:flex;align-items:center;gap:.5rem}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .row-different[_ngcontent-%COMP%]{background-color:var(--orange-50)!important}@media (prefers-color-scheme: dark){.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .row-different[_ngcontent-%COMP%]{background-color:#fb923c1a!important}}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .value-display[_ngcontent-%COMP%]{font-size:.95rem}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .value-display.text-warning[_ngcontent-%COMP%]{color:var(--orange-600);font-weight:600}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:1rem 0}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-color-secondary)}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   i.text-success[_ngcontent-%COMP%]{color:var(--green-500)}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   i.text-warning[_ngcontent-%COMP%]{color:var(--orange-500)}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-color);font-weight:600}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-info{background-color:var(--blue-100);color:var(--blue-700)}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-info .p-chip-text{font-weight:600;font-size:.875rem}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-success{background-color:var(--green-100);color:var(--green-700)}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-success .p-chip-text{font-weight:600;font-size:.875rem}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-warning{background-color:var(--orange-100);color:var(--orange-700)}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-warning .p-chip-text{font-weight:600;font-size:.875rem}@media (prefers-color-scheme: dark){.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-info{background-color:#3b82f633;color:var(--blue-300)}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-success{background-color:#22c55e33;color:var(--green-300)}.correction-detail-container[_ngcontent-%COMP%]     .custom-chip-warning{background-color:#fb923c33;color:var(--orange-300)}}@media (max-width: 768px){.correction-detail-container[_ngcontent-%COMP%]{padding:1rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;justify-content:stretch}.correction-detail-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{gap:1rem}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{grid-template-columns:1fr}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]   .panel-content[_ngcontent-%COMP%]   .data-display[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem}.correction-detail-container[_ngcontent-%COMP%]   .comparison-card[_ngcontent-%COMP%]   .comparison-summary[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}@media print{.correction-detail-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:none}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.correction-detail-container[_ngcontent-%COMP%]   .content-grid[_ngcontent-%COMP%]     .p-panel-icons{display:none}}.rejection-status-message[_ngcontent-%COMP%]{margin:1rem 0}.rejection-status-message[_ngcontent-%COMP%]     .p-messages{margin:0}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message{background:#fbbf241a;border:1px solid rgba(251,191,36,.3);color:var(--text-color)}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message .p-message-wrapper{padding:1rem 1.25rem}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message .p-message-wrapper .flex{display:flex}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message .p-message-wrapper .flex i{color:var(--orange-600);font-size:1.5rem;margin-right:1rem}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message .p-message-wrapper .flex strong{display:block;font-size:1.1rem;margin-bottom:.25rem}.rejection-status-message[_ngcontent-%COMP%]     .p-messages .p-message .p-message-wrapper .flex p{color:var(--text-color-secondary);font-size:.95rem}.comparison-card.rejected[_ngcontent-%COMP%]     .p-card{border:2px solid var(--orange-400)}.comparison-card.rejected[_ngcontent-%COMP%]     .p-card .p-card-header{background-color:#fbbf240d}"]})};export{Ee as UpdateCorrectionPersonnePhysiqueComponent};
