import{b as j}from"./chunk-FGMPEHU4.js";import"./chunk-X2KUNYA6.js";import"./chunk-AMXAFO4A.js";import"./chunk-2QPLZWUI.js";import{a as J}from"./chunk-SDW5API3.js";import{a as H}from"./chunk-KRA3R5HH.js";import{a as $}from"./chunk-IDKLANHK.js";import{a as Q,b as W}from"./chunk-GBSAZIIF.js";import{c as U,d as Z}from"./chunk-JK4JG2UW.js";import"./chunk-J62YMCRW.js";import"./chunk-J6B6CWYC.js";import{d as F,j as N}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as O}from"./chunk-YTFCGSG6.js";import"./chunk-RHLJ6NE2.js";import{a as P}from"./chunk-R2ZYXRFE.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{e as G,g as K}from"./chunk-XKXBFP6V.js";import{b as R}from"./chunk-ULM4QL4Q.js";import{oa as c}from"./chunk-3YZBLOIS.js";import{b as I,e as T,f as D,h as k,i as V,j as A,r as q,s as z,x as B}from"./chunk-2I6ZAGC7.js";import{b as L}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import"./chunk-GZWLZB4Q.js";import{Bb as u,Gb as i,Hb as r,Ib as s,Mb as y,Rb as C,Va as m,_ as a,bc as d,cc as l,fa as g,ga as v,gb as S,lc as M,ma as h,mb as w,mc as E,va as b,vb as x,yb as _}from"./chunk-MKA3N2SS.js";import"./chunk-GAL4ENT6.js";var ee=()=>({backgroundImage:"url(/images/pages/login-bg.jpg)"});function te(n,o){n&1&&(i(0,"p-message",11),l(1," Email is required "),r())}function ie(n,o){n&1&&(i(0,"p-message",11),l(1," Email format is invalid. "),r())}var X=class n{state=b({loading:!1,message:void 0,error:void 0});router=a(F);destroyRef=a(h);userService=a(L);messageService=a(c);ngOnInit(){}closeMessage=()=>this.state.set({loading:!1,message:void 0,error:void 0});resetPassword=o=>{this.state.set({loading:!0,message:void 0,error:void 0}),console.log("form",o.value.email),this.userService.resetPassword$(J(o.value,[])).pipe(O(this.destroyRef)).subscribe({next:t=>{this.state.set({loading:!1,message:t.message,error:void 0}),this.messageService.add({severity:"success",summary:"Success",detail:t.message})},error:t=>{this.state.set({loading:!1,message:void 0,error:t}),this.messageService.add({severity:"error",summary:"Error",detail:t})},complete:()=>o.reset()})};backToLogin(){this.router.navigate(["/auth/login"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-forgotpassword"]],features:[M([c])],decls:24,vars:6,consts:[["form","ngForm"],["email","ngModel"],[1,"min-h-screen","flex","flex-col","bg-cover"],[1,"self-center","mt-auto","mb-auto"],[1,"text-center","z-50","flex","flex-col","border","rounded-md","border-surface","bg-surface-0","dark:bg-surface-900","p-12"],[1,"text-2xl","font-semibold"],[1,"text-muted-color","px-12"],[1,"flex","flex-col","gap-4","mt-12"],[3,"ngSubmit"],[1,"pi","pi-at"],["pInputText","","name","email","ngModel","","placeholder","Email","required","","email",""],["severity","error","size","small","styleClass","h-full w-full "],["type","submit","pButton","","label","Reset password",1,"w-full",3,"disabled"],["href","http://localhost:8080/oauth2/authorize?response_type=code&client_id=client&scope=openid&redirect_uri=http://localhost:4200&code_challenge_method=S256&code_challenge=vesLhZA4cwKsKZAR7zvEJ9q3uI6dRM8nwna-IpuKkkk","pButton","","text","","label","BACK TO LOGIN",1,"w-full","text-primary-500"],["simple",""]],template:function(t,f){if(t&1){let p=y();i(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),l(4,"Reinitialisation de mot de passe"),r(),i(5,"div",6),l(6,"Saisissez votre addresse Email pour recevoir un email"),r(),i(7,"div",7)(8,"form",8,0),C("ngSubmit",function(){g(p);let Y=d(9);return v(f.resetPassword(Y))}),i(10,"p-input-group")(11,"p-inputgroup-addon"),s(12,"i",9),r(),s(13,"input",10,1),w(15,te,2,0,"p-message",11)(16,ie,2,0,"p-message",11),r(),s(17,"br"),i(18,"p-input-group"),s(19,"button",12),r()(),i(20,"p-input-group"),s(21,"a",13),r()()()()(),s(22,"p-toast")(23,"app-configurator",14)}if(t&2){let p=d(9),e=d(14);_(E(5,ee)),m(15),u(e.invalid&&e.dirty&&e.touched&&(e.errors!=null&&e.errors.required)?15:-1),m(),u(e.invalid&&e.dirty&&e.touched&&(e.errors!=null&&e.errors.email)?16:-1),m(3),x("disabled",p.invalid||f.state().loading)}},dependencies:[P,K,G,R,N,$,H,j,B,A,I,T,D,q,z,V,k,W,Q,Z,U],encapsulation:2})};export{X as ForgotpasswordComponent};
