import{b as ee}from"./chunk-FGMPEHU4.js";import"./chunk-X2KUNYA6.js";import"./chunk-AMXAFO4A.js";import"./chunk-2QPLZWUI.js";import{a as oe,b as ae}from"./chunk-KRA3R5HH.js";import{a as ne,b as re}from"./chunk-IDKLANHK.js";import{a as se,b as le}from"./chunk-GBSAZIIF.js";import{c as te,d as ie}from"./chunk-JK4JG2UW.js";import{c as me}from"./chunk-HNZBC55R.js";import"./chunk-J62YMCRW.js";import"./chunk-J6B6CWYC.js";import"./chunk-ATSSA22C.js";import{d as F,j as U}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as Y}from"./chunk-YTFCGSG6.js";import"./chunk-RHLJ6NE2.js";import{a as $}from"./chunk-R2ZYXRFE.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{e as H,g as Q}from"./chunk-XKXBFP6V.js";import{a as V}from"./chunk-ULM4QL4Q.js";import{oa as S}from"./chunk-3YZBLOIS.js";import{b as D,e as G,f as L,h as P,i as j,j as z,r as B,s as K,t as O,v as Z,x as J}from"./chunk-2I6ZAGC7.js";import{a as W,b as X}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import"./chunk-GZWLZB4Q.js";import{Bb as l,Gb as i,Hb as e,Ib as n,Mb as w,Rb as N,Sb as _,Va as o,_ as g,bc as u,cc as s,dc as I,ec as q,fa as C,ga as y,gb as M,lc as k,ma as E,mb as c,mc as A,va as b,vb as R,yb as T}from"./chunk-MKA3N2SS.js";import"./chunk-GAL4ENT6.js";var pe=()=>({backgroundImage:"url(/images/pages/accessDenied-bg.jpg)"});function ue(t,r){if(t&1&&(i(0,"div",15)(1,"p-message",33),s(2),e()()),t&2){let a=_();o(2),I(a.state().message)}}function ce(t,r){if(t&1&&(i(0,"div",15)(1,"p-message",34),s(2),e()()),t&2){let a=_();o(2),q(" ",a.state().error,"")}}function ge(t,r){t&1&&(i(0,"p-message",20),s(1," First name is required "),e())}function fe(t,r){t&1&&(i(0,"p-message",20),s(1," Last name is required "),e())}function ve(t,r){t&1&&(i(0,"p-message",20),s(1," Email is required "),e())}function xe(t,r){t&1&&(i(0,"p-message",20),s(1," Email format is invalid "),e())}function he(t,r){t&1&&(i(0,"p-message",25),s(1," Username must be alphanumeric "),e())}function _e(t,r){t&1&&(i(0,"p-message",25),s(1," User name is required "),e())}function Se(t,r){t&1&&(i(0,"p-message",25),s(1," Password is required "),e())}function Ce(t,r){t&1&&(i(0,"p-message",25),s(1," this password is too short "),e())}var de=class t{state=b({loading:!1,message:void 0,error:void 0});router=g(F);destroyRef=g(E);storage=g(W);userService=g(X);messageService=g(S);value1="";value2="";ngOnInit(){if(console.log(this.storage.getRedirectUrl()),this.userService.isAuthenticated()&&!this.userService.isTokenExpired()){this.storage.getRedirectUrl()?this.router.navigate([this.storage.getRedirectUrl()]):this.router.navigate([["/dashboard"]]);return}}closeMessage=()=>this.state.set({loading:!1,message:void 0,error:void 0});register=r=>{this.state.set({loading:!0,message:void 0,error:void 0}),console.log("form",r.value),this.userService.register$(r.value).pipe(Y(this.destroyRef)).subscribe({next:a=>{this.state.set({loading:!1,message:a.message,error:void 0}),this.messageService.add({severity:"success",summary:"Success",detail:a.message})},error:a=>{this.state.set({loading:!1,message:void 0,error:a}),this.messageService.add({severity:"error",summary:"Error",detail:a})},complete:()=>r.reset()})};displayToast=this.messageService.add({severity:"error",summary:"Error",detail:"this is an error message"});backToLogin(){this.router.navigate(["/auth/login"])}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=M({type:t,selectors:[["app-register"]],features:[k([S])],decls:57,vars:14,consts:[["form","ngForm"],["firstName","ngModel"],["lastName","ngModel"],["email","ngModel"],["username","ngModel"],["password","ngModel"],[1,"h-screen","flex","w-full","bg-surface-50","dark:bg-surface-950"],[1,"flex","flex-1","flex-col","bg-surface-50","dark:bg-surface-950","items-center","justify-center"],[1,"w-11/12","sm:w-[30rem]"],[1,"flex","flex-col"],[1,"bg-primary","rounded-full","flex","items-center","justify-center",2,"height","56px","width","56px"],[1,"pi","pi-users","text-surface-0","dark:text-surface-900","!text-4xl"],[1,"mt-6"],[1,"m-0","text-primary","font-semibold","text-4xl"],[1,"block","text-surface-700","dark:text-surface-100","mt-2"],[1,"flex","flex-col","gap-4","mb-4"],[1,"flex","flex-col","gap-4","mt-6",3,"ngSubmit"],[1,"flex","flex-col","gap-4","mt-12"],[1,"pi","pi-user"],["pInputText","","name","firstName","ngModel","","placeholder","First Name","required",""],["severity","error","size","small","styleClass","h-full w-full "],["pInputText","","name","lastName","ngModel","","placeholder","Last Name","required",""],[1,"pi","pi-at"],["pInputText","","name","email","ngModel","","placeholder","Email","required","","email",""],["pInputText","","name","username","ngModel","","placeholder","Username","required","","pattern","^[a-zA-Z0-9]+$","minlength","4"],["severity","error","size","small","styleClass","h-full w-full"],[1,"pi","pi-key"],["pInputText","","id","password","type","password","name","password","ngModel","","placeholder","Password","required","","minlength","6"],["type","submit","pButton","","pRipple","","label","Souscrire ",1,"w-full",3,"disabled"],["href","http://localhost:8080/oauth2/authorize?response_type=code&client_id=client&scope=openid&redirect_uri=http://localhost:4200&code_challenge_method=S256&code_challenge=vesLhZA4cwKsKZAR7zvEJ9q3uI6dRM8nwna-IpuKkkk","pButton","","pRipple","","text","","label","BACK TO LOGIN",1,"w-full","text-primary-500"],[1,"hidden","lg:flex","flex-1","items-center","justify-center","bg-cover"],["src","/layout/images/logo/vector_logo.png","alt",""],["simple",""],["severity","success"],["severity","error"]],template:function(a,v){if(a&1){let h=w();i(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),n(5,"i",11),e(),i(6,"div",12)(7,"h1",13),s(8,"Join us!"),e(),i(9,"span",14),s(10,"Please fill the fields to sign-up Ultima network"),e()()(),c(11,ue,3,1,"div",15)(12,ce,3,1,"div",15),i(13,"form",16,0),N("ngSubmit",function(){C(h);let f=u(14);return y(v.register(f))}),i(15,"div",17)(16,"p-input-group")(17,"p-inputgroup-addon"),n(18,"i",18),e(),n(19,"input",19,1),c(21,ge,2,0,"p-message",20),e(),i(22,"p-input-group")(23,"p-inputgroup-addon"),n(24,"i",18),e(),n(25,"input",21,2),c(27,fe,2,0,"p-message",20),e(),i(28,"p-input-group")(29,"p-inputgroup-addon"),n(30,"i",22),e(),n(31,"input",23,3),c(33,ve,2,0,"p-message",20)(34,xe,2,0,"p-message",20),e(),i(35,"p-inputGroup")(36,"p-inputGroupAddon"),n(37,"i",18),e(),n(38,"input",24,4),c(40,he,2,0,"p-message",25)(41,_e,2,0,"p-message",25),e(),i(42,"p-input-group")(43,"p-inputgroup-addon"),n(44,"i",26),e(),n(45,"input",27,5),c(47,Se,2,0,"p-message",25)(48,Ce,2,0,"p-message",25),e(),i(49,"div"),n(50,"button",28),e(),i(51,"div"),n(52,"a",29),e()()()()(),i(53,"div",30),n(54,"img",31),e()(),n(55,"p-toast")(56,"app-configurator",32)}if(a&2){let h=u(14),x=u(20),f=u(26),m=u(32),d=u(39),p=u(46);o(11),l(v.state().message?11:-1),o(),l(v.state().error?12:-1),o(9),l(x.invalid&&x.touched&&x.invalid?21:-1),o(6),l(f.invalid&&f.touched&&f.invalid?27:-1),o(6),l(m.invalid&&m.touched&&m.invalid&&(m.errors!=null&&m.errors.required)?33:-1),o(),l(m.invalid&&m.touched&&m.invalid&&(m.errors!=null&&m.errors.email)?34:-1),o(6),l(d.invalid&&d.touched&&(d.errors!=null&&d.errors.pattern)?40:-1),o(),l(d.invalid&&d.touched&&(d.errors!=null&&d.errors.required)?41:-1),o(6),l(p.invalid&&p.touched&&(p.errors!=null&&p.errors.required)?47:-1),o(),l(p.invalid&&p.touched&&(p.errors!=null&&p.errors.minlength)?48:-1),o(2),R("disabled",h.invalid||v.state().loading),o(3),T(A(13,pe))}},dependencies:[Q,H,U,J,z,D,G,L,B,O,Z,K,j,P,$,V,ee,re,ne,ae,oe,me,le,se,ie,te],encapsulation:2})};export{de as RegisterComponent};
