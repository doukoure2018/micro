import{b as ze}from"./chunk-S7SZESPW.js";import"./chunk-YISA6LMV.js";import{f as Oe}from"./chunk-MVMJFDGQ.js";import{a as je,b as $e}from"./chunk-K2RLQDMJ.js";import{a as Le,b as He}from"./chunk-JA4WM3ZQ.js";import{a as qe,b as Ue}from"./chunk-4JPZ5GKU.js";import{b as Se}from"./chunk-IDKLANHK.js";import{c as Fe,d as Ee}from"./chunk-JK4JG2UW.js";import{b as Ge}from"./chunk-7ZFHYQCZ.js";import{a as Be,b as Me}from"./chunk-WMO3Y22R.js";import{a as Te,k as Re}from"./chunk-SRGIHKGJ.js";import"./chunk-KLDL5O4H.js";import"./chunk-PXEEYFPS.js";import"./chunk-4MNJFNZT.js";import"./chunk-7A4CRAMP.js";import"./chunk-3WTE2CKQ.js";import"./chunk-LA2FUI34.js";import"./chunk-ZNTL7BEM.js";import{a as Ne,b as we}from"./chunk-QZOXHZZK.js";import"./chunk-MPVO6A2U.js";import"./chunk-D6YNXGTA.js";import"./chunk-ED7TFTUL.js";import"./chunk-MZ7FZGG3.js";import{a as Ve,b as ke}from"./chunk-C4WQ325L.js";import{b as De,c as Ie}from"./chunk-HNZBC55R.js";import"./chunk-J62YMCRW.js";import"./chunk-J6B6CWYC.js";import"./chunk-IEQZB3PI.js";import"./chunk-ATSSA22C.js";import{a as ye,b as Ce}from"./chunk-BGHZ5NVU.js";import"./chunk-XYTTGGFW.js";import"./chunk-ZNT52ZF3.js";import"./chunk-Z7KSDRLV.js";import"./chunk-N4Q6Z3MW.js";import{a as Pe,b as Ae}from"./chunk-3BEM77IG.js";import{b as ne,d as re}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as B}from"./chunk-YTFCGSG6.js";import"./chunk-RHLJ6NE2.js";import{a as fe,b as ge}from"./chunk-R2ZYXRFE.js";import"./chunk-NRZ4QNP7.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{b as he,e as be,g as _e}from"./chunk-XKXBFP6V.js";import"./chunk-ULM4QL4Q.js";import{oa as $,sa as ae}from"./chunk-3YZBLOIS.js";import{b as le,c as p,e as oe,f as se,j as ue,m as me,p as de,w as ce,x as pe,y as ve}from"./chunk-2I6ZAGC7.js";import{b as xe}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import{l as X,m as Z,n as ee,w as te,y as ie}from"./chunk-GZWLZB4Q.js";import{Bc as g,Db as G,Eb as q,Fb as U,Gb as r,Hb as n,Ib as m,Mb as I,Rb as D,Sb as _,Va as l,Wb as Y,_ as T,cc as a,dc as x,ec as y,fa as A,fc as W,ga as S,gb as J,lc as K,ma as z,mb as b,mc as E,nc as u,oc as N,qc as M,rc as Q,sc as V,uc as j,va as w,vb as d,wc as f,yb as k}from"./chunk-MKA3N2SS.js";import{a as C,b as P}from"./chunk-GAL4ENT6.js";var vt=()=>({width:"50px",height:"50px"}),ft=()=>[6,12,18,24],gt=()=>[36,48,60,72],ht=()=>({width:"180px"}),Je=i=>[i,"GNF","symbol","1.0-0","fr-FR"],dt=(i,t)=>({"bg-primary text-white shadow-3":i,"surface-card border-1 surface-border hover:border-primary hover:shadow-2":t}),ct=(i,t)=>({"text-white opacity-70":i,"text-color-secondary":t}),Ye=i=>({label:"Nom",value:i}),bt=i=>({label:"Pr\xE9nom",value:i}),We=i=>({label:"Email",value:i}),L=i=>({label:"T\xE9l\xE9phone",value:i}),_t=i=>({label:"Num\xE9ro d'identit\xE9",value:i}),xt=i=>({label:"Date de naissance",value:i}),O=(i,t,e,o,s,c)=>[i,t,e,o,s,c],Ke=()=>({"min-width":"50rem"}),Ft=i=>({label:"Forme juridique",value:i}),Et=i=>({label:"Secteur d'activit\xE9",value:i}),yt=i=>({label:"Num\xE9ro de registre",value:i}),h=i=>[i,"GNF","symbol","1.0-0","en-US"],Ct=i=>({label:"Total actifs",value:i}),Pt=i=>({label:"Total passifs",value:i}),At=(i,t)=>[i,t],R=()=>({"min-width":"30rem"}),St=i=>({label:"\xC9pargnes",value:i}),Dt=i=>({label:"Biens durables",value:i}),It=i=>({label:"Total patrimoine",value:i}),Tt=i=>({label:"Garantie propos\xE9e",value:i}),Rt=i=>({label:"Montant garantie",value:i}),Nt=(i,t,e,o,s)=>[i,t,e,o,s],Qe=i=>({label:"Chiffre d'affaires",value:i}),Xe=i=>({label:"Autres revenus",value:i}),Ze=i=>({label:"Revenus totaux",value:i}),et=i=>({label:"Co\xFBt des marchandises",value:i}),H=(i,t,e,o)=>[i,t,e,o],tt=i=>({label:"Transport production",value:i}),it=i=>({label:"Transport personnel",value:i}),nt=i=>({label:"Manutention",value:i}),rt=i=>({label:"Aide externe",value:i}),at=i=>({label:"H\xE9bergement/Restauration",value:i}),lt=i=>({label:"Imp\xF4ts",value:i}),ot=i=>({label:"Loyers",value:i}),st=i=>({label:"Total charges",value:i,isTotal:!0}),ut=(i,t,e,o,s,c,F,v)=>[i,t,e,o,s,c,F,v],wt=i=>({label:"Montant demand\xE9",value:i}),Bt=i=>({label:"Dur\xE9e",value:i}),Mt=i=>({label:"Mensualit\xE9 estim\xE9e",value:i}),Vt=i=>({label:"D\xE9l\xE9gation",value:i}),kt=i=>({label:"Agence",value:i}),Gt=i=>({label:"Point de vente",value:i}),pt=i=>({"bg-gray-100 dark:bg-gray-800 font-bold":i}),qt=i=>({label:"\xC2ge",value:i}),Ut=i=>({label:"Activit\xE9",value:i}),jt=i=>({label:"Profession",value:i}),$t=()=>({"min-width":"25rem"});function Ot(i,t){i&1&&(r(0,"div",2)(1,"div",3),m(2,"p-progressSpinner",4),r(3,"p",5),a(4,"Chargement des donn\xE9es..."),n()()()),i&2&&(l(2),k(E(2,vt)))}function Lt(i,t){i&1&&(r(0,"small",62),a(1," Le nom est requis "),n())}function Ht(i,t){i&1&&(r(0,"small",62),a(1," Le pr\xE9nom est requis "),n())}function zt(i,t){i&1&&(r(0,"small",62),a(1," L'email n'est pas valide "),n())}function Jt(i,t){i&1&&(r(0,"small",62),a(1," Le nom est requis "),n())}function Yt(i,t){i&1&&(r(0,"small",62),a(1," L'email n'est pas valide "),n())}function Wt(i,t){if(i&1&&(r(0,"div")(1,"p-card",19)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h2",23),m(6,"i",24),a(7," Informations du promoteur "),n()(),r(8,"div",25)(9,"div",26)(10,"label",27),a(11,"Nom *"),n(),m(12,"input",28),b(13,Lt,2,0,"small",29),n()(),r(14,"div",25)(15,"div",26)(16,"label",30),a(17,"Pr\xE9nom *"),n(),m(18,"input",31),b(19,Ht,2,0,"small",29),n()(),r(20,"div",25)(21,"div",26)(22,"label",32),a(23,"Date de naissance"),n(),m(24,"p-calendar",33),n()(),r(25,"div",25)(26,"div",26)(27,"label",34),a(28,"Num\xE9ro d'identit\xE9"),n(),m(29,"input",35),n()(),r(30,"div",25)(31,"div",26)(32,"label",36),a(33,"T\xE9l\xE9phone"),n(),m(34,"input",37),n()(),r(35,"div",25)(36,"div",26)(37,"label",38),a(38,"Email"),n(),m(39,"input",39),b(40,zt,2,0,"small",29),n()(),r(41,"div",22)(42,"div",26)(43,"label",40),a(44,"Adresse"),n(),m(45,"input",41),n()(),r(46,"div",42)(47,"h2",23),m(48,"i",43),a(49," Informations de l'entreprise "),n()(),r(50,"div",44)(51,"div",26)(52,"label",45),a(53,"Nom de l'entreprise *"),n(),m(54,"input",46),b(55,Jt,2,0,"small",29),n()(),r(56,"div",25)(57,"div",26)(58,"label",47),a(59,"Date de cr\xE9ation"),n(),m(60,"p-calendar",48),n()(),r(61,"div",25)(62,"div",26)(63,"label",49),a(64,"Forme juridique"),n(),m(65,"p-dropdown",50),n()(),r(66,"div",25)(67,"div",26)(68,"label",51),a(69,"Secteur d'activit\xE9"),n(),m(70,"p-dropdown",52),n()(),r(71,"div",25)(72,"div",26)(73,"label",53),a(74,"Num\xE9ro de registre"),n(),m(75,"input",54),n()(),r(76,"div",55)(77,"div",26)(78,"label",56),a(79,"T\xE9l\xE9phone"),n(),m(80,"input",57),n()(),r(81,"div",55)(82,"div",26)(83,"label",58),a(84,"Email"),n(),m(85,"input",59),b(86,Yt,2,0,"small",29),n()(),r(87,"div",22)(88,"div",26)(89,"label",60),a(90,"Adresse"),n(),m(91,"input",61),n()()()()()()),i&2){let e,o,s,c,F,v=_(2);l(2),d("formGroup",v.infoBaseForm),l(11),d("ngIf",((e=v.infoBaseForm.get("nomPromoteur"))==null?null:e.invalid)&&((e=v.infoBaseForm.get("nomPromoteur"))==null?null:e.touched)),l(6),d("ngIf",((o=v.infoBaseForm.get("prenomPromoteur"))==null?null:o.invalid)&&((o=v.infoBaseForm.get("prenomPromoteur"))==null?null:o.touched)),l(5),d("showIcon",!0),l(16),d("ngIf",((s=v.infoBaseForm.get("emailPromoteur"))==null?null:s.invalid)&&((s=v.infoBaseForm.get("emailPromoteur"))==null?null:s.touched)),l(5),d("autoResize",!0),l(10),d("ngIf",((c=v.infoBaseForm.get("nomEntreprise"))==null?null:c.invalid)&&((c=v.infoBaseForm.get("nomEntreprise"))==null?null:c.touched)),l(5),d("showIcon",!0),l(5),d("options",v.formeJuridiques),l(5),d("options",v.secteursActivite),l(16),d("ngIf",((F=v.infoBaseForm.get("emailEntreprise"))==null?null:F.invalid)&&((F=v.infoBaseForm.get("emailEntreprise"))==null?null:F.touched)),l(5),d("autoResize",!0)}}function Kt(i,t){if(i&1&&(r(0,"div")(1,"p-card",63)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h2",64),m(6,"i",65),a(7," Actifs "),n()(),r(8,"div",66)(9,"div",26)(10,"label",67),a(11," Liquidit\xE9s "),r(12,"small",68),a(13,"Argent en caisse et en banque"),n()(),m(14,"p-inputNumber",69),n()(),r(15,"div",66)(16,"div",26)(17,"label",70),a(18," Cr\xE9ances clients "),r(19,"small",68),a(20,"Montant d\xFB par vos clients"),n()(),m(21,"p-inputNumber",71),n()(),r(22,"div",66)(23,"div",26)(24,"label",72),a(25,"Valeur des stocks"),n(),m(26,"p-inputNumber",73),n()(),r(27,"div",66)(28,"div",26)(29,"label",74),a(30,"Valeur des \xE9quipements"),n(),m(31,"p-inputNumber",75),n()(),r(32,"div",42)(33,"h2",64),m(34,"i",76),a(35," Passifs "),n()(),r(36,"div",25)(37,"div",26)(38,"label",77),a(39,"Dettes fournisseurs"),n(),m(40,"p-inputNumber",78),n()(),r(41,"div",25)(42,"div",26)(43,"label",79),a(44,"Emprunts actuels"),n(),m(45,"p-inputNumber",80),n()(),r(46,"div",25)(47,"div",26)(48,"label",81),a(49,"Capital propre"),n(),m(50,"p-inputNumber",82),n()()()()()()),i&2){let e=_(2);l(2),d("formGroup",e.bilanEntrepriseForm)}}function Qt(i,t){if(i&1&&(r(0,"div")(1,"p-card",83)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",84),m(6,"i",85),a(7," Patrimoine Personnel "),n()(),r(8,"div",25)(9,"div",26)(10,"label",86),a(11,"\xC9pargnes personnelles"),n(),m(12,"p-inputNumber",87),n()(),r(13,"div",25)(14,"div",26)(15,"label",88),a(16,"Valeur des biens durables"),n(),m(17,"p-inputNumber",89),n()(),r(18,"div",42)(19,"h3",84),m(20,"i",90),a(21," Garanties Propos\xE9es "),n()(),r(22,"div",55)(23,"div",26)(24,"label",91),a(25,"Libell\xE9 de la garantie"),n(),m(26,"input",92),n()(),r(27,"div",55)(28,"div",26)(29,"label",93),a(30,"Montant de la garantie"),n(),m(31,"p-inputNumber",94),n()()()()()()),i&2){let e=_(2);l(2),d("formGroup",e.bilanPersonnelForm)}}function Xt(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Ce champ est obligatoire "),n())}function Zt(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Ce champ est obligatoire "),n())}function ei(i,t){if(i&1&&(r(0,"div")(1,"p-card",95)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",96),m(6,"i",97),a(7," R\xE9sultat Actuel "),n()(),r(8,"div",55)(9,"div",26)(10,"label",98),a(11,"Chiffre d'affaires *"),n(),m(12,"p-inputNumber",99),b(13,Xt,3,0,"small",29),n()(),r(14,"div",55)(15,"div",26)(16,"label",100),a(17," Autres revenus "),r(18,"small",68),a(19,"Subventions, commissions, revenus annexes..."),n()(),m(20,"p-inputNumber",101),n()(),r(21,"div",55)(22,"div",26)(23,"label",102),a(24,"Co\xFBt des marchandises *"),n(),m(25,"p-inputNumber",103),b(26,Zt,3,0,"small",29),n()()()()()()),i&2){let e,o,s=_(2);l(2),d("formGroup",s.resultatActuelForm),l(11),d("ngIf",((e=s.resultatActuelForm.get("chiffreAffaires"))==null?null:e.invalid)&&((e=s.resultatActuelForm.get("chiffreAffaires"))==null?null:e.touched)),l(13),d("ngIf",((o=s.resultatActuelForm.get("coutMarchandises"))==null?null:o.invalid)&&((o=s.resultatActuelForm.get("coutMarchandises"))==null?null:o.touched))}}function ti(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Ce champ est obligatoire "),n())}function ii(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Ce champ est obligatoire "),n())}function ni(i,t){if(i&1&&(r(0,"div")(1,"p-card",105)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",96),m(6,"i",106),a(7," Pr\xE9visions Financi\xE8res "),n()(),r(8,"div",55)(9,"div",26)(10,"label",107),a(11,"Chiffre d'affaires pr\xE9visionnel *"),n(),m(12,"p-inputNumber",108),b(13,ti,3,0,"small",29),n()(),r(14,"div",55)(15,"div",26)(16,"label",109),a(17," Autres revenus pr\xE9visionnels "),r(18,"small",68),a(19,"Subventions, commissions, revenus annexes..."),n()(),m(20,"p-inputNumber",110),n()(),r(21,"div",55)(22,"div",26)(23,"label",111),a(24,"Co\xFBt marchandises pr\xE9visionnel *"),n(),m(25,"p-inputNumber",112),b(26,ii,3,0,"small",29),n()()()()()()),i&2){let e,o,s=_(2);l(2),d("formGroup",s.resultatPrevisionnelForm),l(11),d("ngIf",((e=s.resultatPrevisionnelForm.get("chiffreAffaires"))==null?null:e.invalid)&&((e=s.resultatPrevisionnelForm.get("chiffreAffaires"))==null?null:e.touched)),l(13),d("ngIf",((o=s.resultatPrevisionnelForm.get("coutMarchandises"))==null?null:o.invalid)&&((o=s.resultatPrevisionnelForm.get("coutMarchandises"))==null?null:o.touched))}}function ri(i,t){if(i&1&&(r(0,"div")(1,"p-card",113)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",96),m(6,"i",114),a(7," Charges Actuelles "),n()(),r(8,"div",25)(9,"div",26)(10,"label",115),a(11,"Transport production"),n(),m(12,"p-inputNumber",116),n()(),r(13,"div",25)(14,"div",26)(15,"label",117),a(16,"Transport personnel"),n(),m(17,"p-inputNumber",118),n()(),r(18,"div",25)(19,"div",26)(20,"label",119),a(21,"Frais manutention"),n(),m(22,"p-inputNumber",120),n()(),r(23,"div",25)(24,"div",26)(25,"label",121),a(26,"Aide externe"),n(),m(27,"p-inputNumber",122),n()(),r(28,"div",25)(29,"div",26)(30,"label",123),a(31,"H\xE9bergement/Restauration"),n(),m(32,"p-inputNumber",124),n()(),r(33,"div",25)(34,"div",26)(35,"label",125),a(36,"Imp\xF4ts et taxes"),n(),m(37,"p-inputNumber",126),n()(),r(38,"div",25)(39,"div",26)(40,"label",127),a(41,"Loyers"),n(),m(42,"p-inputNumber",128),n()()()()()()),i&2){let e=_(2);l(2),d("formGroup",e.chargesActuellesForm)}}function ai(i,t){if(i&1&&(r(0,"div")(1,"p-card",129)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",96),m(6,"i",65),a(7," Charges Pr\xE9visionnelles "),n()(),r(8,"div",25)(9,"div",26)(10,"label",130),a(11,"Transport production"),n(),m(12,"p-inputNumber",131),n()(),r(13,"div",25)(14,"div",26)(15,"label",132),a(16,"Transport personnel"),n(),m(17,"p-inputNumber",133),n()(),r(18,"div",25)(19,"div",26)(20,"label",134),a(21,"Manutention"),n(),m(22,"p-inputNumber",135),n()(),r(23,"div",25)(24,"div",26)(25,"label",136),a(26,"Aide externe"),n(),m(27,"p-inputNumber",137),n()(),r(28,"div",25)(29,"div",26)(30,"label",138),a(31,"H\xE9bergement/Restauration"),n(),m(32,"p-inputNumber",139),n()(),r(33,"div",25)(34,"div",26)(35,"label",140),a(36,"Imp\xF4ts et taxes"),n(),m(37,"p-inputNumber",141),n()(),r(38,"div",25)(39,"div",26)(40,"label",142),a(41,"Loyers"),n(),m(42,"p-inputNumber",143),n()()()()()()),i&2){let e=_(2);l(2),d("formGroup",e.chargesPrevisionellesForm)}}function li(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Montant requis (min 1 GNF) "),n())}function oi(i,t){if(i&1){let e=I();r(0,"div",183),D("click",function(){let s=A(e).$implicit,c=_(3);return S(c.selectionnerDureeMois(s))}),r(1,"div",184),a(2),n(),r(3,"div",185),a(4,"mois"),n(),r(5,"div",186),a(6),n()()}if(i&2){let e,o,s=t.$implicit,c=_(3);d("ngClass",N(4,dt,((e=c.demandeCreditForm.get("dureeMois"))==null?null:e.value)===s,((e=c.demandeCreditForm.get("dureeMois"))==null?null:e.value)!==s)),l(2),x(s),l(3),d("ngClass",N(7,ct,((o=c.demandeCreditForm.get("dureeMois"))==null?null:o.value)===s,((o=c.demandeCreditForm.get("dureeMois"))==null?null:o.value)!==s)),l(),y(" ",s<12?s+" mois":s/12+(s===12?" an":" ans")," ")}}function si(i,t){if(i&1){let e=I();r(0,"div",183),D("click",function(){let s=A(e).$implicit,c=_(3);return S(c.selectionnerDureeMois(s))}),r(1,"div",184),a(2),n(),r(3,"div",185),a(4,"mois"),n(),r(5,"div",186),a(6),n()()}if(i&2){let e,o,s=t.$implicit,c=_(3);d("ngClass",N(4,dt,((e=c.demandeCreditForm.get("dureeMois"))==null?null:e.value)===s,((e=c.demandeCreditForm.get("dureeMois"))==null?null:e.value)!==s)),l(2),x(s),l(3),d("ngClass",N(7,ct,((o=c.demandeCreditForm.get("dureeMois"))==null?null:o.value)===s,((o=c.demandeCreditForm.get("dureeMois"))==null?null:o.value)!==s)),l(),y(" ",s/12," ans ")}}function ui(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Dur\xE9e entre 1 et 120 mois "),n())}function mi(i,t){i&1&&(r(0,"small",62),m(1,"i",104),a(2,"Veuillez d\xE9crire l'objet du financement "),n())}function di(i,t){if(i&1){let e=I();r(0,"div")(1,"p-card",144)(2,"form",20)(3,"div",21)(4,"div",22)(5,"h3",96),m(6,"i",145),a(7," Demande de Cr\xE9dit "),n()(),r(8,"div",25)(9,"div",26)(10,"label",146),a(11,"Montant demand\xE9 *"),n(),m(12,"p-inputNumber",147),b(13,li,3,0,"small",29),n()(),r(14,"div",22)(15,"div",26)(16,"label",148),m(17,"i",149),a(18," Dur\xE9e du cr\xE9dit (mois) * "),n(),r(19,"div",150)(20,"div",151)(21,"div",152)(22,"span",153),m(23,"i",154),a(24," Cliquez sur une dur\xE9e pour la s\xE9lectionner "),n()(),r(25,"div",22)(26,"div",155),q(27,oi,7,10,"div",156,G),n()(),r(29,"div",157)(30,"div",155),q(31,si,7,10,"div",156,G),n()(),r(33,"div",158)(34,"div",159)(35,"span",160),m(36,"i",161),a(37," Autre dur\xE9e: "),n(),m(38,"p-inputNumber",162)(39,"p-tag",163),n()()()(),b(40,ui,3,0,"small",29),n()(),r(41,"div",22)(42,"div",164)(43,"div",151)(44,"div",165)(45,"div",3)(46,"div",166),m(47,"i",167),a(48,"Montant demand\xE9 "),n(),r(49,"div",168),a(50),f(51,"currency"),n()()(),r(52,"div",165)(53,"div",3)(54,"div",166),m(55,"i",169),a(56,"Dur\xE9e s\xE9lectionn\xE9e "),n(),r(57,"div",170),a(58),n()()(),r(59,"div",165)(60,"div",3)(61,"div",166),m(62,"i",171),a(63,"Mensualit\xE9 estim\xE9e "),n(),r(64,"div",172),a(65),f(66,"currency"),n()()()()()(),r(67,"div",173)(68,"h3",96),m(69,"i",174),a(70," Localisation du cr\xE9dit "),n()(),r(71,"div",165)(72,"div",26)(73,"label",175),a(74,"D\xE9l\xE9gation"),n(),r(75,"p-dropdown",176),D("onChange",function(s){A(e);let c=_(2);return S(c.onDelegationChange(s))}),n()()(),r(76,"div",165)(77,"div",26)(78,"label",177),a(79,"Agence"),n(),r(80,"p-dropdown",178),D("onChange",function(s){A(e);let c=_(2);return S(c.onAgenceChange(s))}),n()()(),r(81,"div",165)(82,"div",26)(83,"label",179),a(84,"Point de vente"),n(),m(85,"p-dropdown",180),n()(),r(86,"div",22)(87,"div",26)(88,"label",181),a(89,"Objet du financement *"),n(),m(90,"input",182),b(91,mi,3,0,"small",29),n()()()()()()}if(i&2){let e,o,s,c,F,v=_(2);l(2),d("formGroup",v.demandeCreditForm),l(11),d("ngIf",((e=v.demandeCreditForm.get("montantDemande"))==null?null:e.invalid)&&((e=v.demandeCreditForm.get("montantDemande"))==null?null:e.touched)),l(14),U(E(32,ft)),l(4),U(E(33,gt)),l(7),k(E(34,ht)),d("showButtons",!0)("min",1)("max",120),l(),d("value",v.getDureeEnAnnees())("severity",v.getDureeSeverity()),l(),d("ngIf",((o=v.demandeCreditForm.get("dureeMois"))==null?null:o.invalid)&&((o=v.demandeCreditForm.get("dureeMois"))==null?null:o.touched)),l(10),y(" ",g(51,20,u(35,Je,(s=v.demandeCreditForm.get("montantDemande"))==null?null:s.value))," "),l(8),y(" ",(c=v.demandeCreditForm.get("dureeMois"))==null?null:c.value," mois "),l(7),y(" ",g(66,26,u(37,Je,v.calculerMensualite()))," "),l(10),d("options",v.state().allDelegations),l(5),d("options",v.state().filteredAgences)("disabled",v.state().filteredAgences.length===0),l(5),d("options",v.state().filteredPointsVente)("disabled",v.state().filteredPointsVente.length===0),l(5),d("autoResize",!0),l(),d("ngIf",((F=v.demandeCreditForm.get("objetFinancement"))==null?null:F.invalid)&&((F=v.demandeCreditForm.get("objetFinancement"))==null?null:F.touched))}}function ci(i,t){if(i&1){let e=I();r(0,"div",209)(1,"span",210),a(2),n(),r(3,"button",211),D("click",function(){A(e);let s=_().index,c=_(4);return S(c.removePersonnecaution(s))}),n()()}if(i&2){let e=_().$implicit;l(2),W("",e.prenom," ",e.nom,"")}}function pi(i,t){if(i&1&&(r(0,"div",25)(1,"strong"),a(2,"T\xE9l\xE9phone:"),n(),a(3),n()),i&2){let e=_().$implicit;l(3),y(" ",e.telephone," ")}}function vi(i,t){if(i&1&&(r(0,"div",25)(1,"strong"),a(2,"\xC2ge:"),n(),a(3),n()),i&2){let e=_().$implicit;l(3),y(" ",e.age," ans ")}}function fi(i,t){if(i&1&&(r(0,"div",25)(1,"strong"),a(2,"Activit\xE9:"),n(),a(3),n()),i&2){let e=_().$implicit;l(3),y(" ",e.activite," ")}}function gi(i,t){if(i&1&&(r(0,"div",25)(1,"strong"),a(2,"Profession:"),n(),a(3),n()),i&2){let e=_().$implicit;l(3),y(" ",e.profession," ")}}function hi(i,t){if(i&1&&(r(0,"div",22)(1,"p-card",206),b(2,ci,4,2,"ng-template",207),r(3,"div",151),b(4,pi,4,1,"div",208)(5,vi,4,1,"div",208)(6,fi,4,1,"div",208)(7,gi,4,1,"div",208),n()()()),i&2){let e=t.$implicit;l(4),d("ngIf",e.telephone),l(),d("ngIf",e.age),l(),d("ngIf",e.activite),l(),d("ngIf",e.profession)}}function bi(i,t){if(i&1&&(r(0,"div",22)(1,"h3",96),m(2,"i",204),a(3),n(),r(4,"div",21),b(5,hi,8,4,"div",205),n()()),i&2){let e=_(3);l(3),y(" Personnes caution ajout\xE9es (",e.personnecautions.length,") "),l(2),d("ngForOf",e.personnecautions)}}function _i(i,t){i&1&&(r(0,"div",22)(1,"div",212),m(2,"i",213),r(3,"span"),a(4,"Aucune personne caution ajout\xE9e. Vous pouvez continuer sans ajouter de caution."),n()()())}function xi(i,t){if(i&1){let e=I();r(0,"div")(1,"p-card",187)(2,"div",21)(3,"div",22)(4,"h3",96),m(5,"i",188),a(6," Ajouter une personne caution "),n(),r(7,"p",189),a(8,"Les personnes caution sont optionnelles mais peuvent renforcer votre dossier."),n()(),r(9,"div",22)(10,"form",20)(11,"div",21)(12,"div",55)(13,"div",26)(14,"label",190),a(15,"Nom"),n(),m(16,"input",191),n()(),r(17,"div",55)(18,"div",26)(19,"label",192),a(20,"Pr\xE9nom"),n(),m(21,"input",193),n()(),r(22,"div",55)(23,"div",26)(24,"label",194),a(25,"T\xE9l\xE9phone"),n(),m(26,"input",195),n()(),r(27,"div",55)(28,"div",26)(29,"label",196),a(30,"\xC2ge"),n(),m(31,"p-inputNumber",197),n()(),r(32,"div",55)(33,"div",26)(34,"label",198),a(35,"Activit\xE9"),n(),m(36,"input",199),n()(),r(37,"div",55)(38,"div",26)(39,"label",200),a(40,"Profession"),n(),m(41,"input",201),n()(),r(42,"div",22)(43,"button",202),D("click",function(){A(e);let s=_(2);return S(s.addPersonnecaution())}),n()()()()(),b(44,bi,6,2,"div",203)(45,_i,5,0,"div",203),n()()()}if(i&2){let e=_(2);l(10),d("formGroup",e.personnecautionForm),l(21),d("showButtons",!0)("min",18)("max",100),l(13),d("ngIf",e.personnecautions.length>0),l(),d("ngIf",e.personnecautions.length===0)}}function Fi(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Ei(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function yi(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Ci(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Pi(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Ai(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Si(i,t){if(i&1&&(r(0,"tr",233)(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;d("ngClass",u(3,pt,e.isTotal)),l(2),x(e.label),l(2),x(e.value)}}function Di(i,t){if(i&1&&(r(0,"tr",233)(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;d("ngClass",u(3,pt,e.isTotal)),l(2),x(e.label),l(2),x(e.value)}}function Ii(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Ti(i,t){if(i&1&&(r(0,"tr")(1,"td",232),a(2),n(),r(3,"td"),a(4),n()()),i&2){let e=t.$implicit;l(2),x(e.label),l(2),x(e.value)}}function Ri(i,t){if(i&1&&(r(0,"div",55)(1,"p-card",236)(2,"p-table",217),b(3,Ti,5,2,"ng-template",218),n()()()),i&2){let e=t.$implicit;l(),d("header",e.prenom+" "+e.nom),l(),d("value",M(11,H,u(3,L,e.telephone||"-"),u(5,qt,e.age?e.age+" ans":"-"),u(7,Ut,e.activite||"-"),u(9,jt,e.profession||"-")))("tableStyle",E(16,$t))}}function Ni(i,t){if(i&1&&(r(0,"div",220)(1,"p-panel",234)(2,"div",21),b(3,Ri,4,17,"div",235),n()()()),i&2){let e=_(3);l(),Y("header","Personnes caution (",e.personnecautions.length,")"),d("toggleable",!0),l(2),d("ngForOf",e.personnecautions)}}function wi(i,t){if(i&1){let e=I();r(0,"div")(1,"p-card",214)(2,"div",151)(3,"div",215)(4,"p-panel",216)(5,"p-table",217),b(6,Fi,5,2,"ng-template",218),n()()(),r(7,"div",215)(8,"p-panel",219)(9,"p-table",217),b(10,Ei,5,2,"ng-template",218),n()()(),r(11,"div",220)(12,"p-panel",221)(13,"div",151)(14,"div",55)(15,"h3",222),a(16,"Bilan entreprise"),n(),r(17,"p-table",217),f(18,"currency"),f(19,"currency"),b(20,yi,5,2,"ng-template",218),n()(),r(21,"div",55)(22,"h3",222),a(23,"Bilan personnel & Garanties"),n(),r(24,"p-table",217),f(25,"currency"),f(26,"currency"),f(27,"currency"),f(28,"currency"),b(29,Ci,5,2,"ng-template",218),n()()()()(),r(30,"div",220)(31,"p-panel",223)(32,"div",151)(33,"div",55)(34,"h3",222),a(35,"R\xE9sultats actuels"),n(),r(36,"p-table",217),f(37,"currency"),f(38,"currency"),f(39,"currency"),f(40,"currency"),b(41,Pi,5,2,"ng-template",218),n()(),r(42,"div",55)(43,"h3",222),a(44,"R\xE9sultats pr\xE9visionnels"),n(),r(45,"p-table",217),f(46,"currency"),f(47,"currency"),f(48,"currency"),f(49,"currency"),b(50,Ai,5,2,"ng-template",218),n()()()()(),r(51,"div",220)(52,"p-panel",224)(53,"div",151)(54,"div",55)(55,"h3",222),a(56,"Charges actuelles"),n(),r(57,"p-table",217),f(58,"currency"),f(59,"currency"),f(60,"currency"),f(61,"currency"),f(62,"currency"),f(63,"currency"),f(64,"currency"),f(65,"currency"),b(66,Si,5,5,"ng-template",218),n()(),r(67,"div",55)(68,"h3",222),a(69,"Charges pr\xE9visionnelles"),n(),r(70,"p-table",217),f(71,"currency"),f(72,"currency"),f(73,"currency"),f(74,"currency"),f(75,"currency"),f(76,"currency"),f(77,"currency"),f(78,"currency"),b(79,Di,5,5,"ng-template",218),n()()()()(),r(80,"div",220)(81,"p-panel",225)(82,"div",151)(83,"div",55)(84,"p-table",217),f(85,"currency"),f(86,"currency"),b(87,Ii,5,2,"ng-template",218),n()(),r(88,"div",55)(89,"h4",226),a(90,"Objet du financement:"),n(),r(91,"p-card",227)(92,"p",228),a(93),n()()()()()(),b(94,Ni,4,4,"div",229),r(95,"div",230)(96,"button",231),D("click",function(){A(e);let s=_(2);return S(s.mettreAJourDemande())}),n()()()()()}if(i&2){let e=_(2);l(4),d("toggleable",!0),l(),d("value",V(231,O,u(219,Ye,(e.resumeData.promoteur==null?null:e.resumeData.promoteur.nom)||"-"),u(221,bt,(e.resumeData.promoteur==null?null:e.resumeData.promoteur.prenom)||"-"),u(223,We,(e.resumeData.promoteur==null?null:e.resumeData.promoteur.email)||"-"),u(225,L,(e.resumeData.promoteur==null?null:e.resumeData.promoteur.telephone)||"-"),u(227,_t,(e.resumeData.promoteur==null?null:e.resumeData.promoteur.numero_identite)||"-"),u(229,xt,e.formatDateForDisplay(e.resumeData.promoteur==null?null:e.resumeData.promoteur.date_naissance)||"-")))("tableStyle",E(238,Ke)),l(3),d("toggleable",!0),l(),d("value",V(251,O,u(239,Ye,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.nom)||"-"),u(241,Ft,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.forme_juridique)||"-"),u(243,Et,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.secteur_activite)||"-"),u(245,yt,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.numero_registre)||"-"),u(247,We,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.email)||"-"),u(249,L,(e.resumeData.entreprise==null?null:e.resumeData.entreprise.telephone)||"-")))("tableStyle",E(258,Ke)),l(3),d("toggleable",!0),l(5),d("value",N(267,At,u(261,Ct,g(18,27,u(259,h,e.calculerTotalActif()))),u(265,Pt,g(19,33,u(263,h,e.calculerTotalPassif())))))("tableStyle",E(270,R)),l(7),d("value",Q(289,Nt,u(273,St,g(25,39,u(271,h,e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.epargnes))),u(277,Dt,g(26,45,u(275,h,e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.valeur_biens_durables))),u(281,It,g(27,51,u(279,h,((e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.epargnes)||0)+((e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.valeur_biens_durables)||0)))),u(283,Tt,(e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.libele_garantie)||"-"),u(287,Rt,g(28,57,u(285,h,e.resumeData.bilanPersonnel==null?null:e.resumeData.bilanPersonnel.montant_garantie)))))("tableStyle",E(295,R)),l(7),d("toggleable",!0),l(5),d("value",M(312,H,u(298,Qe,g(37,63,u(296,h,e.resumeData.resultatActuel==null?null:e.resumeData.resultatActuel.chiffre_affaires))),u(302,Xe,g(38,69,u(300,h,e.resumeData.resultatActuel==null?null:e.resumeData.resultatActuel.autres_revenus))),u(306,Ze,g(39,75,u(304,h,((e.resumeData.resultatActuel==null?null:e.resumeData.resultatActuel.chiffre_affaires)||0)+((e.resumeData.resultatActuel==null?null:e.resumeData.resultatActuel.autres_revenus)||0)))),u(310,et,g(40,81,u(308,h,e.resumeData.resultatActuel==null?null:e.resumeData.resultatActuel.cout_marchandises)))))("tableStyle",E(317,R)),l(9),d("value",M(334,H,u(320,Qe,g(46,87,u(318,h,e.resumeData.resultatPrevisionnel==null?null:e.resumeData.resultatPrevisionnel.chiffre_affaires))),u(324,Xe,g(47,93,u(322,h,e.resumeData.resultatPrevisionnel==null?null:e.resumeData.resultatPrevisionnel.autres_revenus))),u(328,Ze,g(48,99,u(326,h,((e.resumeData.resultatPrevisionnel==null?null:e.resumeData.resultatPrevisionnel.chiffre_affaires)||0)+((e.resumeData.resultatPrevisionnel==null?null:e.resumeData.resultatPrevisionnel.autres_revenus)||0)))),u(332,et,g(49,105,u(330,h,e.resumeData.resultatPrevisionnel==null?null:e.resumeData.resultatPrevisionnel.cout_marchandises)))))("tableStyle",E(339,R)),l(7),d("toggleable",!0),l(5),d("value",j(372,ut,u(342,tt,g(58,111,u(340,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.cout_transport_production))),u(346,it,g(59,117,u(344,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.frais_transport_personnel))),u(350,nt,g(60,123,u(348,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.frais_manutention))),u(354,rt,g(61,129,u(352,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.montant_aide_externe))),u(358,at,g(62,135,u(356,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.frais_hebergement_restauration))),u(362,lt,g(63,141,u(360,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.impots))),u(366,ot,g(64,147,u(364,h,e.resumeData.chargesActuelles==null?null:e.resumeData.chargesActuelles.loyers))),u(370,st,g(65,153,u(368,h,e.calculerTotalChargesActuelles())))))("tableStyle",E(381,R)),l(13),d("value",j(414,ut,u(384,tt,g(71,159,u(382,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.cout_transport_production))),u(388,it,g(72,165,u(386,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.frais_transport_personnel))),u(392,nt,g(73,171,u(390,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.frais_manutention))),u(396,rt,g(74,177,u(394,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.montant_aide_externe))),u(400,at,g(75,183,u(398,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.frais_hebergement_restauration))),u(404,lt,g(76,189,u(402,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.impots))),u(408,ot,g(77,195,u(406,h,e.resumeData.chargesPrevisionnelles==null?null:e.resumeData.chargesPrevisionnelles.loyers))),u(412,st,g(78,201,u(410,h,e.calculerTotalChargesPrevisionnelles())))))("tableStyle",E(423,R)),l(11),d("toggleable",!0),l(3),d("value",V(440,O,u(426,wt,g(85,207,u(424,h,e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.montant_demande))),u(428,Bt,((e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.duree_mois)||0)+" mois"),u(432,Mt,g(86,213,u(430,h,e.calculerMensualite()))),u(434,Vt,(e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.delegation)||"-"),u(436,kt,(e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.agence)||"-"),u(438,Gt,(e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.point_vente)||"-")))("tableStyle",E(447,R)),l(9),y("",(e.resumeData.demandeCredit==null?null:e.resumeData.demandeCredit.objet_financement)||"-"," "),l(),d("ngIf",e.personnecautions.length>0),l(2),d("loading",e.loading())}}function Bi(i,t){if(i&1){let e=I();r(0,"div",6)(1,"h1",7),m(2,"i",8),a(3," Mise \xE0 jour de l'Analyse de Demande de Cr\xE9dit "),n(),r(4,"div",9)(5,"div",10),m(6,"i",11),r(7,"span",12),a(8),n()()(),m(9,"p-toast")(10,"p-steps",13),r(11,"div",14),b(12,Wt,92,12,"div",15)(13,Kt,51,1,"div",15)(14,Qt,32,1,"div",15)(15,ei,27,3,"div",15)(16,ni,27,3,"div",15)(17,ri,43,1,"div",15)(18,ai,43,1,"div",15)(19,di,92,39,"div",15)(20,xi,46,6,"div",15)(21,wi,97,448,"div",15),r(22,"div",16)(23,"button",17),D("click",function(){A(e);let s=_();return S(s.prevStep())}),n(),r(24,"button",18),D("click",function(){A(e);let s=_();return S(s.nextStep())}),n()()()()}if(i&2){let e=_();l(8),y(" Demande N\xB0 ",e.demandeId," - Modification en cours "),l(2),d("model",e.items())("activeIndex",e.activeIndex())("readonly",!1),l(2),d("ngIf",e.activeIndex()===0),l(),d("ngIf",e.activeIndex()===1),l(),d("ngIf",e.activeIndex()===2),l(),d("ngIf",e.activeIndex()===3),l(),d("ngIf",e.activeIndex()===4),l(),d("ngIf",e.activeIndex()===5),l(),d("ngIf",e.activeIndex()===6),l(),d("ngIf",e.activeIndex()===7),l(),d("ngIf",e.activeIndex()===8),l(),d("ngIf",e.activeIndex()===9),l(2),d("disabled",e.activeIndex()===0),l(),d("disabled",e.activeIndex()===9)}}var mt=class i{fb=T(ce);router=T(re);messageService=T($);destroyRef=T(z);analyseCreditService=T(xe);route=T(ne);state=w({loading:!1,loadingInitialData:!0,allDelegations:[],allAgences:[],allPointsVente:[],filteredAgences:[],filteredPointsVente:[],currentDemandeData:null});activeIndex=w(0);items=w([]);loading=w(!1);demandeId=null;infoBaseForm;bilanEntrepriseForm;bilanPersonnelForm;resultatActuelForm;resultatPrevisionnelForm;chargesActuellesForm;chargesPrevisionellesForm;demandeCreditForm;personnecautionForm;formeJuridiques=[{label:"SARL",value:"SARL"},{label:"SA",value:"SA"},{label:"EI",value:"EI"},{label:"EIRL",value:"EIRL"},{label:"SNC",value:"SNC"}];secteursActivite=[{label:"Commerce",value:"Commerce"},{label:"Agriculture",value:"Agriculture"},{label:"Service",value:"Service"},{label:"Industrie",value:"Industrie"},{label:"Artisanat",value:"Artisanat"}];personnecautions=[];resumeData={};ngOnInit(){this.route.params.pipe(B(this.destroyRef)).subscribe(t=>{if(this.demandeId=t.demandeId?parseInt(t.demandeId,10):null,console.log("Demande ID from route:",this.demandeId),!this.demandeId){this.messageService.add({severity:"error",summary:"Erreur",detail:"ID de la demande de cr\xE9dit manquant dans l'URL",life:3e3}),this.router.navigate(["/dashboards"]);return}this.loadInitialData()}),this.initStepItems(),this.initForms()}loadInitialData(){this.state.update(t=>P(C({},t),{loadingInitialData:!0})),this.analyseCreditService.startNewDemandeInd$().pipe(B(this.destroyRef)).subscribe({next:t=>{console.log("Initial data loaded:",t),t.data&&this.state.update(e=>P(C({},e),{allDelegations:t.data.delegations||[],allAgences:t.data.agences||[],allPointsVente:t.data.pointVentes||[]})),this.loadExistingDemandeData()},error:t=>{console.error("Error loading initial data:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger les donn\xE9es initiales",life:3e3}),this.state.update(e=>P(C({},e),{loadingInitialData:!1}))}})}loadExistingDemandeData(){this.demandeId&&this.analyseCreditService.obtenirAnalyseCompleteCredit$(this.demandeId).pipe(B(this.destroyRef)).subscribe({next:t=>{if(console.log("Existing demande data loaded:",t),t.data&&t.data.analyseComplete&&t.data.analyseComplete.success){let e=t.data.analyseComplete.data;this.state.update(o=>P(C({},o),{currentDemandeData:e,loadingInitialData:!1})),this.populateFormsWithExistingData(e)}else this.messageService.add({severity:"error",summary:"Erreur",detail:"Demande de cr\xE9dit non trouv\xE9e",life:3e3}),this.router.navigate(["/dashboards"])},error:t=>{console.error("Error loading existing demande data:",t),this.messageService.add({severity:"error",summary:"Erreur",detail:"Impossible de charger les donn\xE9es de la demande",life:3e3}),this.state.update(e=>P(C({},e),{loadingInitialData:!1}))}})}populateFormsWithExistingData(t){try{if(console.log("Populating forms with data:",t),t.promoteur&&t.entreprise&&this.infoBaseForm.patchValue({nomPromoteur:t.promoteur.nom||"",prenomPromoteur:t.promoteur.prenom||"",dateNaissance:t.promoteur.dateNaissance?new Date(t.promoteur.dateNaissance):null,numeroIdentite:t.promoteur.numeroIdentite||"",adressePromoteur:t.promoteur.adresse||"",telephonePromoteur:t.promoteur.telephone||"",emailPromoteur:t.promoteur.email||"",nomEntreprise:t.entreprise.nom||"",formeJuridique:this.findOptionByValue(this.formeJuridiques,t.entreprise.formeJuridique),secteurActivite:this.findOptionByValue(this.secteursActivite,t.entreprise.secteurActivite),dateCreation:t.entreprise.dateCreation?new Date(t.entreprise.dateCreation):null,numeroRegistre:t.entreprise.numeroRegistre||"",adresseEntreprise:t.entreprise.adresse||"",telephoneEntreprise:t.entreprise.telephone||"",emailEntreprise:t.entreprise.email||""}),t.bilanEntreprise&&this.bilanEntrepriseForm.patchValue({liquidites:t.bilanEntreprise.liquidites||0,creancesClients:t.bilanEntreprise.creancesClients||0,valeurStocks:t.bilanEntreprise.valeurStocks||0,valeurEquipements:t.bilanEntreprise.valeurEquipements||0,dettesFournisseurs:t.bilanEntreprise.dettesFournisseurs||0,emprunts:t.bilanEntreprise.emprunts||0,capitalPropre:t.bilanEntreprise.capitalPropre||0}),t.bilanPersonnel&&this.bilanPersonnelForm.patchValue({epargnes:t.bilanPersonnel.epargnes||0,valeurBiensDurables:t.bilanPersonnel.valeurBiensDurables||0,libeleGarantie:t.bilanPersonnel.libeleGarantie||"",montantGarantie:t.bilanPersonnel.montantGarantie||0}),t.compteExploitationActuel&&(this.resultatActuelForm.patchValue({chiffreAffaires:t.compteExploitationActuel.chiffreAffaires||0,autresRevenus:t.compteExploitationActuel.autresRevenus||0,coutMarchandises:t.compteExploitationActuel.coutMarchandises||0}),this.chargesActuellesForm.patchValue({coutTransportProduction:t.compteExploitationActuel.coutTransportProduction||0,fraisTransportPersonnel:t.compteExploitationActuel.fraisTransportPersonnel||0,fraisManutention:t.compteExploitationActuel.fraisManutention||0,montantAideExterne:t.compteExploitationActuel.montantAideExterne||0,fraisHebergementRestauration:t.compteExploitationActuel.fraisHebergementRestauration||0,impots:t.compteExploitationActuel.impots||0,loyers:t.compteExploitationActuel.loyers||0})),t.compteExploitationPrevisionnel&&(this.resultatPrevisionnelForm.patchValue({chiffreAffaires:t.compteExploitationPrevisionnel.chiffreAffaires||0,autresRevenus:t.compteExploitationPrevisionnel.autresRevenus||0,coutMarchandises:t.compteExploitationPrevisionnel.coutMarchandises||0}),this.chargesPrevisionellesForm.patchValue({coutTransportProduction:t.compteExploitationPrevisionnel.coutTransportProduction||0,fraisTransportPersonnel:t.compteExploitationPrevisionnel.fraisTransportPersonnel||0,fraisManutention:t.compteExploitationPrevisionnel.fraisManutention||0,montantAideExterne:t.compteExploitationPrevisionnel.montantAideExterne||0,fraisHebergementRestauration:t.compteExploitationPrevisionnel.fraisHebergementRestauration||0,impots:t.compteExploitationPrevisionnel.impots||0,loyers:t.compteExploitationPrevisionnel.loyers||0})),t.demande){let e=this.findDelegationById(t.demande.delegationId);e&&(this.demandeCreditForm.patchValue({delegation:e}),this.onDelegationChange({value:e}),setTimeout(()=>{let o=this.findAgenceById(t.demande.agenceId);o&&(this.demandeCreditForm.patchValue({agence:o}),this.onAgenceChange({value:o}),setTimeout(()=>{let s=this.findPointVenteById(t.demande.pointVenteId);s&&this.demandeCreditForm.patchValue({pointVente:s})},100))},100)),this.demandeCreditForm.patchValue({montantDemande:t.demande.montantDemande||0,dureeMois:t.demande.dureeMois||12,objetFinancement:t.demande.objetFinancement||""})}if(console.log("Processing cautions data:",t.cautions),console.log("Type of cautions:",typeof t.cautions),this.personnecautions=[],t.cautions)try{let e=[];typeof t.cautions=="string"?(console.log("Parsing cautions from string:",t.cautions),e=JSON.parse(t.cautions)):Array.isArray(t.cautions)&&(console.log("Cautions already an array:",t.cautions),e=t.cautions),Array.isArray(e)&&e.length>0?(this.personnecautions=e.map(o=>({nom:o.nom?.trim()||"",prenom:o.prenom?.trim()||"",telephone:o.telephone||"",activite:o.activite||"",age:o.age?Number(o.age):void 0,profession:o.profession||""})),console.log("Successfully loaded cautions:",this.personnecautions),setTimeout(()=>{console.log("Final personnecautions array:",this.personnecautions)},100)):console.log("No valid cautions found in array")}catch(e){console.error("Error parsing cautions JSON:",e),console.error("Raw cautions data:",t.cautions),this.personnecautions=[],this.messageService.add({severity:"warn",summary:"Attention",detail:"Erreur lors du chargement des cautions",life:3e3})}else console.log("No cautions data found");this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:`Donn\xE9es charg\xE9es avec succ\xE8s${this.personnecautions.length>0?` (${this.personnecautions.length} cautions)`:""}`,life:3e3})}catch(e){console.error("Error populating forms:",e),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors du chargement des donn\xE9es dans les formulaires",life:3e3})}}findOptionByValue(t,e){return t.find(o=>o.value===e)||null}findDelegationById(t){return this.state().allDelegations.find(e=>e.id===t)||null}findAgenceById(t){return this.state().allAgences.find(e=>e.id===t)||null}findPointVenteById(t){return this.state().allPointsVente.find(e=>e.id===t)||null}initStepItems(){this.items.set([{label:"Informations de base",command:()=>this.onStepChange(0)},{label:"Bilan entreprise",command:()=>this.onStepChange(1)},{label:"Bilan personnel",command:()=>this.onStepChange(2)},{label:"R\xE9sultats actuels",command:()=>this.onStepChange(3)},{label:"R\xE9sultats pr\xE9visionnels",command:()=>this.onStepChange(4)},{label:"Charges actuelles",command:()=>this.onStepChange(5)},{label:"Charges pr\xE9visionnelles",command:()=>this.onStepChange(6)},{label:"Demande de cr\xE9dit",command:()=>this.onStepChange(7)},{label:"Personnes caution",command:()=>this.onStepChange(8)},{label:"R\xE9sum\xE9",command:()=>this.onStepChange(9)}])}initForms(){this.infoBaseForm=this.fb.group({nomPromoteur:["",p.required],prenomPromoteur:["",p.required],dateNaissance:[null],numeroIdentite:[""],adressePromoteur:[""],telephonePromoteur:[""],emailPromoteur:["",p.email],nomEntreprise:["",p.required],formeJuridique:[""],secteurActivite:[""],dateCreation:[null],numeroRegistre:[""],adresseEntreprise:[""],telephoneEntreprise:[""],emailEntreprise:["",p.email]}),this.bilanEntrepriseForm=this.fb.group({liquidites:[0,p.min(0)],creancesClients:[0,p.min(0)],valeurStocks:[0,p.min(0)],valeurEquipements:[0,p.min(0)],dettesFournisseurs:[0,p.min(0)],emprunts:[0,p.min(0)],capitalPropre:[0,p.min(0)]}),this.bilanPersonnelForm=this.fb.group({epargnes:[0,p.min(0)],valeurBiensDurables:[0,p.min(0)],libeleGarantie:[""],montantGarantie:[0,p.min(0)]}),this.resultatActuelForm=this.fb.group({chiffreAffaires:[0,[p.required,p.min(0)]],autresRevenus:[0,p.min(0)],coutMarchandises:[0,[p.required,p.min(0)]]}),this.resultatPrevisionnelForm=this.fb.group({chiffreAffaires:[0,[p.required,p.min(0)]],autresRevenus:[0,p.min(0)],coutMarchandises:[0,[p.required,p.min(0)]]}),this.chargesActuellesForm=this.fb.group({coutTransportProduction:[0,p.min(0)],fraisTransportPersonnel:[0,p.min(0)],fraisManutention:[0,p.min(0)],montantAideExterne:[0,p.min(0)],fraisHebergementRestauration:[0,p.min(0)],impots:[0,p.min(0)],loyers:[0,p.min(0)]}),this.chargesPrevisionellesForm=this.fb.group({coutTransportProduction:[0,p.min(0)],fraisTransportPersonnel:[0,p.min(0)],fraisManutention:[0,p.min(0)],montantAideExterne:[0,p.min(0)],fraisHebergementRestauration:[0,p.min(0)],impots:[0,p.min(0)],loyers:[0,p.min(0)]}),this.demandeCreditForm=this.fb.group({montantDemande:[0,[p.required,p.min(1)]],dureeMois:[12,[p.required,p.min(1)]],objetFinancement:["",p.required],delegation:[null],agence:[null],pointVente:[null]}),this.personnecautionForm=this.fb.group({nom:[""],prenom:[""],telephone:[""],activite:[""],age:[null,[p.min(18),p.max(100)]],profession:[""]})}onStepChange(t){this.validateCurrentForm()&&(t===9&&this.prepareSummary(),this.activeIndex.set(t))}nextStep(){let t=this.activeIndex();this.validateCurrentForm()&&t<this.items().length-1&&(t===8&&this.prepareSummary(),this.activeIndex.set(t+1))}prevStep(){let t=this.activeIndex();t>0&&this.activeIndex.set(t-1)}validateCurrentForm(){switch(this.activeIndex()){case 0:if(this.infoBaseForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs obligatoires."}),!1;this.saveInfoBaseToResume();break;case 1:if(this.bilanEntrepriseForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs du bilan."}),!1;this.saveBilanEntrepriseToResume();break;case 2:if(this.bilanPersonnelForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs du bilan personnel."}),!1;this.saveBilanPersonnelToResume();break;case 3:if(this.resultatActuelForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs des r\xE9sultats actuels."}),!1;this.saveResultatActuelToResume();break;case 4:if(this.resultatPrevisionnelForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs des r\xE9sultats pr\xE9visionnels."}),!1;this.saveResultatPrevisionnelToResume();break;case 5:if(this.chargesActuellesForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs des charges actuelles."}),!1;this.saveChargesActuellesToResume();break;case 6:if(this.chargesPrevisionellesForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs des charges pr\xE9visionnelles."}),!1;this.saveChargesPrevisionellesToResume();break;case 7:if(this.demandeCreditForm.invalid)return this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir correctement tous les champs de la demande de cr\xE9dit."}),!1;this.saveDemandeCreditToResume();break;case 8:break}return!0}onDelegationChange(t){console.log("Delegation changed:",t);let e=t.value;if(!e||!e.id){this.state.update(c=>P(C({},c),{filteredAgences:[],filteredPointsVente:[]}));return}let o=e.id;console.log("Filtering agences for delegation ID:",o);let s=this.state().allAgences?.filter(c=>c.delegation_id===o)||[];this.state.update(c=>P(C({},c),{filteredAgences:s,filteredPointsVente:[]})),this.state().loadingInitialData||this.demandeCreditForm.patchValue({agence:null,pointVente:null})}onAgenceChange(t){console.log("Agence changed:",t);let e=t.value;if(!e||!e.id){this.state.update(c=>P(C({},c),{filteredPointsVente:[]}));return}let o=e.id;console.log("Filtering points de vente for agence ID:",o);let s=this.state().allPointsVente?.filter(c=>c.agence_id===o)||[];this.state.update(c=>P(C({},c),{filteredPointsVente:s})),this.state().loadingInitialData||this.demandeCreditForm.patchValue({pointVente:null})}addPersonnecaution(){if(this.personnecautionForm.invalid){this.messageService.add({severity:"warn",summary:"Attention",detail:"Veuillez remplir correctement tous les champs avant d'ajouter la personne caution."});return}let t={nom:this.personnecautionForm.get("nom")?.value||"",prenom:this.personnecautionForm.get("prenom")?.value||"",telephone:this.personnecautionForm.get("telephone")?.value||"",activite:this.personnecautionForm.get("activite")?.value||"",age:this.personnecautionForm.get("age")?.value||void 0,profession:this.personnecautionForm.get("profession")?.value||""};this.personnecautions.push(t),this.personnecautionForm.reset(),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Personne caution ajout\xE9e avec succ\xE8s."})}removePersonnecaution(t){this.personnecautions.splice(t,1),this.messageService.add({severity:"info",summary:"Information",detail:"Personne caution supprim\xE9e."})}saveInfoBaseToResume(){let t=this.infoBaseForm.get("formeJuridique")?.value,e=t&&((typeof t=="object"&&t.label?t.label:this.formeJuridiques.find(c=>c.value===t)?.label)||t)||"",o=this.infoBaseForm.get("secteurActivite")?.value,s=o&&((typeof o=="object"&&o.label?o.label:this.secteursActivite.find(c=>c.value===o)?.label)||o)||"";this.resumeData.promoteur={nom:this.infoBaseForm.get("nomPromoteur")?.value||"",prenom:this.infoBaseForm.get("prenomPromoteur")?.value||"",date_naissance:this.formatDate(this.infoBaseForm.get("dateNaissance")?.value),numero_identite:this.infoBaseForm.get("numeroIdentite")?.value||"",adresse:this.infoBaseForm.get("adressePromoteur")?.value||"",telephone:this.infoBaseForm.get("telephonePromoteur")?.value||"",email:this.infoBaseForm.get("emailPromoteur")?.value||""},this.resumeData.entreprise={nom:this.infoBaseForm.get("nomEntreprise")?.value||"",forme_juridique:e,secteur_activite:s,date_creation:this.formatDate(this.infoBaseForm.get("dateCreation")?.value),numero_registre:this.infoBaseForm.get("numeroRegistre")?.value||"",adresse:this.infoBaseForm.get("adresseEntreprise")?.value||"",telephone:this.infoBaseForm.get("telephoneEntreprise")?.value||"",email:this.infoBaseForm.get("emailEntreprise")?.value||""}}saveBilanEntrepriseToResume(){this.resumeData.bilanEntreprise={liquidites:this.bilanEntrepriseForm.get("liquidites")?.value||0,creances_clients:this.bilanEntrepriseForm.get("creancesClients")?.value||0,valeur_stocks:this.bilanEntrepriseForm.get("valeurStocks")?.value||0,valeur_equipements:this.bilanEntrepriseForm.get("valeurEquipements")?.value||0,dettes_fournisseurs:this.bilanEntrepriseForm.get("dettesFournisseurs")?.value||0,emprunts:this.bilanEntrepriseForm.get("emprunts")?.value||0,capital_propre:this.bilanEntrepriseForm.get("capitalPropre")?.value||0}}saveBilanPersonnelToResume(){this.resumeData.bilanPersonnel={epargnes:this.bilanPersonnelForm.get("epargnes")?.value||0,valeur_biens_durables:this.bilanPersonnelForm.get("valeurBiensDurables")?.value||0,libele_garantie:this.bilanPersonnelForm.get("libeleGarantie")?.value||"",montant_garantie:this.bilanPersonnelForm.get("montantGarantie")?.value||0}}saveResultatActuelToResume(){this.resumeData.resultatActuel={chiffre_affaires:this.resultatActuelForm.get("chiffreAffaires")?.value||0,autres_revenus:this.resultatActuelForm.get("autresRevenus")?.value||0,cout_marchandises:this.resultatActuelForm.get("coutMarchandises")?.value||0}}saveResultatPrevisionnelToResume(){this.resumeData.resultatPrevisionnel={chiffre_affaires:this.resultatPrevisionnelForm.get("chiffreAffaires")?.value||0,autres_revenus:this.resultatPrevisionnelForm.get("autresRevenus")?.value||0,cout_marchandises:this.resultatPrevisionnelForm.get("coutMarchandises")?.value||0}}saveChargesActuellesToResume(){this.resumeData.chargesActuelles={cout_transport_production:this.chargesActuellesForm.get("coutTransportProduction")?.value||0,frais_transport_personnel:this.chargesActuellesForm.get("fraisTransportPersonnel")?.value||0,frais_manutention:this.chargesActuellesForm.get("fraisManutention")?.value||0,montant_aide_externe:this.chargesActuellesForm.get("montantAideExterne")?.value||0,frais_hebergement_restauration:this.chargesActuellesForm.get("fraisHebergementRestauration")?.value||0,impots:this.chargesActuellesForm.get("impots")?.value||0,loyers:this.chargesActuellesForm.get("loyers")?.value||0}}saveChargesPrevisionellesToResume(){this.resumeData.chargesPrevisionnelles={cout_transport_production:this.chargesPrevisionellesForm.get("coutTransportProduction")?.value||0,frais_transport_personnel:this.chargesPrevisionellesForm.get("fraisTransportPersonnel")?.value||0,frais_manutention:this.chargesPrevisionellesForm.get("fraisManutention")?.value||0,montant_aide_externe:this.chargesPrevisionellesForm.get("montantAideExterne")?.value||0,frais_hebergement_restauration:this.chargesPrevisionellesForm.get("fraisHebergementRestauration")?.value||0,impots:this.chargesPrevisionellesForm.get("impots")?.value||0,loyers:this.chargesPrevisionellesForm.get("loyers")?.value||0}}saveDemandeCreditToResume(){this.resumeData.demandeCredit={montant_demande:this.demandeCreditForm.get("montantDemande")?.value||0,duree_mois:this.demandeCreditForm.get("dureeMois")?.value||0,objet_financement:this.demandeCreditForm.get("objetFinancement")?.value||"",delegation:this.demandeCreditForm.get("delegation")?.value?.libele||"",agence:this.demandeCreditForm.get("agence")?.value?.libele||"",point_vente:this.demandeCreditForm.get("pointVente")?.value?.libele||""}}prepareSummary(){this.saveInfoBaseToResume(),this.saveBilanEntrepriseToResume(),this.saveBilanPersonnelToResume(),this.saveResultatActuelToResume(),this.saveResultatPrevisionnelToResume(),this.saveChargesActuellesToResume(),this.saveChargesPrevisionellesToResume(),this.saveDemandeCreditToResume()}mettreAJourDemande(){if(!this.demandeId){this.messageService.add({severity:"error",summary:"Erreur",detail:"ID de la demande de cr\xE9dit non disponible",life:3e3});return}if(this.loading.set(!0),!this.infoBaseForm.get("nomPromoteur")?.value||!this.infoBaseForm.get("prenomPromoteur")?.value||!this.infoBaseForm.get("nomEntreprise")?.value){this.messageService.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir tous les champs obligatoires",life:3e3}),this.loading.set(!1);return}let t=new Date().getFullYear(),e=(o,s)=>o?this.formatDate(o)||this.formatDate(s):this.formatDate(s);try{let o={demandeCreditId:this.demandeId,nomPromoteur:this.infoBaseForm.get("nomPromoteur")?.value?.trim()||"",prenomPromoteur:this.infoBaseForm.get("prenomPromoteur")?.value?.trim()||"",dateNaissancePromoteur:e(this.infoBaseForm.get("dateNaissance")?.value,new Date(1980,0,1)),numeroIdentitePromoteur:this.infoBaseForm.get("numeroIdentite")?.value?.trim()||"",adressePromoteur:this.infoBaseForm.get("adressePromoteur")?.value?.trim()||"",telephonePromoteur:this.infoBaseForm.get("telephonePromoteur")?.value?.trim()||"",emailPromoteur:this.infoBaseForm.get("emailPromoteur")?.value?.trim()||"",nomEntreprise:this.infoBaseForm.get("nomEntreprise")?.value?.trim()||"",formeJuridique:this.getFormeJuridiqueValue()||"EI",secteurActivite:this.getSecteurActiviteValue()||"Commerce",dateCreationEntreprise:e(this.infoBaseForm.get("dateCreation")?.value,new Date(t-2,0,1)),numeroRegistre:this.infoBaseForm.get("numeroRegistre")?.value?.trim()||"",adresseEntreprise:this.infoBaseForm.get("adresseEntreprise")?.value?.trim()||"",telephoneEntreprise:this.infoBaseForm.get("telephoneEntreprise")?.value?.trim()||"",emailEntreprise:this.infoBaseForm.get("emailEntreprise")?.value?.trim()||"",liquidites:this.bilanEntrepriseForm.get("liquidites")?.value||0,creancesClients:this.bilanEntrepriseForm.get("creancesClients")?.value||0,valeurStocks:this.bilanEntrepriseForm.get("valeurStocks")?.value||0,valeurEquipements:this.bilanEntrepriseForm.get("valeurEquipements")?.value||0,dettesFournisseurs:this.bilanEntrepriseForm.get("dettesFournisseurs")?.value||0,emprunts:this.bilanEntrepriseForm.get("emprunts")?.value||0,capitalPropre:this.bilanEntrepriseForm.get("capitalPropre")?.value||0,epargnes:this.bilanPersonnelForm.get("epargnes")?.value||0,valeurBiensDurables:this.bilanPersonnelForm.get("valeurBiensDurables")?.value||0,libeleGarantie:this.bilanPersonnelForm.get("libeleGarantie")?.value?.trim()||"",montantGarantie:this.bilanPersonnelForm.get("montantGarantie")?.value||0,dateDebutPeriodeActuel:e(null,new Date(t-1,0,1)),dateFinPeriodeActuel:e(null,new Date(t-1,11,31)),dateDebutPeriodePrevisionnel:e(null,new Date(t,0,1)),dateFinPeriodePrevisionnel:e(null,new Date(t,11,31)),chiffreAffairesActuel:this.resultatActuelForm.get("chiffreAffaires")?.value||0,autresRevenusActuel:this.resultatActuelForm.get("autresRevenus")?.value||0,coutMarchandisesActuel:this.resultatActuelForm.get("coutMarchandises")?.value||0,coutTransportProductionActuel:this.chargesActuellesForm.get("coutTransportProduction")?.value||0,fraisTransportPersonnelActuel:this.chargesActuellesForm.get("fraisTransportPersonnel")?.value||0,fraisManutentionActuel:this.chargesActuellesForm.get("fraisManutention")?.value||0,montantAideExterneActuel:this.chargesActuellesForm.get("montantAideExterne")?.value||0,fraisHebergementRestaurationActuel:this.chargesActuellesForm.get("fraisHebergementRestauration")?.value||0,impotsActuel:this.chargesActuellesForm.get("impots")?.value||0,loyersActuel:this.chargesActuellesForm.get("loyers")?.value||0,chiffreAffairesPrevisionnel:this.resultatPrevisionnelForm.get("chiffreAffaires")?.value||0,autresRevenusPrevisionnel:this.resultatPrevisionnelForm.get("autresRevenus")?.value||0,coutMarchandisesPrevisionnel:this.resultatPrevisionnelForm.get("coutMarchandises")?.value||0,coutTransportProductionPrevisionnel:this.chargesPrevisionellesForm.get("coutTransportProduction")?.value||0,fraisTransportPersonnelPrevisionnel:this.chargesPrevisionellesForm.get("fraisTransportPersonnel")?.value||0,fraisManutentionPrevisionnel:this.chargesPrevisionellesForm.get("fraisManutention")?.value||0,montantAideExternePrevisionnel:this.chargesPrevisionellesForm.get("montantAideExterne")?.value||0,fraisHebergementRestaurationPrevisionnel:this.chargesPrevisionellesForm.get("fraisHebergementRestauration")?.value||0,impotsPrevisionnel:this.chargesPrevisionellesForm.get("impots")?.value||0,loyersPrevisionnel:this.chargesPrevisionellesForm.get("loyers")?.value||0,montantDemande:this.demandeCreditForm.get("montantDemande")?.value||0,dureeMois:this.demandeCreditForm.get("dureeMois")?.value||12,objetFinancement:this.demandeCreditForm.get("objetFinancement")?.value?.trim()||"",cautions:this.personnecautions||[],delegationId:this.demandeCreditForm.get("delegation")?.value?.id?Number(this.demandeCreditForm.get("delegation")?.value?.id):void 0,agenceId:this.demandeCreditForm.get("agence")?.value?.id?Number(this.demandeCreditForm.get("agence")?.value?.id):void 0,pointVenteId:this.demandeCreditForm.get("pointVente")?.value?.id?Number(this.demandeCreditForm.get("pointVente")?.value?.id):void 0,userId:this.state().currentDemandeData?.demande?.userId||void 0};console.log("Donn\xE9es de mise \xE0 jour pr\xE9par\xE9es:",JSON.stringify(o,null,2)),this.analyseCreditService.updateAnalyseComplet$(o).pipe(B(this.destroyRef)).subscribe({next:s=>{this.loading.set(!1),console.log("R\xE9ponse de mise \xE0 jour:",s),s&&(s.data?.success||s.code===200)?(this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Votre demande de cr\xE9dit a \xE9t\xE9 mise \xE0 jour avec succ\xE8s!"}),setTimeout(()=>{this.router.navigate(["/dashboards"])},2e3)):this.messageService.add({severity:"error",summary:"Erreur",detail:s.message||"Erreur lors de la mise \xE0 jour de la demande."})},error:s=>{this.loading.set(!1),console.error("Erreur lors de la mise \xE0 jour:",s);let c="Erreur lors de la mise \xE0 jour de la demande.";s.error?.message?c=s.error.message:s.message&&(c=s.message),this.messageService.add({severity:"error",summary:"Erreur",detail:c})}})}catch(o){this.loading.set(!1),console.error("Erreur lors de la pr\xE9paration des donn\xE9es:",o),this.messageService.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la pr\xE9paration des donn\xE9es"})}}calculerRevenusTotauxActuel(){let t=this.resultatActuelForm.get("chiffreAffaires")?.value||0,e=this.resultatActuelForm.get("autresRevenus")?.value||0;return t+e}calculerRevenusTotauxPrevisionnel(){let t=this.resultatPrevisionnelForm.get("chiffreAffaires")?.value||0,e=this.resultatPrevisionnelForm.get("autresRevenus")?.value||0;return t+e}calculerRatioDependanceActuel(){let t=this.calculerRevenusTotauxActuel(),e=this.resultatActuelForm.get("autresRevenus")?.value||0;return t>0?e/t:0}calculerRatioDependancePrevisionnel(){let t=this.calculerRevenusTotauxPrevisionnel(),e=this.resultatPrevisionnelForm.get("autresRevenus")?.value||0;return t>0?e/t:0}calculerMargeButeActuelle(){let t=this.calculerRevenusTotauxActuel(),e=this.resultatActuelForm.get("coutMarchandises")?.value||0;return t>0?(t-e)/t:0}calculerMargeButePrevisionnelle(){let t=this.calculerRevenusTotauxPrevisionnel(),e=this.resultatPrevisionnelForm.get("coutMarchandises")?.value||0;return t>0?(t-e)/t:0}calculerTotalActif(){let t=this.bilanEntrepriseForm.get("liquidites")?.value||0,e=this.bilanEntrepriseForm.get("creancesClients")?.value||0,o=this.bilanEntrepriseForm.get("valeurStocks")?.value||0,s=this.bilanEntrepriseForm.get("valeurEquipements")?.value||0;return t+e+o+s}calculerTotalPassif(){let t=this.bilanEntrepriseForm.get("dettesFournisseurs")?.value||0,e=this.bilanEntrepriseForm.get("emprunts")?.value||0,o=this.bilanEntrepriseForm.get("capitalPropre")?.value||0;return t+e+o}calculerRatioLiquidite(){let t=this.bilanEntrepriseForm.get("liquidites")?.value||0,e=this.bilanEntrepriseForm.get("dettesFournisseurs")?.value||0,o=this.bilanEntrepriseForm.get("emprunts")?.value||0,s=e+o;return s>0?t/s:0}getFormeJuridiqueValue(){let t=this.infoBaseForm.get("formeJuridique")?.value;return t?typeof t=="object"&&t.value?t.value:t:""}getSecteurActiviteValue(){let t=this.infoBaseForm.get("secteurActivite")?.value;return t?typeof t=="object"&&t.value?t.value:t:""}calculerMensualite(){let t=this.demandeCreditForm.get("montantDemande")?.value||0,e=this.demandeCreditForm.get("dureeMois")?.value||1;return t/e}formatDateForDisplay(t){if(!t)return"";let e;if(typeof t=="string"){if(e=new Date(t),isNaN(e.getTime()))return t}else if(t instanceof Date)e=t;else return"";return e.toLocaleDateString("fr-FR")}formatDate(t){if(!t)return"";let e;if(typeof t=="string"){if(t.match(/^\d{4}-\d{2}-\d{2}$/))return t;if(e=new Date(t),isNaN(e.getTime()))return""}else if(t instanceof Date){if(e=t,isNaN(e.getTime()))return""}else return"";let o=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0");return`${o}-${s}-${c}`}calculerTotalChargesActuelles(){let t=this.chargesActuellesForm.get("coutTransportProduction")?.value||0,e=this.chargesActuellesForm.get("fraisTransportPersonnel")?.value||0,o=this.chargesActuellesForm.get("fraisManutention")?.value||0,s=this.chargesActuellesForm.get("montantAideExterne")?.value||0,c=this.chargesActuellesForm.get("fraisHebergementRestauration")?.value||0,F=this.chargesActuellesForm.get("impots")?.value||0,v=this.chargesActuellesForm.get("loyers")?.value||0;return t+e+o+s+c+F+v}calculerTotalChargesPrevisionnelles(){let t=this.chargesPrevisionellesForm.get("coutTransportProduction")?.value||0,e=this.chargesPrevisionellesForm.get("fraisTransportPersonnel")?.value||0,o=this.chargesPrevisionellesForm.get("fraisManutention")?.value||0,s=this.chargesPrevisionellesForm.get("montantAideExterne")?.value||0,c=this.chargesPrevisionellesForm.get("fraisHebergementRestauration")?.value||0,F=this.chargesPrevisionellesForm.get("impots")?.value||0,v=this.chargesPrevisionellesForm.get("loyers")?.value||0;return t+e+o+s+c+F+v}calculerRatioCreditCA(){let t=this.demandeCreditForm.get("montantDemande")?.value||0,e=this.resultatPrevisionnelForm.get("chiffreAffaires")?.value||0;return e>0?t/e:0}getRatioCreditCASeverity(){let t=this.calculerRatioCreditCA();return t<=.5?"success":t<=1?"info":t<=1.5?"warn":"danger"}getMarginSeverity(t){return t>=.4?"success":t>=.25?"info":t>=.15?"warn":"danger"}getLiquiditySeverity(t){return t>2?"success":t>1.2?"info":t>.8?"warn":"danger"}selectionnerDureeMois(t){this.demandeCreditForm.patchValue({dureeMois:t})}getDureeEnAnnees(){let t=this.demandeCreditForm.get("dureeMois")?.value||0;if(t<12)return`${t} mois`;let e=Math.floor(t/12),o=t%12;return o===0?e===1?"1 an":`${e} ans`:`${e} an${e>1?"s":""} et ${o} mois`}getDureeSeverity(){let t=this.demandeCreditForm.get("dureeMois")?.value||0;return t<=12?"success":t<=36?"info":t<=60?"warn":"danger"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=J({type:i,selectors:[["app-udpate-analyse-credit-complete"]],features:[K([$])],decls:2,vars:2,consts:[["class","flex justify-center align-items-center min-h-screen",4,"ngIf"],["class","card",4,"ngIf"],[1,"flex","justify-center","align-items-center","min-h-screen"],[1,"text-center"],["strokeWidth","3"],[1,"mt-3","text-lg"],[1,"card"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-bold","mb-6"],[1,"pi","pi-pencil","mr-2"],[1,"mb-4","p-3","bg-blue-50","border-round","border-1","border-blue-200"],[1,"flex","align-items-center"],[1,"pi","pi-info-circle","text-blue-600","mr-2"],[1,"text-blue-800","font-medium"],["styleClass","mb-5",3,"model","activeIndex","readonly"],[1,"p-fluid"],[4,"ngIf"],[1,"flex","justify-between","mt-4"],["pButton","","pRipple","","type","button","label","Pr\xE9c\xE9dent",1,"p-button-outlined",3,"click","disabled"],["pButton","","pRipple","","type","button","label","Suivant",1,"p-button-outlined",3,"click","disabled"],["header","Informations du promoteur et de l'entreprise",1,"shadow-3"],[1,"p-fluid",3,"formGroup"],[1,"grid","gap-3"],[1,"col-12"],[1,"text-xl","font-bold","border-bottom-1","surface-border","pb-2","mb-3"],[1,"pi","pi-user","mr-2"],[1,"col-12","md:col-6","lg:col-4"],[1,"field"],["for","nomPromoteur",1,"font-medium","block","mb-2"],["id","nomPromoteur","type","text","pInputText","","formControlName","nomPromoteur",1,"w-full"],["class","p-error block mt-1",4,"ngIf"],["for","prenomPromoteur",1,"font-medium","block","mb-2"],["id","prenomPromoteur","type","text","pInputText","","formControlName","prenomPromoteur",1,"w-full"],["for","dateNaissance",1,"font-medium","block","mb-2"],["id","dateNaissance","formControlName","dateNaissance","dateFormat","dd/mm/yy",1,"w-full",3,"showIcon"],["for","numeroIdentite",1,"font-medium","block","mb-2"],["id","numeroIdentite","type","text","pInputText","","formControlName","numeroIdentite",1,"w-full"],["for","telephonePromoteur",1,"font-medium","block","mb-2"],["id","telephonePromoteur","type","text","pInputText","","formControlName","telephonePromoteur",1,"w-full"],["for","emailPromoteur",1,"font-medium","block","mb-2"],["id","emailPromoteur","type","email","pInputText","","formControlName","emailPromoteur",1,"w-full"],["for","adressePromoteur",1,"font-medium","block","mb-2"],["id","adressePromoteur","pTextarea","","formControlName","adressePromoteur","rows","2","fluid","",1,"w-full",3,"autoResize"],[1,"col-12","mt-5"],[1,"pi","pi-building","mr-2"],[1,"col-12","md:col-8"],["for","nomEntreprise",1,"font-medium","block","mb-2"],["id","nomEntreprise","type","text","pInputText","","formControlName","nomEntreprise",1,"w-full"],["for","dateCreation",1,"font-medium","block","mb-2"],["id","dateCreation","formControlName","dateCreation","dateFormat","dd/mm/yy",1,"w-full",3,"showIcon"],["for","formeJuridique",1,"font-medium","block","mb-2"],["id","formeJuridique","formControlName","formeJuridique","optionLabel","label",1,"w-full",3,"options"],["for","secteurActivite",1,"font-medium","block","mb-2"],["id","secteurActivite","formControlName","secteurActivite","optionLabel","label",1,"w-full",3,"options"],["for","numeroRegistre",1,"font-medium","block","mb-2"],["id","numeroRegistre","type","text","pInputText","","formControlName","numeroRegistre",1,"w-full"],[1,"col-12","md:col-6"],["for","telephoneEntreprise",1,"font-medium","block","mb-2"],["id","telephoneEntreprise","type","text","pInputText","","formControlName","telephoneEntreprise",1,"w-full"],["for","emailEntreprise",1,"font-medium","block","mb-2"],["id","emailEntreprise","type","email","pInputText","","formControlName","emailEntreprise",1,"w-full"],["for","adresseEntreprise",1,"font-medium","block","mb-2"],["id","adresseEntreprise","pTextarea","","formControlName","adresseEntreprise","rows","2","fluid","",1,"w-full",3,"autoResize"],[1,"p-error","block","mt-1"],["header","Bilan de l'entreprise"],[1,"text-xl","font-bold","border-bottom-1","surface-border","pb-2","mb-4"],[1,"pi","pi-chart-line","mr-2"],[1,"col-12","md:col-6","lg:col-3"],["for","liquidites",1,"block","font-medium","mb-2"],[1,"block","text-color-secondary"],["id","liquidites","formControlName","liquidites","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","creancesClients",1,"block","font-medium","mb-2"],["id","creancesClients","formControlName","creancesClients","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","valeurStocks",1,"block","font-medium","mb-2"],["id","valeurStocks","formControlName","valeurStocks","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","valeurEquipements",1,"block","font-medium","mb-2"],["id","valeurEquipements","formControlName","valeurEquipements","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],[1,"pi","pi-chart-bar","mr-2"],["for","dettesFournisseurs",1,"block","font-medium","mb-2"],["id","dettesFournisseurs","formControlName","dettesFournisseurs","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","emprunts",1,"block","font-medium","mb-2"],["id","emprunts","formControlName","emprunts","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","capitalPropre",1,"block","font-medium","mb-2"],["id","capitalPropre","formControlName","capitalPropre","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["header","Bilan personnel du promoteur"],[1,"text-lg","font-bold","border-bottom-1","surface-border","pb-2","mb-3"],[1,"pi","pi-wallet","mr-2"],["for","epargnes",1,"block","font-medium","mb-2"],["id","epargnes","formControlName","epargnes","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","valeurBiensDurables",1,"block","font-medium","mb-2"],["id","valeurBiensDurables","formControlName","valeurBiensDurables","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],[1,"pi","pi-shield","mr-2"],["for","libeleGarantie",1,"block","font-medium","mb-2"],["id","libeleGarantie","type","text","pInputText","","formControlName","libeleGarantie","placeholder","Ex: Hypoth\xE8que sur terrain, Nantissement v\xE9hicule...",1,"w-full"],["for","montantGarantie",1,"block","font-medium","mb-2"],["id","montantGarantie","formControlName","montantGarantie","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["header","R\xE9sultats actuels (ann\xE9e pr\xE9c\xE9dente)"],[1,"text-lg","font-bold","mb-3","border-bottom-1","surface-border","pb-2"],[1,"pi","pi-calendar","mr-2"],["for","chiffreAffaires",1,"block","font-medium","mb-2"],["id","chiffreAffaires","formControlName","chiffreAffaires","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","autresRevenusActuel",1,"block","font-medium","mb-2"],["id","autresRevenusActuel","formControlName","autresRevenus","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","coutMarchandises",1,"block","font-medium","mb-2"],["id","coutMarchandises","formControlName","coutMarchandises","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],[1,"pi","pi-exclamation-circle","mr-1"],["header","R\xE9sultats pr\xE9visionnels (apr\xE8s financement)"],[1,"pi","pi-trending-up","mr-2"],["for","chiffreAffairesPrev",1,"block","font-medium","mb-2"],["id","chiffreAffairesPrev","formControlName","chiffreAffaires","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","autresRevenusPrev",1,"block","font-medium","mb-2"],["id","autresRevenusPrev","formControlName","autresRevenus","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","coutMarchandisesPrev",1,"block","font-medium","mb-2"],["id","coutMarchandisesPrev","formControlName","coutMarchandises","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["header","Charges d'exploitation actuelles (ann\xE9e pr\xE9c\xE9dente)"],[1,"pi","pi-minus-circle","mr-2"],["for","coutTransportProduction",1,"block","font-medium","mb-2"],["id","coutTransportProduction","formControlName","coutTransportProduction","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisTransportPersonnel",1,"block","font-medium","mb-2"],["id","fraisTransportPersonnel","formControlName","fraisTransportPersonnel","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisManutention",1,"block","font-medium","mb-2"],["id","fraisManutention","formControlName","fraisManutention","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","montantAideExterne",1,"block","font-medium","mb-2"],["id","montantAideExterne","formControlName","montantAideExterne","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisHebergementRestauration",1,"block","font-medium","mb-2"],["id","fraisHebergementRestauration","formControlName","fraisHebergementRestauration","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","impots",1,"block","font-medium","mb-2"],["id","impots","formControlName","impots","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","loyers",1,"block","font-medium","mb-2"],["id","loyers","formControlName","loyers","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["header","Charges d'exploitation pr\xE9visionnelles (apr\xE8s financement)"],["for","coutTransportProductionPrev",1,"block","font-medium","mb-2"],["id","coutTransportProductionPrev","formControlName","coutTransportProduction","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisTransportPersonnelPrev",1,"block","font-medium","mb-2"],["id","fraisTransportPersonnelPrev","formControlName","fraisTransportPersonnel","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisManutentionPrev",1,"block","font-medium","mb-2"],["id","fraisManutentionPrev","formControlName","fraisManutention","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","montantAideExternePrev",1,"block","font-medium","mb-2"],["id","montantAideExternePrev","formControlName","montantAideExterne","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","fraisHebergementRestaurationPrev",1,"block","font-medium","mb-2"],["id","fraisHebergementRestaurationPrev","formControlName","fraisHebergementRestauration","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","impotsPrev",1,"block","font-medium","mb-2"],["id","impotsPrev","formControlName","impots","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["for","loyersPrev",1,"block","font-medium","mb-2"],["id","loyersPrev","formControlName","loyers","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],["header","Informations sur la demande de cr\xE9dit"],[1,"pi","pi-money-bill","mr-2"],["for","montantDemande",1,"block","font-medium","mb-2"],["id","montantDemande","formControlName","montantDemande","mode","currency","currency","GNF","locale","fr-FR",1,"w-full"],[1,"block","font-medium","mb-3"],[1,"pi","pi-calendar","mr-2","text-primary"],[1,"duration-grid-container","p-3","surface-ground","border-round","mb-3"],[1,"grid"],[1,"col-12","mb-2"],[1,"text-sm","text-color-secondary"],[1,"pi","pi-info-circle","mr-1"],[1,"flex","flex-wrap","gap-2","justify-content-start"],[1,"duration-card","cursor-pointer","p-3","border-round-lg","text-center","transition-all","duration-200",3,"ngClass"],[1,"col-12","mt-2"],[1,"col-12","mt-3"],[1,"flex","align-items-center","gap-3","p-3","surface-card","border-round","border-1","surface-border"],[1,"text-sm","font-medium","text-color-secondary","white-space-nowrap"],[1,"pi","pi-pencil","mr-1"],["formControlName","dureeMois","buttonLayout","horizontal","spinnerMode","horizontal","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus","suffix"," mois","inputStyleClass","text-center font-bold",3,"showButtons","min","max"],[1,"ml-auto",3,"value","severity"],[1,"p-4","bg-gradient-to-r","from-blue-50","to-indigo-50","border-round-lg","border-1","border-blue-200"],[1,"col-12","md:col-4"],[1,"text-color-secondary","text-sm","mb-1"],[1,"pi","pi-money-bill","mr-1"],[1,"text-xl","font-bold","text-900"],[1,"pi","pi-calendar","mr-1"],[1,"text-xl","font-bold","text-primary"],[1,"pi","pi-wallet","mr-1"],[1,"text-xl","font-bold","text-green-600"],[1,"col-12","mt-4"],[1,"pi","pi-map-marker","mr-2"],["for","delegation",1,"block","font-medium","mb-2"],["id","delegation","formControlName","delegation","optionLabel","libele","placeholder","S\xE9lectionner...",1,"w-full",3,"onChange","options"],["for","agence",1,"block","font-medium","mb-2"],["id","agence","formControlName","agence","optionLabel","libele","placeholder","S\xE9lectionner d'abord une d\xE9l\xE9gation...",1,"w-full",3,"onChange","options","disabled"],["for","pointVente",1,"block","font-medium","mb-2"],["id","pointVente","formControlName","pointVente","optionLabel","libele","placeholder","S\xE9lectionner d'abord une agence...",1,"w-full",3,"options","disabled"],["for","objetFinancement",1,"block","font-medium","mb-2"],["id","objetFinancement","pTextarea","","formControlName","objetFinancement","rows","4",1,"w-full",3,"autoResize"],[1,"duration-card","cursor-pointer","p-3","border-round-lg","text-center","transition-all","duration-200",3,"click","ngClass"],[1,"text-2xl","font-bold"],[1,"text-xs","opacity-80"],[1,"text-xs","mt-1",3,"ngClass"],["header","Personnes caution"],[1,"pi","pi-users","mr-2"],[1,"text-color-secondary","mb-4"],["for","cautionNom",1,"block","font-medium","mb-2"],["id","cautionNom","type","text","pInputText","","formControlName","nom",1,"w-full"],["for","cautionPrenom",1,"block","font-medium","mb-2"],["id","cautionPrenom","type","text","pInputText","","formControlName","prenom",1,"w-full"],["for","cautionTelephone",1,"block","font-medium","mb-2"],["id","cautionTelephone","type","text","pInputText","","formControlName","telephone",1,"w-full"],["for","cautionAge",1,"block","font-medium","mb-2"],["id","cautionAge","formControlName","age","suffix"," ans",1,"w-full",3,"showButtons","min","max"],["for","cautionActivite",1,"block","font-medium","mb-2"],["id","cautionActivite","type","text","pInputText","","formControlName","activite",1,"w-full"],["for","cautionProfession",1,"block","font-medium","mb-2"],["id","cautionProfession","type","text","pInputText","","formControlName","profession",1,"w-full"],["pButton","","pRipple","","type","button","label","Ajouter cette personne caution","icon","pi pi-plus",1,"p-button-success",3,"click"],["class","col-12",4,"ngIf"],[1,"pi","pi-list","mr-2"],["class","col-12",4,"ngFor","ngForOf"],["styleClass","mb-3"],["pTemplate","header"],["class","col-12 md:col-6 lg:col-4",4,"ngIf"],[1,"flex","align-items-center","justify-content-between","p-3"],[1,"font-bold"],["pButton","","pRipple","","type","button","icon","pi pi-trash","pTooltip","Supprimer",1,"p-button-rounded","p-button-danger","p-button-text",3,"click"],[1,"p-3","bg-yellow-50","border-round","border-1","border-yellow-200","text-center"],[1,"pi","pi-info-circle","mr-2"],["header","R\xE9sum\xE9 de votre demande de cr\xE9dit - Mise \xE0 jour"],[1,"col-12","md:col-6","mb-4"],["header","Informations du promoteur",3,"toggleable"],["styleClass","p-datatable-sm",3,"value","tableStyle"],["pTemplate","body"],["header","Informations de l'entreprise",3,"toggleable"],[1,"col-12","mb-4"],["header","Bilan financier",3,"toggleable"],[1,"text-lg","font-medium"],["header","Performance \xE9conomique",3,"toggleable"],["header","Charges d'exploitation",3,"toggleable"],["header","Demande de cr\xE9dit",3,"toggleable"],[1,"text-lg","font-medium","mb-2"],["styleClass","h-full"],[1,"text-justify"],["class","col-12 mb-4",4,"ngIf"],[1,"col-12","mt-4","flex","justify-content-center"],["pButton","","pRipple","","type","button","label","Mettre \xE0 jour la demande","icon","pi pi-save",1,"p-button-success","p-button-lg",3,"click","loading"],[1,"font-medium"],[3,"ngClass"],[3,"header","toggleable"],["class","col-12 md:col-6",4,"ngFor","ngForOf"],[3,"header"]],template:function(e,o){e&1&&b(0,Ot,5,3,"div",0)(1,Bi,25,16,"div",1),e&2&&(d("ngIf",o.state().loadingInitialData),l(),d("ngIf",!o.state().loadingInitialData))},dependencies:[ie,X,Z,ee,te,Ue,qe,Se,ae,pe,ue,le,oe,se,ve,me,de,_e,be,ge,fe,Ie,De,Me,Be,Ce,ye,He,Le,ke,Ve,Ee,Fe,we,Ne,he,ze,Oe,Re,Te,$e,je,Ae,Pe,Ge],styles:[".duration-grid-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--surface-ground) 0%,var(--surface-100) 100%)}.duration-grid-container[_ngcontent-%COMP%]   .duration-card[_ngcontent-%COMP%]{min-width:85px;transition:all .2s ease-in-out}.duration-grid-container[_ngcontent-%COMP%]   .duration-card[_ngcontent-%COMP%]:hover:not(.bg-primary){transform:translateY(-2px);border-color:var(--primary-color)!important;box-shadow:0 4px 12px rgba(var(--primary-color-rgb),.15)}.duration-grid-container[_ngcontent-%COMP%]   .duration-card.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,var(--primary-600) 100%);transform:scale(1.05)}.transition-all[_ngcontent-%COMP%]{transition-property:all}.duration-200[_ngcontent-%COMP%]{transition-duration:.2s}.bg-gradient-to-r[_ngcontent-%COMP%]{background:linear-gradient(to right,var(--blue-50),var(--indigo-50))}@media (max-width: 576px){.duration-grid-container[_ngcontent-%COMP%]   .duration-card[_ngcontent-%COMP%]{min-width:70px;padding:.5rem!important}.duration-grid-container[_ngcontent-%COMP%]   .duration-card[_ngcontent-%COMP%]   .text-2xl[_ngcontent-%COMP%]{font-size:1.25rem}}  .p-inputnumber-horizontal .p-inputnumber-input{text-align:center;font-weight:700}  .p-inputnumber-horizontal .p-inputnumber-button{background:var(--primary-color);border-color:var(--primary-color)}  .p-inputnumber-horizontal .p-inputnumber-button:hover{background:var(--primary-600);border-color:var(--primary-600)}"]})};export{mt as UdpateAnalyseCreditCompleteComponent};
