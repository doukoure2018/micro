{
  "version": 3,
  "sources": ["src/app/pages/auth/forgotpassword/forgotpassword.component.ts", "src/app/pages/auth/forgotpassword/forgotpassword.component.html"],
  "sourcesContent": ["import { AppConfigurator } from '@/layout/components/app.configurator';\r\nimport { UserService } from '@/service/user.service';\r\nimport { getFormData } from '@/utils/fileutils';\r\nimport { Component, DestroyRef, inject, signal } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { FormsModule, NgForm } from '@angular/forms';\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { MessageService } from 'primeng/api';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { InputGroup } from 'primeng/inputgroup';\r\nimport { InputGroupAddon } from 'primeng/inputgroupaddon';\r\nimport { InputText } from 'primeng/inputtext';\r\nimport { MessageModule } from 'primeng/message';\r\nimport { RippleModule } from 'primeng/ripple';\r\nimport { ToastModule } from 'primeng/toast';\r\n\r\n@Component({\r\n    selector: 'app-forgotpassword',\r\n    imports: [InputText, ButtonModule, RippleModule, RouterModule, InputGroup, InputGroupAddon, AppConfigurator, FormsModule, MessageModule, ToastModule],\r\n    templateUrl: './forgotpassword.component.html',\r\n    providers: [MessageService]\r\n})\r\nexport class ForgotpasswordComponent {\r\n    state = signal<{ loading: boolean; message: string | undefined; error: string | any }>({\r\n        loading: false,\r\n        message: undefined,\r\n        error: undefined\r\n    });\r\n\r\n    private router = inject(Router);\r\n    private destroyRef = inject(DestroyRef);\r\n    private userService = inject(UserService);\r\n\r\n    private messageService = inject(MessageService);\r\n\r\n    ngOnInit(): void {}\r\n\r\n    closeMessage = () => this.state.set({ loading: false, message: undefined, error: undefined });\r\n\r\n    resetPassword = (form: NgForm) => {\r\n        this.state.set({ loading: true, message: undefined, error: undefined });\r\n        console.log('form', form.value.email);\r\n        this.userService\r\n            .resetPassword$(getFormData(form.value, []))\r\n            .pipe(takeUntilDestroyed(this.destroyRef))\r\n            .subscribe({\r\n                next: (response) => {\r\n                    this.state.set({ loading: false, message: response.message, error: undefined });\r\n                    this.messageService.add({\r\n                        severity: 'success',\r\n                        summary: 'Success',\r\n                        detail: response.message\r\n                    });\r\n                },\r\n                error: (error) => {\r\n                    this.state.set({ loading: false, message: undefined, error });\r\n                    this.messageService.add({\r\n                        severity: 'error',\r\n                        summary: 'Error',\r\n                        detail: error\r\n                    });\r\n                },\r\n                complete: () => form.reset()\r\n            });\r\n    };\r\n\r\n    backToLogin() {\r\n        this.router.navigate(['/auth/login']);\r\n    }\r\n}\r\n", "<div class=\"min-h-screen flex flex-col bg-cover\" [style]=\"{ backgroundImage: 'url(/images/pages/login-bg.jpg)' }\">\r\n    <div class=\"self-center mt-auto mb-auto\">\r\n        <div\r\n            class=\"text-center z-50 flex flex-col border rounded-md border-surface bg-surface-0 dark:bg-surface-900 p-12\">\r\n            <span class=\"text-2xl font-semibold\">Reinitialisation de mot de passe</span>\r\n            <div class=\"text-muted-color px-12\">Saisissez votre addresse Email pour recevoir un email</div>\r\n            <div class=\"flex flex-col gap-4 mt-12\">\r\n                <form #form=\"ngForm\" (ngSubmit)=\"resetPassword(form)\">\r\n                    <p-input-group>\r\n                        <p-inputgroup-addon>\r\n                            <i class=\"pi pi-at\"></i>\r\n                        </p-inputgroup-addon>\r\n                        <input pInputText name=\"email\" ngModel #email=\"ngModel\" placeholder=\"Email\" required email />\r\n                        @if(email.invalid && email.dirty && email.touched && email.errors?.['required']){\r\n                        <p-message severity=\"error\" size=\"small\" styleClass=\"h-full w-full \">\r\n                            Email is required\r\n                        </p-message>\r\n                        }\r\n\r\n                        @if(email.invalid && email.dirty && email.touched && email.errors?.['email']){\r\n                        <p-message severity=\"error\" size=\"small\" styleClass=\"h-full w-full \">\r\n                            Email format is invalid.\r\n                        </p-message>\r\n                        }\r\n                    </p-input-group>\r\n                    <br>\r\n                    <p-input-group>\r\n                        <button [disabled]=\"form.invalid || state().loading\" type=\"submit\" pButton class=\"w-full\"\r\n                            label=\"Reset password\"></button>\r\n                    </p-input-group>\r\n                </form>\r\n                <p-input-group>\r\n                    <a href=\"http://localhost:8080/oauth2/authorize?response_type=code&client_id=client&scope=openid&redirect_uri=http://localhost:4200&code_challenge_method=S256&code_challenge=vesLhZA4cwKsKZAR7zvEJ9q3uI6dRM8nwna-IpuKkkk\"\r\n                        pButton class=\"w-full text-primary-500\" text label=\"BACK TO LOGIN\"></a>\r\n                </p-input-group>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<p-toast />\r\n<app-configurator simple />"],
  "mappings": "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",
  "names": []
}
