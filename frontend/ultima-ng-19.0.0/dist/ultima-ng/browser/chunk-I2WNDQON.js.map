{
  "version": 3,
  "sources": ["src/app/pages/dashboard/agent-credit/mise-en-place-credit/mise-en-place-credit.component.ts", "src/app/pages/dashboard/agent-credit/mise-en-place-credit/mise-en-place-credit.component.html"],
  "sourcesContent": ["import { UserService } from '@/service/user.service';\r\nimport { Component, DestroyRef, inject, signal } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\r\nimport { EMPTY, switchMap } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-mise-en-place-credit',\r\n    imports: [],\r\n    templateUrl: './mise-en-place-credit.component.html'\r\n})\r\nexport class MiseEnPlaceCreditComponent {\r\n    state = signal<{\r\n        numeroMembre?: string;\r\n        loading: boolean;\r\n        message: string | undefined;\r\n        error: string | any;\r\n    }>({\r\n        loading: false,\r\n        message: undefined,\r\n        error: undefined\r\n    });\r\n\r\n    private router = inject(Router);\r\n    private destroyRef = inject(DestroyRef);\r\n    private activatedRouter = inject(ActivatedRoute);\r\n    private userService = inject(UserService);\r\n\r\n    ngOnInit(): void {\r\n        this.redirectCredit();\r\n    }\r\n\r\n    private redirectCredit(): void {\r\n        this.activatedRouter.paramMap\r\n            .pipe(\r\n                switchMap((params: ParamMap) => {\r\n                    const numeroMembre = params.get('numeroMembre');\r\n                    console.log('processus de verification de numeroMembre');\r\n\r\n                    console.log('numeroMembre', numeroMembre);\r\n                    if (numeroMembre) {\r\n                        const existMembre = this.userService.existNumeroMembre$(+numeroMembre);\r\n                        this.state.set({ numeroMembre: numeroMembre, loading: true, message: undefined, error: undefined });\r\n                        if (existMembre) {\r\n                            return this.router.navigate(['/dashboards/agent-credit/start-credit/', numeroMembre]);\r\n                            //return this.router.navigate(['/dashboards/fiche-signaletique/', numeroMembre]);\r\n                        } else {\r\n                            return this.router.navigate(['/dashboards/agent-credit/start-credit/', numeroMembre]);\r\n                        }\r\n                    } else {\r\n                        this.state.set({ ...this.state(), loading: false, message: undefined, error: 'Invalide Code AgenceId or not exist' });\r\n                        return EMPTY;\r\n                    }\r\n                }),\r\n                takeUntilDestroyed(this.destroyRef)\r\n            )\r\n            .subscribe();\r\n    }\r\n}\r\n", "<p>mise-en-place-credit works!</p>\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWM,IAAO,6BAAP,MAAO,4BAA0B;EACnC,QAAQ,OAKL;IACC,SAAS;IACT,SAAS;IACT,OAAO;GACV;EAEO,SAAS,OAAO,MAAM;EACtB,aAAa,OAAO,UAAU;EAC9B,kBAAkB,OAAO,cAAc;EACvC,cAAc,OAAO,WAAW;EAExC,WAAQ;AACJ,SAAK,eAAc;EACvB;EAEQ,iBAAc;AAClB,SAAK,gBAAgB,SAChB,KACG,UAAU,CAAC,WAAoB;AAC3B,YAAM,eAAe,OAAO,IAAI,cAAc;AAC9C,cAAQ,IAAI,2CAA2C;AAEvD,cAAQ,IAAI,gBAAgB,YAAY;AACxC,UAAI,cAAc;AACd,cAAM,cAAc,KAAK,YAAY,mBAAmB,CAAC,YAAY;AACrE,aAAK,MAAM,IAAI,EAAE,cAA4B,SAAS,MAAM,SAAS,QAAW,OAAO,OAAS,CAAE;AAClG,YAAI,aAAa;AACb,iBAAO,KAAK,OAAO,SAAS,CAAC,0CAA0C,YAAY,CAAC;QAExF,OAAO;AACH,iBAAO,KAAK,OAAO,SAAS,CAAC,0CAA0C,YAAY,CAAC;QACxF;MACJ,OAAO;AACH,aAAK,MAAM,IAAI,iCAAK,KAAK,MAAK,IAAf,EAAmB,SAAS,OAAO,SAAS,QAAW,OAAO,sCAAqC,EAAE;AACpH,eAAO;MACX;IACJ,CAAC,GACD,mBAAmB,KAAK,UAAU,CAAC,EAEtC,UAAS;EAClB;;qCA9CS,6BAA0B;EAAA;yEAA1B,6BAA0B,WAAA,CAAA,CAAA,0BAAA,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,UAAA,SAAA,oCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACXvC,MAAA,yBAAA,GAAA,GAAA;AAAG,MAAA,iBAAA,GAAA,6BAAA;AAA2B,MAAA,uBAAA;;;;;6EDWjB,4BAA0B,EAAA,WAAA,8BAAA,UAAA,+FAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
