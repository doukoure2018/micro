import{a as be,b as xe}from"./chunk-VX6SOAZL.js";import{b as he}from"./chunk-5ZG53BB4.js";import"./chunk-BYNX6VSG.js";import{a as ve,b as Ce}from"./chunk-4JPZ5GKU.js";import{b as ge}from"./chunk-IDKLANHK.js";import{a as fe,b as _e}from"./chunk-GBSAZIIF.js";import"./chunk-5YYAURUY.js";import"./chunk-3WTE2CKQ.js";import{a as ce,b as me}from"./chunk-BGHZ5NVU.js";import"./chunk-XYTTGGFW.js";import"./chunk-ZNT52ZF3.js";import"./chunk-Z7KSDRLV.js";import"./chunk-N4Q6Z3MW.js";import{a as ue,b as pe}from"./chunk-3BEM77IG.js";import{d as K}from"./chunk-UCSGE5ZL.js";import"./chunk-2O7XYKW4.js";import{a as I}from"./chunk-YTFCGSG6.js";import{a as le}from"./chunk-R2ZYXRFE.js";import"./chunk-NRZ4QNP7.js";import"./chunk-GFZUU5ZD.js";import"./chunk-BODZH67C.js";import"./chunk-KR7F45VC.js";import{e as re,g as se}from"./chunk-XKXBFP6V.js";import{a as H,b as J}from"./chunk-ULM4QL4Q.js";import{oa as F,sa as j}from"./chunk-3YZBLOIS.js";import{b as Q,e as X,f as Y,h as ee,i as te,j as ne,r as ie,s as oe,x as ae}from"./chunk-2I6ZAGC7.js";import{b as de}from"./chunk-FVCMZ6IK.js";import"./chunk-VDYO34A5.js";import"./chunk-Y2QT2WK5.js";import"./chunk-S35HUXPS.js";import{l as $,n as Z,y as O}from"./chunk-GZWLZB4Q.js";import{Bb as _,Gb as s,Hb as a,Ib as g,Mb as A,Rb as S,Sb as b,Va as l,_ as V,bc as y,cc as d,dc as x,ec as E,fa as C,fc as W,ga as h,gb as B,ic as D,jc as T,kc as P,lc as z,ma as N,mb as u,mc as w,nc as G,va as q,vb as f,yb as L}from"./chunk-MKA3N2SS.js";import{a as c,b as m}from"./chunk-GAL4ENT6.js";var R=()=>[],Se=()=>({width:"50px",height:"50px"}),ye=i=>({"md:col-span-6":i});function we(i,e){i&1&&(s(0,"div",6),g(1,"p-progressSpinner"),a()),i&2&&(l(),L(w(2,Se)))}function Ie(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a()()),i&2){let t=e.$implicit;l(2),x(t==null?null:t.name)}}function Ve(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),s(3,"span",43),d(4),a()()),i&2){let t=e.$implicit;l(2),x(t.name),l(2),E("(ID: ",t.role_id,")")}}function Ae(i,e){i&1&&g(0,"p-message",14)}function De(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a()()),i&2){let t=e.$implicit;l(2),x(t==null?null:t.label)}}function Te(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),s(3,"span",43),d(4),a()()),i&2){let t=e.$implicit;l(2),x(t.label),l(2),E("(",t.value,")")}}function Pe(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a()()),i&2){let t=e.$implicit;l(2),x(t==null?null:t.libele)}}function Re(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),s(3,"span",43),d(4),a()()),i&2){let t=e.$implicit;l(2),x(t.libele),l(2),E("(ID: ",t.id,")")}}function Ue(i,e){i&1&&g(0,"p-message",47)}function Me(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a()()),i&2){let t=e.$implicit;l(2),x(t==null?null:t.libele)}}function Fe(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),s(3,"span",43),d(4),a()()),i&2){let t=e.$implicit;l(2),x(t.libele),l(2),E("(ID: ",t.id,")")}}function ke(i,e){i&1&&g(0,"p-message",50)}function Ne(i,e){if(i&1){let t=A();s(0,"div",9)(1,"label",48),d(2," Agence * "),a(),s(3,"p-dropdown",49),P("ngModelChange",function(r){C(t);let o=b(2);return T(o.selectedAgence,r)||(o.selectedAgence=r),h(r)}),S("onChange",function(r){C(t);let o=b(2);return h(o.onAgenceChange(r.value))}),u(4,Me,3,1,"ng-template",12)(5,Fe,5,2,"ng-template",13),a(),u(6,ke,1,0,"p-message",50),a()}if(i&2){let t=b(2),n=y(10);l(3),D("ngModel",t.selectedAgence),f("options",t.state().agences||w(7,R))("filter",!0)("showClear",!0)("disabled",t.state().submitting||t.state().loadingAgences||!t.state().selectedDelegationId)("loading",t.state().loadingAgences),l(3),_(n.controls&&n.controls.agence&&n.controls.agence.invalid&&n.controls.agence.touched?6:-1)}}function qe(i,e){i&1&&(s(0,"span",52),d(1,"(Requis pour AGENT_CORRECTEUR)"),a())}function Be(i,e){if(i&1&&(s(0,"span",43),d(1),a()),i&2){let t=b().$implicit;l(),E("(",t.code,")")}}function Le(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),u(3,Be,2,1,"span",55),a()),i&2){let t=e.$implicit;l(2),x(t==null?null:t.libele),l(),f("ngIf",t==null?null:t.code)}}function We(i,e){if(i&1&&(s(0,"div",42)(1,"span"),d(2),a(),s(3,"span",43),d(4),a()()),i&2){let t=e.$implicit;l(2),x(t.libele),l(2),W("(",t.code," - ID: ",t.id,")")}}function ze(i,e){i&1&&g(0,"p-message",54)}function Ge(i,e){if(i&1){let t=A();s(0,"div",17)(1,"label",51),d(2," Point de Vente * "),u(3,qe,2,0,"span",52),a(),s(4,"p-dropdown",53),P("ngModelChange",function(r){C(t);let o=b(2);return T(o.selectedPointVente,r)||(o.selectedPointVente=r),h(r)}),S("onChange",function(r){C(t);let o=b(2);return h(o.onPointVenteChange(r.value))}),u(5,Le,4,2,"ng-template",12)(6,We,5,3,"ng-template",13),a(),u(7,ze,1,0,"p-message",54),a()}if(i&2){let t,n=b(2),r=y(10);l(3),_(((t=n.state().selectedRole)==null?null:t.name)==="AGENT_CORRECTEUR"?3:-1),l(),D("ngModel",n.selectedPointVente),f("options",n.state().pointVentes||w(8,R))("filter",!0)("showClear",!0)("disabled",n.state().submitting||n.state().loadingPointVentes||!n.state().selectedAgenceId)("loading",n.state().loadingPointVentes),l(3),_(r.controls&&r.controls.pointVente&&r.controls.pointVente.invalid&&r.controls.pointVente.touched?7:-1)}}function $e(i,e){if(i&1){let t=A();s(0,"div",44)(1,"label",45),d(2," D\xE9l\xE9gation * "),a(),s(3,"p-dropdown",46),P("ngModelChange",function(r){C(t);let o=b();return T(o.selectedDelegation,r)||(o.selectedDelegation=r),h(r)}),S("onChange",function(r){C(t);let o=b();return h(o.onDelegationChange(r.value))}),u(4,Pe,3,1,"ng-template",12)(5,Re,5,2,"ng-template",13),a(),u(6,Ue,1,0,"p-message",47),a(),u(7,Ne,7,8,"div",9)(8,Ge,8,9,"div",17)}if(i&2){let t,n,r,o=b(),p=y(10);f("ngClass",G(10,ye,o.shouldShowAgenceField((t=o.state().selectedRole)==null?null:t.name))),l(3),D("ngModel",o.selectedDelegation),f("options",o.state().delegations||w(12,R))("filter",!0)("showClear",!0)("disabled",o.state().submitting||o.state().loadingDelegations)("loading",o.state().loadingDelegations),l(3),_(p.controls&&p.controls.delegation&&p.controls.delegation.invalid&&p.controls.delegation.touched?6:-1),l(),_(o.shouldShowAgenceField((n=o.state().selectedRole)==null?null:n.name)?7:-1),l(),_(o.shouldShowPointVenteField((r=o.state().selectedRole)==null?null:r.name)?8:-1)}}function Ze(i,e){i&1&&g(0,"p-message",20)}function Oe(i,e){i&1&&g(0,"p-message",23)}function Ke(i,e){i&1&&g(0,"p-message",26)}function je(i,e){i&1&&g(0,"p-message",29)}function He(i,e){i&1&&g(0,"p-message",34)}function Je(i,e){if(i&1&&(s(0,"div",41)(1,"p")(2,"strong"),d(3,"Role s\xE9lectionn\xE9:"),a(),d(4),a(),s(5,"p")(6,"strong"),d(7,"Service:"),a(),d(8),a(),s(9,"p")(10,"strong"),d(11,"D\xE9l\xE9gation ID:"),a(),d(12),a(),s(13,"p")(14,"strong"),d(15,"Agence ID:"),a(),d(16),a(),s(17,"p")(18,"strong"),d(19,"Point Vente ID:"),a(),d(20),a()()),i&2){let t,n=b();l(4),E(" ",(t=n.state().selectedRole)==null?null:t.name,""),l(4),E(" ",n.state().selectedServiceValue||"Non s\xE9lectionn\xE9",""),l(4),E(" ",n.state().selectedDelegationId||"Non s\xE9lectionn\xE9"," "),l(4),E(" ",n.state().selectedAgenceId||"Non s\xE9lectionn\xE9",""),l(4),E(" ",n.state().selectedPointVenteId||"Non s\xE9lectionn\xE9"," ")}}var Ee=class i{selectedDelegation=null;selectedAgence=null;selectedPointVente=null;selectedService=null;services=[{label:"Direction Syst\xE8me Information",value:"DSIG"},{label:"Direction Exploitation",value:"DE"},{label:"Direction Inspection",value:"DI"},{label:"Direction Financi\xE8re",value:"DF"},{label:"Direction Commerciale",value:"DC"},{label:"Direction Resource Humaine",value:"DRH"},{label:"Logistique",value:"Logistique"},{label:"Contr\xF4le",value:"Contr\xF4le"},{label:"Audit",value:"Audit"},{label:"Partenariat",value:"Partenariat"},{label:"Societariat",value:"Societariat"}];state=q({loading:!1,submitting:!1,loadingDelegations:!1,loadingAgences:!1,loadingPointVentes:!1,message:void 0,error:void 0,selectedServiceValue:void 0});router=V(K);destroyRef=V(N);userService=V(de);messageService=V(F);ngOnInit(){this.loadRolesUsers()}loadRolesUsers(){this.state.update(e=>m(c({},e),{loading:!0,message:void 0,error:void 0})),this.userService.listRoles$().pipe(I(this.destroyRef)).subscribe({next:e=>{this.state.update(t=>m(c({},t),{loading:!1,roles:e.data.roles,message:void 0,error:void 0}))},error:e=>{console.error("Error loading roles:",e),this.state.update(t=>m(c({},t),{loading:!1,roles:void 0,message:void 0,error:e})),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load roles",life:3e3})}})}onServiceChange(e){this.state.update(t=>m(c({},t),{selectedServiceValue:e?.value}))}onRoleChange(e){this.state.update(t=>m(c({},t),{selectedRole:e,delegations:void 0,agences:void 0,pointVentes:void 0,selectedDelegationId:void 0,selectedAgenceId:void 0,selectedPointVenteId:void 0})),this.selectedDelegation=null,this.selectedAgence=null,this.selectedPointVente=null,this.shouldShowLocationFields(e.name)&&this.loadDelegations()}validateEmail(e){if(!e)return!1;e=e.trim();let t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,n=/^.+@.+\..+$/,r=/^[a-zA-Z0-9]([a-zA-Z0-9._+-]*[a-zA-Z0-9])?@[a-zA-Z0-9]([a-zA-Z0-9.-]*[a-zA-Z0-9])?\.[a-zA-Z]{2,}$/;return n.test(e)}validateEmailBasic(e){if(!e||(e=e.trim(),(e.match(/@/g)||[]).length!==1)||e.startsWith("@")||e.endsWith("@"))return!1;let[n,r]=e.split("@");if(!n||!r||!r.includes(".")||r.startsWith(".")||r.endsWith("."))return!1;let o=r.lastIndexOf(".");return!(r.substring(o+1).length<2)}canSubmitForm(){return!0}shouldShowLocationFields(e){return e==="AGENT_CREDIT"||e==="CAISSE"||e==="AGENT_CORRECTEUR"||e==="DA"||e==="DR"||e==="RA"}shouldShowAgenceField(e){return e==="AGENT_CREDIT"||e==="CAISSE"||e==="AGENT_CORRECTEUR"||e==="DA"||e==="RA"}shouldShowPointVenteField(e){return e==="AGENT_CREDIT"||e==="CAISSE"||e==="AGENT_CORRECTEUR"}loadDelegations(){this.state.update(e=>m(c({},e),{loadingDelegations:!0})),this.userService.getAllDelegation$().pipe(I(this.destroyRef)).subscribe({next:e=>{this.state.update(t=>m(c({},t),{delegations:e.data?.delegations||e.data,loadingDelegations:!1}))},error:e=>{this.state.update(t=>m(c({},t),{loadingDelegations:!1})),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load delegations"})}})}onDelegationChange(e){if(!e){this.state.update(n=>m(c({},n),{selectedDelegationId:void 0,agences:void 0,pointVentes:void 0,selectedAgenceId:void 0,selectedPointVenteId:void 0})),this.selectedAgence=null,this.selectedPointVente=null;return}let t=e.id;this.state.update(n=>m(c({},n),{selectedDelegationId:t,agences:void 0,pointVentes:void 0,selectedAgenceId:void 0,selectedPointVenteId:void 0})),this.selectedAgence=null,this.selectedPointVente=null,console.log("Selected Delegation:",e),console.log("Delegation ID:",t),this.state().selectedRole&&this.shouldShowAgenceField(this.state().selectedRole?.name)&&this.loadAgencesByDelegation(t)}loadAgencesByDelegation(e){this.state.update(t=>m(c({},t),{loadingAgences:!0})),this.userService.getAllAgenceByDelegationId$(e).pipe(I(this.destroyRef)).subscribe({next:t=>{this.state.update(n=>m(c({},n),{agences:t.data?.agences||t.data,loadingAgences:!1}))},error:t=>{this.state.update(n=>m(c({},n),{loadingAgences:!1})),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load agences"})}})}onAgenceChange(e){if(!e){this.state.update(n=>m(c({},n),{selectedAgenceId:void 0,pointVentes:void 0,selectedPointVenteId:void 0})),this.selectedPointVente=null;return}let t=e.id;this.state.update(n=>m(c({},n),{selectedAgenceId:t,pointVentes:void 0,selectedPointVenteId:void 0})),this.selectedPointVente=null,console.log("Selected Agence:",e),console.log("Agence ID:",t),this.state().selectedRole&&this.shouldShowPointVenteField(this.state().selectedRole?.name)&&this.loadPointVentesByAgence(t)}onPointVenteChange(e){if(!e){this.state.update(n=>m(c({},n),{selectedPointVenteId:void 0}));return}let t=e.id;this.state.update(n=>m(c({},n),{selectedPointVenteId:t})),console.log("Selected Point Vente:",e),console.log("Point Vente ID:",t)}loadPointVentesByAgence(e){this.state.update(t=>m(c({},t),{loadingPointVentes:!0})),this.userService.getAllPointventesByAgenceId$(e).pipe(I(this.destroyRef)).subscribe({next:t=>{this.state.update(n=>m(c({},n),{pointVentes:t.data?.pointVentes||t.data,loadingPointVentes:!1}))},error:t=>{this.state.update(n=>m(c({},n),{loadingPointVentes:!1})),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load point ventes"})}})}createAccout(e){if(e.invalid){this.messageService.add({severity:"error",summary:"Error",detail:"Please fill all required fields correctly",life:3e3});return}if(e.value.email&&!this.validateEmail(e.value.email)){this.messageService.add({severity:"error",summary:"Email invalide",detail:"Veuillez entrer une adresse email valide (ex: nom.prenom@domain.com)",life:5e3});return}this.state.update(v=>m(c({},v),{submitting:!0}));let t=e.value.role;if(!t){this.messageService.add({severity:"error",summary:"Error",detail:"Please select a valid role",life:3e3}),this.state.update(v=>m(c({},v),{submitting:!1}));return}let n=this.state().selectedDelegationId||this.selectedDelegation?.id||null,r=this.state().selectedAgenceId||this.selectedAgence?.id||null,o=this.state().selectedPointVenteId||this.selectedPointVente?.id||null,p=this.state().selectedServiceValue||this.selectedService?.value||null;console.log("Creating user with location IDs:",{delegationId:n,agenceId:r,pointventeId:o,service:p,role:t.name});let U=t.name;if(this.shouldShowLocationFields(U)){if(!n){this.messageService.add({severity:"error",summary:"Error",detail:"D\xE9l\xE9gation is required for this role",life:3e3}),this.state.update(v=>m(c({},v),{submitting:!1}));return}if(this.shouldShowAgenceField(U)&&!r){this.messageService.add({severity:"error",summary:"Error",detail:"Agence is required for this role",life:3e3}),this.state.update(v=>m(c({},v),{submitting:!1}));return}if(this.shouldShowPointVenteField(U)&&!o){this.messageService.add({severity:"error",summary:"Error",detail:"Point de vente is required for this role",life:3e3}),this.state.update(v=>m(c({},v),{submitting:!1}));return}}let k={username:e.value.username,firstName:e.value.firstName,lastName:e.value.lastName,email:e.value.email?.trim(),phone:e.value.phone,password:e.value.password,bio:e.value.bio,service:p,roleName:t.name,roleId:t.role_id,delegationId:n,agenceId:r,pointventeId:o};console.log("Final user data to submit:",k),this.userService.createAccount$(k).pipe(I(this.destroyRef)).subscribe({next:v=>{this.messageService.add({severity:"success",summary:"Success",detail:"User account created successfully",life:3e3}),this.state.update(M=>m(c({},M),{submitting:!1})),e.resetForm(),this.selectedDelegation=null,this.selectedAgence=null,this.selectedPointVente=null,this.selectedService=null,this.router.navigate(["/dashboards"])},error:v=>{console.error("Error creating user:",v),this.messageService.add({severity:"error",summary:"Error",detail:v.message||"Failed to create user account",life:3e3}),this.state.update(M=>m(c({},M),{submitting:!1}))}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["app-create-user"]],features:[z([F])],decls:64,vars:31,consts:[["userForm","ngForm"],[1,"card"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-bold","mb-6","block"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-2"],[1,"text-surface-900","dark:text-surface-0","font-medium","text-xl","mb-4"],[1,"flex","justify-center","mb-4"],[1,"col-span-12","lg:col-span-10"],[3,"ngSubmit"],[1,"mb-6","col-span-12","md:col-span-6"],["for","role",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["ngModel","","name","role","optionLabel","name","filterBy","name","required","","placeholder","Selectionner un role","styleClass","w-full","dataKey","role_id","appendTo","body",3,"onChange","options","filter","showClear","disabled"],["pTemplate","selectedItem"],["pTemplate","item"],["severity","error","text","Role is required"],["for","service",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["name","service","optionLabel","label","filterBy","label","placeholder","S\xE9lectionner un service","styleClass","w-full","dataKey","value","appendTo","body",3,"ngModelChange","onChange","ngModel","options","filter","showClear","disabled"],[1,"mb-6","col-span-12"],["for","username",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pInputText","","ngModel","","name","username","id","username","type","text","required","","placeholder","Entrez le nom d'utilisateur",1,"w-full",3,"disabled"],["severity","error","text","Username is required","styleClass","mt-2 w-full"],["for","firstName",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pInputText","","ngModel","","name","firstName","id","firstName","type","text","required","",1,"w-full",3,"disabled"],["severity","error","text","First name is required"],["for","lastName",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pInputText","","ngModel","","name","lastName","id","lastName","type","text","required","",1,"w-full",3,"disabled"],["severity","error","text","Last name is required"],["for","email",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pInputText","","ngModel","","name","email","id","email","type","email","required","","email","",1,"w-full",3,"disabled"],["severity","error","text","Valid email is required"],["for","phone",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pInputText","","ngModel","","name","phone","id","phone","type","text",1,"w-full",3,"disabled"],["for","password",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["ngModel","","name","password","id","password","required","","styleClass","w-full",3,"toggleMask","disabled"],["severity","error","text","Password is required"],["for","bio",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["pTextarea","","ngModel","","name","bio","id","bio","rows","5",1,"w-full",3,"autoResize","disabled"],[1,"col-span-12"],[1,"flex","gap-3"],["pButton","","pRipple","","type","submit","label","Enregister","icon","pi pi-save",1,"w-auto","mt-3",3,"loading","disabled"],["pButton","","pRipple","","type","button","label","Annuler","icon","pi pi-times",1,"p-button-secondary","w-auto","mt-3",3,"click","disabled"],[1,"mt-4","p-3","bg-gray-100","dark:bg-gray-800","rounded","text-xs"],[1,"flex","items-center"],[1,"ml-2","text-xs","text-gray-500"],[1,"mb-6","col-span-12",3,"ngClass"],["for","delegation",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["name","delegation","optionLabel","libele","filterBy","libele","required","","placeholder","S\xE9lectionner une d\xE9l\xE9gation","styleClass","w-full","dataKey","id","appendTo","body",3,"ngModelChange","onChange","ngModel","options","filter","showClear","disabled","loading"],["severity","error","text","D\xE9l\xE9gation is required"],["for","agence",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],["name","agence","optionLabel","libele","filterBy","libele","required","","placeholder","S\xE9lectionner une agence","styleClass","w-full","dataKey","id","appendTo","body",3,"ngModelChange","onChange","ngModel","options","filter","showClear","disabled","loading"],["severity","error","text","Agence is required"],["for","pointVente",1,"font-medium","text-surface-900","dark:text-surface-0","mb-2","block"],[1,"text-blue-500","text-sm"],["name","pointVente","optionLabel","libele","filterBy","libele","required","","placeholder","S\xE9lectionner un point de vente","styleClass","w-full","dataKey","id","appendTo","body",3,"ngModelChange","onChange","ngModel","options","filter","showClear","disabled","loading"],["severity","error","text","Point de vente is required"],["class","ml-2 text-xs text-gray-500",4,"ngIf"]],template:function(t,n){if(t&1){let r=A();s(0,"div",1)(1,"span",2),d(2," Formulaire de Cr\xE9ation de Compte "),a(),s(3,"div",3)(4,"div",4)(5,"div",5),d(6,"Profil Utilisateur"),a(),u(7,we,2,3,"div",6),a(),s(8,"div",7)(9,"form",8,0),S("ngSubmit",function(){C(r);let p=y(10);return h(n.createAccout(p))}),s(11,"div",3)(12,"div",9)(13,"label",10),d(14," Roles * "),a(),s(15,"p-dropdown",11),S("onChange",function(p){return C(r),h(n.onRoleChange(p.value))}),u(16,Ie,3,1,"ng-template",12)(17,Ve,5,2,"ng-template",13),a(),u(18,Ae,1,0,"p-message",14),a(),s(19,"div",9)(20,"label",15),d(21," Service "),a(),s(22,"p-dropdown",16),P("ngModelChange",function(p){return C(r),T(n.selectedService,p)||(n.selectedService=p),h(p)}),S("onChange",function(p){return C(r),h(n.onServiceChange(p.value))}),u(23,De,3,1,"ng-template",12)(24,Te,5,2,"ng-template",13),a()(),u(25,$e,9,13),s(26,"div",17)(27,"label",18),d(28," Nom d'utilisateur * "),a(),g(29,"input",19),u(30,Ze,1,0,"p-message",20),a(),s(31,"div",9)(32,"label",21),d(33," Nom * "),a(),g(34,"input",22),u(35,Oe,1,0,"p-message",23),a(),s(36,"div",9)(37,"label",24),d(38," Prenom * "),a(),g(39,"input",25),u(40,Ke,1,0,"p-message",26),a(),s(41,"div",9)(42,"label",27),d(43," Email * "),a(),g(44,"input",28),u(45,je,1,0,"p-message",29),a(),s(46,"div",9)(47,"label",30),d(48," Contact "),a(),g(49,"input",31),a(),s(50,"div",9)(51,"label",32),d(52," Mot de passe * "),a(),g(53,"p-password",33),u(54,He,1,0,"p-message",34),a(),s(55,"div",17)(56,"label",35),d(57," Bio "),a(),g(58,"textarea",36),a(),s(59,"div",37)(60,"div",38),g(61,"button",39),s(62,"button",40),S("click",function(){return C(r),y(10).resetForm(),h(n.selectedService=null)}),a()(),u(63,Je,21,5,"div",41),a()()()()()()}if(t&2){let r,o=y(10);l(7),_(n.state().submitting?7:-1),l(8),f("options",n.state().roles||w(30,R))("filter",!0)("showClear",!0)("disabled",n.state().submitting||n.state().loading),l(3),_(o.controls&&o.controls.role&&o.controls.role.invalid&&o.controls.role.touched?18:-1),l(4),D("ngModel",n.selectedService),f("options",n.services)("filter",!0)("showClear",!0)("disabled",n.state().submitting),l(3),_(n.state().selectedRole&&n.shouldShowLocationFields((r=n.state().selectedRole)==null?null:r.name)?25:-1),l(4),f("disabled",n.state().submitting),l(),_(o.controls.username&&o.controls.username.invalid&&o.controls.username.touched?30:-1),l(4),f("disabled",n.state().submitting),l(),_(o.controls&&o.controls.firstName&&o.controls.firstName.invalid&&o.controls.firstName.touched?35:-1),l(4),f("disabled",n.state().submitting),l(),_(o.controls&&o.controls.lastName&&o.controls.lastName.invalid&&o.controls.lastName.touched?40:-1),l(4),f("disabled",n.state().submitting),l(),_(o.controls&&o.controls.email&&o.controls.email.invalid&&o.controls.email.touched?45:-1),l(4),f("disabled",n.state().submitting),l(4),f("toggleMask",!0)("disabled",n.state().submitting),l(),_(o.controls&&o.controls.password&&o.controls.password.invalid&&o.controls.password.touched?54:-1),l(4),f("autoResize",!0)("disabled",n.state().submitting),l(3),f("loading",n.state().submitting)("disabled",o&&o.invalid||n.state().submitting),l(),f("disabled",n.state().submitting),l(),_(n.state().selectedRole?63:-1)}},dependencies:[O,$,Z,le,Ce,ve,he,j,ae,ne,Q,X,Y,ie,oe,te,ee,se,re,ge,J,H,_e,fe,pe,ue,xe,be,me,ce],encapsulation:2})};export{Ee as CreateUserComponent};
